<!--
RSS generated by JIRA (8.3.4#803005-sha1:1f96e09b3c60279a408a2ae47be3c745f571388b) at Thu Sep 16 01:51:33 UTC 2021

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+EMAIL+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="121" total="121"/>
                <build-info>
            <version>8.3.4</version>
            <build-number>803005</build-number>
            <build-date>13-09-2019</build-date>
        </build-info>

<item>
            <title>[EMAIL-191] MultiPartEmail attach( final DataSource ds, ...) closes the inputstream in data source ds, before reading it.</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-191</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;We are creating watermarked pdf&apos;s and send them on-the-fly as email attachments. The pdf is created in a separate thread and piped into a PipedInputStream.&lt;/p&gt;

&lt;p&gt;This runs into a Pipe closed IOException, because &lt;tt&gt;MultiPartEmail attach( final DataSource ds, final String name, final String description)&lt;/tt&gt; closes the inputstream in data source ds, before reading it.&lt;/p&gt;

&lt;p&gt;Comment say&apos;s that this is due to windows file locking&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Expected behavior&lt;/b&gt;: The input stream is read before closing.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Workaround&lt;/b&gt;: Buffer the Stream into a ByteArrayInputStream. (This has the disadvantage that we have a high memory load, due to prepared, but not yet sent attachments.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Minimum solution&lt;/b&gt;: Document the problem in the java doc.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Optimal solution&lt;/b&gt;: It is not really clear to me, what the file locking problem is: Either provide two alternative methods for Files and InputStreams. Or improve the file handling.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Tested with email-commons 1.5 in tomcat 7.0.x on Windows and Linux.&lt;/p&gt;

&lt;p&gt;The problem is quite straight forward visible in source code &lt;tt&gt;.org.apache.commons.mail.MultiPartEmail&lt;/tt&gt; line 420 . Therefore I abstain from constructing a self contained example.&lt;/p&gt;</environment>
        <key id="13306080">EMAIL-191</key>
            <summary>MultiPartEmail attach( final DataSource ds, ...) closes the inputstream in data source ds, before reading it.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Wallenstein61">Michael Breu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 May 2020 07:12:01 +0000</created>
                <updated>Wed, 20 May 2020 07:12:01 +0000</updated>
                                            <version>1.5</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0exnk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-189] if Korean language is included in attachment file name, attachment file name is broken.</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-189</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>
&lt;p&gt;if Korean language is included in attachment file name, attachment file name is broken.&lt;/p&gt;

&lt;p&gt;ex) &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Attachment name&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;b&gt;attachment name :&lt;/b&gt; &#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;.txt&lt;br/&gt;
&lt;b&gt;actual received attachment name in gmail :&lt;/b&gt; =&lt;em&gt;UTF-8_Q&lt;/em&gt;=ED=95=9C=EA=B8=80testfile=ED=95=9C=EA=B8=80_= =&lt;em&gt;UTF-8_Q&lt;/em&gt;=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=80testfil_= =&lt;em&gt;UTF-8_Q_e=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=80=E&lt;/em&gt;__ __&lt;em&gt;filename_3=&lt;/em&gt;&lt;em&gt;D=95=9.txt&lt;/em&gt;=&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Debug mode&amp;#93;&lt;/span&gt;&lt;br/&gt;
Content-Type: text/plain; charset=UTF-8; &lt;br/&gt;
	name*0=&quot;=?UTF-8?Q?=ED=95=9C=EA=B8=80testfile=ED=95=9C=EA=B8=80?=&lt;br/&gt;
 =?U&quot;; &lt;br/&gt;
	name*1=&quot;TF-8?Q?=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=8&quot;; &lt;br/&gt;
	name*2=&quot;0testfil?=&lt;br/&gt;
 =?UTF-8?Q?e=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=80=E&quot;; &lt;br/&gt;
	name*3=&quot;D=95=9C?= =?UTF-8?Q?=EA=B8=80=ED=95=9C=EA=B8=80tes?=&lt;br/&gt;
 =?UTF-8&quot;; &lt;br/&gt;
	name*4=&quot;?Q?tfile=ED=95=9C?=&lt;br/&gt;
 =?UTF-8?Q?=EA=B8=80=ED=95=9C=EA=B8=80=ED&quot;; &lt;br/&gt;
	name*5=&quot;=95=9C=EA=B8=80=ED=95=9C=EA=B8=80?=&lt;br/&gt;
 =?UTF-8?Q?testfile=ED=95&quot;; &lt;br/&gt;
	name*6=&quot;=9C=EA=B8=80=ED=95=9C=EA=B8=80?=&lt;br/&gt;
 =?UTF-8?Q?=ED=95=9C=EA=B8=8&quot;; &lt;br/&gt;
	name*7=&quot;0=ED=95=9C=EA=B8=80testfile=ED=95=9C?=&lt;br/&gt;
 =?UTF-8?Q?=EA=B8=80=E&quot;; &lt;br/&gt;
	name*8=&quot;D=95=9C=EA=B8=80=ED=95=9C=EA=B8=80=ED=95=9C?=&lt;br/&gt;
 =?UTF-8?Q?=EA=&quot;; &lt;br/&gt;
	name*9=&quot;B8=80testf?=&lt;br/&gt;
 =?UTF-8?Q?ile=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=&quot;; &lt;br/&gt;
	name*10=&quot;80=ED=95=9C=EA=B8=80.txt?=&quot;&lt;br/&gt;
Content-Transfer-Encoding: base64&lt;br/&gt;
Content-Disposition: attachment; &lt;br/&gt;
	filename*0=&quot;=?UTF-8?Q?=ED=95=9C=EA=B8=80testfile=ED=95=9C=EA=B8=80?=&lt;br/&gt;
 =?U&quot;; &lt;br/&gt;
	filename*1=&quot;TF-8?Q?=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=8&quot;; &lt;br/&gt;
	filename*2=&quot;0testfil?=&lt;br/&gt;
 =?UTF-8?Q?e=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=80=E&quot;; &lt;br/&gt;
	filename*3=&quot;D=95=9C?= =?UTF-8?Q?=EA=B8=80=ED=95=9C=EA=B8=80tes?=&lt;br/&gt;
 =?UTF-8&quot;; &lt;br/&gt;
	filename*4=&quot;?Q?tfile=ED=95=9C?=&lt;br/&gt;
 =?UTF-8?Q?=EA=B8=80=ED=95=9C=EA=B8=80=ED&quot;; &lt;br/&gt;
	filename*5=&quot;=95=9C=EA=B8=80=ED=95=9C=EA=B8=80?=&lt;br/&gt;
 =?UTF-8?Q?testfile=ED=95&quot;; &lt;br/&gt;
	filename*6=&quot;=9C=EA=B8=80=ED=95=9C=EA=B8=80?=&lt;br/&gt;
 =?UTF-8?Q?=ED=95=9C=EA=B8=8&quot;; &lt;br/&gt;
	filename*7=&quot;0=ED=95=9C=EA=B8=80testfile=ED=95=9C?=&lt;br/&gt;
 =?UTF-8?Q?=EA=B8=80=E&quot;; &lt;br/&gt;
	filename*8=&quot;D=95=9C=EA=B8=80=ED=95=9C=EA=B8=80=ED=95=9C?=&lt;br/&gt;
 =?UTF-8?Q?=EA=&quot;; &lt;br/&gt;
	filename*9=&quot;B8=80testf?=&lt;br/&gt;
 =?UTF-8?Q?ile=ED=95=9C=EA=B8=80=ED=95=9C=EA=B8=&quot;; &lt;br/&gt;
	filename*10=&quot;80=ED=95=9C=EA=B8=80.txt?=&quot;&lt;/p&gt;


&lt;p&gt;When I analyzed the cause, it works normally if MimeUtility.encodeText is not called.&lt;br/&gt;
ex)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;not working&amp;#93;&lt;/span&gt;&lt;br/&gt;
MultiPartEmail Line 467 bodyPart.setFileName(MimeUtility.encodeText(name));&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;normal working&amp;#93;&lt;/span&gt;&lt;br/&gt;
MultiPartEmail Line 467 bodyPart.setFileName(name);&lt;/p&gt;


&lt;p&gt;Since I can not modify the MimeUtility source, I think that modifying MultiPartEmail.java is best.&lt;/p&gt;

&lt;p&gt;Can i provide PR on github?&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13248837">EMAIL-189</key>
            <summary>if Korean language is included in attachment file name, attachment file name is broken.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="Simple">Lee Jun Gyun</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Aug 2019 08:55:54 +0000</created>
                <updated>Thu, 26 Mar 2020 07:24:00 +0000</updated>
                                                            <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="16899964" author="michael-o" created="Mon, 5 Aug 2019 10:04:02 +0000"  >&lt;p&gt;I thnk using quoted printiable is wrong here. The same scheme has be also used for HTTP headers.&lt;/p&gt;</comment>
                            <comment id="16900505" author="simple" created="Tue, 6 Aug 2019 00:45:20 +0000"  >&lt;p&gt;I don&apos;t understand your comments. can you explain in detail?&lt;/p&gt;</comment>
                            <comment id="16900738" author="michael-o" created="Tue, 6 Aug 2019 08:02:03 +0000"  >&lt;p&gt;Try this: &quot;content-disposition inline filename utf8&quot;&lt;/p&gt;</comment>
                            <comment id="16900778" author="simple" created="Tue, 6 Aug 2019 08:40:53 +0000"  >&lt;p&gt;Even though I refer to your comment, the attachment filename is still broken.&lt;/p&gt;

&lt;p&gt;If the attachment file name contains Korean language, I think MimeUtility.encodeText method should not be called.&lt;/p&gt;

&lt;p&gt;In debugging mode, when the MimeUtility is called, the file name is split and sent.&lt;/p&gt;

&lt;p&gt;However, if the MimeUtility is not called, the filename is not split. It is sent normally.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileName = &lt;span class=&quot;code-quote&quot;&gt;&quot;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;testfile&#54620;&#44544;&#54620;&#44544;&#54620;&#44544;.txt&quot;&lt;/span&gt;;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filePath = &lt;span class=&quot;code-quote&quot;&gt;&quot;./file/&quot;&lt;/span&gt;;
MultiPartEmail email = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MultiPartEmail();
email.setCharset(&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// euc-kr --&amp;gt; UTF-8
&lt;/span&gt;email.setSmtpPort(465);
email.setHostName(&lt;span class=&quot;code-quote&quot;&gt;&quot;smtp.gmail.com&quot;&lt;/span&gt;);
email.addTo(&lt;span class=&quot;code-quote&quot;&gt;&quot;email@gmail.com&quot;&lt;/span&gt;);
email.setFrom(&lt;span class=&quot;code-quote&quot;&gt;&quot;email@gmail.com&quot;&lt;/span&gt;);
email.setSubject(&lt;span class=&quot;code-quote&quot;&gt;&quot;Message Aleart&quot;&lt;/span&gt;);
email.setMsg(&lt;span class=&quot;code-quote&quot;&gt;&quot;This is message body&quot;&lt;/span&gt;);
email.setAuthenticator(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultAuthenticator(&lt;span class=&quot;code-quote&quot;&gt;&quot;email@gmail.com&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;password&quot;&lt;/span&gt;));
email.setSSLOnConnect(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
email.setDebug(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);

&lt;span class=&quot;code-comment&quot;&gt;/** &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; 1 */&lt;/span&gt;
EmailAttachment attachment = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; EmailAttachment();
attachment.setName(fileName);
attachment.setPath(filePath + fileName);
&lt;span class=&quot;code-comment&quot;&gt;// attachment.setDisposition(EmailAttachment.ATTACHMENT);
&lt;/span&gt;attachment.setDisposition(EmailAttachment.INLINE);  &lt;span class=&quot;code-comment&quot;&gt;// ATTACHMENT --&amp;gt; INLINE
&lt;/span&gt;attachment.setDescription(fileName); 
email.attach(attachment);
email.send();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16903504" author="simple" created="Fri, 9 Aug 2019 02:19:56 +0000"  >&lt;p&gt;when korean language is included in attachment file name, file name is broken. If commons-email.jar not encode file name, file name is normal. I think that because javax.mail-api.jar handles file name properly.&lt;/p&gt;

&lt;p&gt;I guess without looking closely at javamail source. After commons-email.jar handles file name included korean language, when javax.mail-api.jar handles file name, I think there is a problem.&lt;/p&gt;

&lt;p&gt;I posted a similar question on stackoverflow. It may be good to reference. &lt;br/&gt;
 &lt;a href=&quot;https://stackoverflow.com/questions/57388873/why-attachment-file-name-broken-when-using-the-apache-email-library/57422337&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://stackoverflow.com/questions/57388873/why-attachment-file-name-broken-when-using-the-apache-email-library/57422337&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think it would be nice to improve something like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MultiPartEmail attach(
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DataSource ds,
            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name,
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; description,
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; disposition,
            &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isEncode)
            &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; EmailException
        {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (EmailUtils.isEmpty(name))
            {
                name = ds.getName();
            }
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; BodyPart bodyPart = createBodyPart();
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
            {
                bodyPart.setDisposition(disposition);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isEncode) 
                {
                	bodyPart.setFileName(MimeUtility.encodeText(name));
                } 
                &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 
                {
                	bodyPart.setFileName(name);
                }
                bodyPart.setDescription(description);
                bodyPart.setDataHandler(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DataHandler(ds));

                getContainer().addBodyPart(bodyPart);
				
			...
			...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17017327" author="xfh" created="Thu, 16 Jan 2020 17:31:15 +0000"  >&lt;p&gt;This is a duplication of &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-138&quot; title=&quot;Czech/Slovak diacritic marks in the file name of the attached file screw whole sent email&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-138&quot;&gt;EMAIL-138&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17067398" author="sgoeschl" created="Thu, 26 Mar 2020 06:40:57 +0000"  >&lt;p&gt;Bottom line is to avoid to encoding of attachment name (see &lt;a href=&quot;https://stackoverflow.com/questions/57388873/why-attachment-file-name-broken-when-using-the-apache-email-library/57422337&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://stackoverflow.com/questions/57388873/why-attachment-file-name-broken-when-using-the-apache-email-library/57422337&lt;/a&gt;) according to Bill Shannon (primary developer and maintainer of the JavaMail API at Oracle). &lt;/p&gt;

&lt;p&gt;The offending code was introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-130&quot; title=&quot;Problem parsing EMail-Attachmentfilename (ISO-8859-15)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-130&quot;&gt;&lt;del&gt;EMAIL-130&lt;/del&gt;&lt;/a&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-130&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/EMAIL-130&lt;/a&gt;) in 2014.&lt;/p&gt;

&lt;p&gt;I added an additional test to `EmailLiveTest` and can confirm that the attachments with Korean name are correctly rendered&lt;/p&gt;</comment>
                            <comment id="17067417" author="simple" created="Thu, 26 Mar 2020 07:09:59 +0000"  >&lt;p&gt;Yes. Avoding to encoding of attachement name is solution.&lt;/p&gt;

&lt;p&gt;Are you going to edit the source? About the option to encode attachment names.&lt;/p&gt;</comment>
                            <comment id="17067419" author="sgoeschl" created="Thu, 26 Mar 2020 07:13:07 +0000"  >&lt;p&gt;Regarding `boolean isEncode` option I&apos;m not sure yet - I&apos;m currently looking at the code since the change might break `MimeMessageParser`&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17067439" author="simple" created="Thu, 26 Mar 2020 07:24:00 +0000"  >&lt;p&gt;Ok. Thank you.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Aug 2019 10:04:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05brk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-188] Issues with Apache commons email library</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-188</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Hi team,&lt;/p&gt;

&lt;p&gt;We are facing below issues with apache commons email library&lt;/p&gt;

&lt;p&gt;1) When a user is sending email having inline image in body along with image as an attachment in that case when we are calling&#160;getAttachments() method of MimeMessageparser it is giving both the images because of that we are not able to distinguish between the actual image as attachment vs inline image.&lt;/p&gt;

&lt;p&gt;2) When a user is sending email with .msg file as attachment in that case it is not even coming as attachment when we are calling getAttachments() method of MimeMessageparser.&#160;&lt;/p&gt;

&lt;p&gt;Not sure if the above behavior is expected or not? Can you please look into this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13237433">EMAIL-188</key>
            <summary>Issues with Apache commons email library</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anurag_08_09">Anurag Garg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Jun 2019 09:00:06 +0000</created>
                <updated>Sun, 16 Jun 2019 22:26:07 +0000</updated>
                            <resolved>Sun, 16 Jun 2019 22:26:07 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16855488" author="michael-o" created="Tue, 4 Jun 2019 09:13:09 +0000"  >&lt;p&gt;You shoul contact users mailing list.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 Jun 2019 09:13:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z03e3k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-186] Commons Email does not provide automatic module name</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-186</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;At the moment, commons-email is a thorn in one&apos;s side when it comes to JPMS. At the very least, it should give a &lt;a href=&quot;http://branchandbound.net/blog/java/2017/12/automatic-module-name/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;stable automatic module name&lt;/a&gt; in the JAR file&apos;s manifest.&lt;/p&gt;

&lt;p&gt;I can provide a PR fixing this, but&#160;judging by&#160;the state of &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-183&quot; title=&quot;Migrate commons-email to java.mail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-183&quot;&gt;&lt;del&gt;EMAIL-183&lt;/del&gt;&lt;/a&gt;, this project looks like it is dead and people should instead be discouraged from using it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13226553">EMAIL-186</key>
            <summary>Commons Email does not provide automatic module name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="triceo85">Lukas Petrovicky</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Apr 2019 08:27:27 +0000</created>
                <updated>Fri, 12 Apr 2019 15:56:44 +0000</updated>
                            <resolved>Fri, 12 Apr 2019 15:56:44 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="16812623" author="garydgregory" created="Mon, 8 Apr 2019 17:12:15 +0000"  >&lt;p&gt;Git master contains &quot;&amp;lt;commons.module.name&amp;gt;org.apache.commons.mail&amp;lt;/commons.module.name&amp;gt;&quot;. Can you test with a SNAPSHOT build?&lt;/p&gt;</comment>
                            <comment id="16813060" author="jochen@apache.org" created="Tue, 9 Apr 2019 07:01:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=triceo85&quot; class=&quot;user-hover&quot; rel=&quot;triceo85&quot;&gt;Lukas Petrovicky&lt;/a&gt;, &lt;span class=&quot;error&quot;&gt;&amp;#91;~garydgregory&amp;#93;&lt;/span&gt;: Could you please have a look at&#160;&lt;a href=&quot;https://lists.apache.org/thread.html/da6a77a154133da7b077d7070ebc9bd17ce0ded1dbf6ed1b80211c2e@%3Cdev.commons.apache.org%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://lists.apache.org/thread.html/da6a77a154133da7b077d7070ebc9bd17ce0ded1dbf6ed1b80211c2e@%3Cdev.commons.apache.org%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16816359" author="triceo85" created="Fri, 12 Apr 2019 15:27:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;Jochen Wiedmann&lt;/a&gt;&#160;I think that &quot;org.apache.commons.mail&quot; is perfectly fine. I am&#160;OK with whatever module name the project selects -&#160;as long as there is one, let&apos;s&#160;release a new stable version in Maven Central, ideally together with &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-183&quot; title=&quot;Migrate commons-email to java.mail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-183&quot;&gt;&lt;del&gt;EMAIL-183&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16816391" author="garydgregory" created="Fri, 12 Apr 2019 15:56:15 +0000"  >&lt;p&gt;WRT other tickets, PRs on GitHub are always welcome!&#160;&lt;/p&gt;</comment>
                            <comment id="16816393" author="garydgregory" created="Fri, 12 Apr 2019 15:56:44 +0000"  >&lt;p&gt;Resolving as POM contains &quot;&amp;lt;commons.module.name&amp;gt;org.apache.commons.mail&amp;lt;/commons.module.name&amp;gt;&quot;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 8 Apr 2019 17:12:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z01j68:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-185] [Email] Email.setMailSession doesn&apos;t consider &quot;mail.smtps&quot; (note last &apos;s&apos;) properties</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-185</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt; it&apos;s written this:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Note that if you&apos;re using the &quot;smtps&quot; protocol to access SMTP over SSL, all the properties would be named &quot;mail.smtps.*&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m using Session with many mail.smtps.* properties, but when setting my session to &lt;em&gt;Email&lt;/em&gt; class, I saw they aren&apos;t read because of &lt;em&gt;Email&lt;/em&gt; expects properties are only named mail.smtp and not consider mail.smtps...am I wrong?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setMailSession(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Session aSession)
    {
        EmailUtils.notNull(aSession, &lt;span class=&quot;code-quote&quot;&gt;&quot;no mail session supplied&quot;&lt;/span&gt;);

        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Properties sessionProperties = aSession.getProperties();
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; auth = sessionProperties.getProperty(EmailConstants.MAIL_SMTP_AUTH);

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;.equalsIgnoreCase(auth))
        {
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; userName = sessionProperties.getProperty(EmailConstants.MAIL_SMTP_USER);
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; password = sessionProperties.getProperty(EmailConstants.MAIL_SMTP_PASSWORD);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13215959">EMAIL-185</key>
            <summary>[Email] Email.setMailSession doesn&apos;t consider &quot;mail.smtps&quot; (note last &apos;s&apos;) properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Gamby1980">Raffaele Gambelli</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Feb 2019 11:08:32 +0000</created>
                <updated>Sat, 16 Feb 2019 19:54:11 +0000</updated>
                                            <version>1.5</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi10q8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-184] Undescribed NullPointerException in Email.setFrom method</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-184</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The method setFrom(String email, String name) of Email throws a NullPointerException if null is passed for email. Could you please either fix the Nullpointer or update the JavaDoc.&#160;&lt;br/&gt;
 &#160;&lt;br/&gt;
 JavaDoc of Email.setFrom(String, String):&lt;/p&gt;


&lt;p&gt;Email org.apache.commons.mail.Email.setFrom(String email, String name) throws EmailException&lt;/p&gt;


&lt;p&gt;Set the FROM field of the email to use the specified address and the specified personal name. &lt;br/&gt;
The name will be encoded by the charset of setCharset(). If it is not set, it will be encoded &lt;br/&gt;
using the Java platform&apos;s default charset (UTF-16) if it contains non-ASCII characters; otherwise, &lt;br/&gt;
it is used as is.&lt;/p&gt;

&lt;p&gt;Parameters:email A String.name A String.&lt;br/&gt;
Returns:An Email.&lt;br/&gt;
Throws:EmailException - Indicates an invalid email address.&lt;br/&gt;
Since:1.0&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13213351">EMAIL-184</key>
            <summary>Undescribed NullPointerException in Email.setFrom method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="javatesting">John Smith</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Feb 2019 14:58:44 +0000</created>
                <updated>Sat, 27 Jul 2019 13:55:22 +0000</updated>
                                            <version>1.5</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="16894460" author="saksham63" created="Sat, 27 Jul 2019 13:55:22 +0000"  >&lt;p&gt;Pull request has been raised for this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Jul 2019 13:55:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi0koo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-181] the filename of the attachment is not right if the filename has Chinese Characters</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-181</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;For the HtmlEmail class, if I attach a file whose name has Chinese&#160;&lt;br/&gt;
Characters, then in the email, the attachment filename is not the one I want.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13172533">EMAIL-181</key>
            <summary>the filename of the attachment is not right if the filename has Chinese Characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="arrowwind">Backer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jul 2018 01:07:29 +0000</created>
                <updated>Thu, 26 Mar 2020 07:06:51 +0000</updated>
                                            <version>1.5</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16546205" author="sebb@apache.org" created="Tue, 17 Jul 2018 08:47:26 +0000"  >&lt;p&gt;Please provide sample code.&lt;br/&gt;
Note that much of the work of Commons Email is handled by the JavaMail API, so this may be a limitation with that.&lt;br/&gt;
Also there are limitations on the characters that can be used in email transmission.&lt;/p&gt;</comment>
                            <comment id="17019269" author="mhug" created="Mon, 20 Jan 2020 07:21:11 +0000"  >&lt;p&gt;I&apos;d wager that this is a duplication of&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-138&quot; title=&quot;Czech/Slovak diacritic marks in the file name of the attached file screw whole sent email&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-138&quot;&gt;EMAIL-138&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12931870" name="bug.png" size="4909" author="arrowwind" created="Tue, 17 Jul 2018 01:07:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jul 2018 08:47:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vyfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-180] Unable to read filename with 28+ characters  </title>
                <link>https://issues.apache.org/jira/browse/EMAIL-180</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I am using apache.common.email version 1.5 and trying to parse outlook email,&lt;/p&gt;

&lt;p&gt;I have noticed  bodyPart .getFileName() returns value &lt;b&gt;null&lt;/b&gt; ( where bodyPart = (Multipart) mimeMessage.getContent().getBodyPart()), with headers such as below(generated within outlook email) for an example -&lt;/p&gt;

&lt;p&gt;--&lt;em&gt;004_BN6PR05MB28973EFBD6850890BFB0E931E25E0BN6PR05MB2897namp&lt;/em&gt;&lt;br/&gt;
Content-Type: application/pdf;&lt;br/&gt;
&lt;font color=&quot;#FF0000&quot;&gt;name=&quot;ABCDEFG&#160;test case without contract id #1.pdf&quot;&lt;/font&gt;&lt;br/&gt;
Content-Description: ABCDEFG&#160;test case without contract id #1.pdf&lt;br/&gt;
Content-Disposition: attachment;&lt;br/&gt;
filename=&quot;ABCDEFG&#160;test case without contract id #1.pdf&quot;; size=484417;&lt;br/&gt;
creation-date=&quot;Sun, 15 Jul 2018 15:12:47 GMT&quot;;&lt;br/&gt;
modification-date=&quot;Sun, 15 Jul 2018 15:13:15 GMT&quot;&lt;br/&gt;
Content-Transfer-Encoding: base64&lt;/p&gt;


&lt;p&gt;my primary observation is - due to character limitation according to RFC, the headers gets broken and gets displaced on next separate line - which parser is unable to parse.&lt;/p&gt;

&lt;p&gt;However, for now - I am using this custom method to handle such issues.&lt;/p&gt;

&lt;p&gt;public static String parseDescriptionFileHeader(Enumeration headerEnumeration) {&lt;br/&gt;
 String fileName = null;&lt;br/&gt;
 try {&lt;br/&gt;
 while (headerEnumeration.hasMoreElements()) {&lt;br/&gt;
 Header header = (Header) headerEnumeration.nextElement();&lt;br/&gt;
 String name = header.getName();&lt;br/&gt;
 if(name.contains(&quot;name=&quot;))&lt;br/&gt;
 {&lt;br/&gt;
 Pattern p = Pattern.compile(&quot;\&quot;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^\&amp;quot;&amp;#93;&lt;/span&gt;*)\&quot;&quot;);&lt;br/&gt;
 Matcher m = p.matcher(name);&lt;br/&gt;
 while (m.find()) &lt;/p&gt;
{
 fileName = m.group(1);
 return fileName;
 }
&lt;p&gt; }&lt;br/&gt;
 }&lt;/p&gt;

&lt;p&gt; } catch (Exception e) &lt;/p&gt;
{
system.out.println(&quot;Unable to retrieve attachement header&quot;);
 }
&lt;p&gt; return fileName;&lt;br/&gt;
 }&lt;/p&gt;

&lt;p&gt;Let me know, if there is any standard solution to the above issue, Thank you.&lt;/p&gt;

&lt;p&gt;Regards&lt;/p&gt;</description>
                <environment></environment>
        <key id="13172477">EMAIL-180</key>
            <summary>Unable to read filename with 28+ characters  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sst331">sid </reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jul 2018 20:17:51 +0000</created>
                <updated>Mon, 16 Jul 2018 21:28:38 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="16545741" author="sebb@apache.org" created="Mon, 16 Jul 2018 21:16:58 +0000"  >&lt;p&gt;If the headers really are as per the description - no spaces on folded lines - then it is not surprising that there are issues with the parsing.&lt;/p&gt;

&lt;p&gt;Please attach a sample outlook source file with a minimal Java program that shows the problem.&lt;/p&gt;</comment>
                            <comment id="16545751" author="sebb@apache.org" created="Mon, 16 Jul 2018 21:28:38 +0000"  >&lt;p&gt;Note that the actual parsing of emails is done by JavaMail.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Jul 2018 21:16:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vy3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-179] Mail is not sent to mailing list</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-179</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Yesterday&#160;I tried to write a mail to the dev list of openwhisk (dev@openwhisk.apache.org)&#160;(twice) but the message did not appear.&lt;/p&gt;

&lt;p&gt;I used the&#160;same mail address (to send the mail), where all the dev list mails are arriving. &lt;br/&gt;
There was no error or any indication why this mail did not appear on the dev list.&lt;/p&gt;

&lt;p&gt;There is also no issue&#160;on receiving any mails from the dev-list.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here is the mail I wanted to send, including all headers:&lt;/p&gt;

&lt;p&gt;```&lt;br/&gt;
MIME-Version: 1.0&lt;br/&gt;
Date: Tue, 3 Jul 2018 13:13:16 +0200&lt;br/&gt;
Message-ID: &amp;lt;CAKWevuonMHz6eFEwAnzm=8tdUUThoroGv+Cr33fSBTeT-euoXQ@mail.gmail.com&amp;gt;&lt;br/&gt;
Subject: Limit of binary actions&lt;br/&gt;
From: Christian Bickel &amp;lt;apache@cbickel.de&amp;gt;&lt;br/&gt;
To: dev@openwhisk.apache.org&lt;br/&gt;
Content-Type: text/plain; charset=&quot;UTF-8&quot;&lt;/p&gt;

&lt;p&gt;Hey,&lt;/p&gt;

&lt;p&gt;a few days a go we found a little bug:&lt;/p&gt;

&lt;p&gt;On creating an action, the code is sent to the controller. Afterwards&lt;br/&gt;
the controller checks, that the code is not too big. If the code&lt;br/&gt;
itself is sent directly (e.g. uploading a single `.js` file), the&lt;br/&gt;
limit is 48MB (today).&lt;br/&gt;
If an archive is uploaded, it will be encoded with base64. The problem&lt;br/&gt;
here is, that base64 has an overhead of 1/3. This means, if you have&lt;br/&gt;
an archive, that has a size of e.g. 45MB, 60MB will be sent to the&lt;br/&gt;
controller. So the request will be rejected. This is not expected for&lt;br/&gt;
the user, as a limit of 48MB was proposed to him.&lt;/p&gt;

&lt;p&gt;I opened a PR to fix this behaviour:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/incubator-openwhisk/pull/3835&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/incubator-openwhisk/pull/3835&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As this change, potentially raises the action size in the database, I&lt;br/&gt;
wanted to ask if anyone has any concerns with this PR.&lt;/p&gt;

&lt;p&gt;If not, I will go forward with it.&lt;/p&gt;

&lt;p&gt;Greetings&lt;br/&gt;
```&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks a lot in advance for your help.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13170098">EMAIL-179</key>
            <summary>Mail is not sent to mailing list</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cbickel">Christian Bickel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jul 2018 14:34:20 +0000</created>
                <updated>Thu, 5 Jul 2018 21:40:15 +0000</updated>
                            <resolved>Wed, 4 Jul 2018 21:49:22 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="16533076" author="sebb@apache.org" created="Wed, 4 Jul 2018 21:49:22 +0000"  >&lt;p&gt;AFAICT the mail is waiting moderation.&lt;/p&gt;

&lt;p&gt;Mak sure you are subscribed, and that the smtp envelope uses the same address.&lt;/p&gt;</comment>
                            <comment id="16533541" author="cbickel" created="Thu, 5 Jul 2018 11:18:58 +0000"  >&lt;p&gt;Thanks a lot for this answer.&lt;/p&gt;

&lt;p&gt;What&apos;s exactly the name of the header, that is set wrong?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks a lot in advance.&lt;/p&gt;</comment>
                            <comment id="16534188" author="sebb@apache.org" created="Thu, 5 Jul 2018 21:40:15 +0000"  >&lt;p&gt;I don&apos;t know.&lt;br/&gt;
Check all the ones that relate to your sender address.&lt;/p&gt;

&lt;p&gt;Try sending the email to your own address so you can check all the headers as sent&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Jul 2018 21:49:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vjpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-178] setFrom no longer working</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-178</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;setFrom no longer works in commons-email 1.5.&#160; The code below sends the email as the authentication userid email address instead of the from address.&#160; With the code below, the&#160;from address works with commons-email 1.2.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;
public class&#160;TestEmailFrom {
    public static void main(String [] args) throws EmailException {
        String emailFromAddress = &quot;fake.from.address@gmail.com&quot;;
        String emailToAddress = &quot;fake.to.address@gmail.com&quot;;

        Email email = new SimpleEmail();
        email.setHostName(&quot;smtp.gmail.com&quot;);
        email.setSmtpPort(465);
        email.setAuthentication(&quot;userid@gmail.com&quot;, &quot;password&quot;);
        email.setSSLOnConnect(true);
        email.setFrom(emailFromAddress);
        email.setSubject(&quot;TestMail&quot;);
        email.setMsg(&quot;This is a test mail ... :-)&quot;);
        email.addTo(emailToAddress);
        email.send();
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13153747">EMAIL-178</key>
            <summary>setFrom no longer working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="akhoury">Andrew Khoury</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Apr 2018 15:57:24 +0000</created>
                <updated>Thu, 19 Apr 2018 20:49:53 +0000</updated>
                            <resolved>Thu, 19 Apr 2018 20:49:35 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="16444771" author="akhoury" created="Thu, 19 Apr 2018 20:49:35 +0000"  >&lt;p&gt;Nevermind, this is invalid.  I guess GMail doesn&apos;t allow you to set the from address to anything other than the authenticated user.  I tested with a relay server and it worked fine.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3srvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-174] Upgrade from javax.mail-1.5.6 to 1.6.0</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-174</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Upgrade from javax.mail-1.5.6 to 1.6.0&lt;/p&gt;</description>
                <environment></environment>
        <key id="13101809">EMAIL-174</key>
            <summary>Upgrade from javax.mail-1.5.6 to 1.6.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="markwoon">Mark Woon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Sep 2017 23:12:08 +0000</created>
                <updated>Mon, 8 Apr 2019 17:05:17 +0000</updated>
                            <resolved>Mon, 8 Apr 2019 17:05:17 +0000</resolved>
                                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="16193902" author="garydgregory" created="Thu, 5 Oct 2017 23:27:13 +0000"  >&lt;p&gt;Feel free to provide a patch on GitHub, if &lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; is set up with Travis-CI, we should see a build.&lt;/p&gt;</comment>
                            <comment id="16380007" author="vstuen" created="Wed, 28 Feb 2018 09:15:11 +0000"  >&lt;p&gt;Pull request submitted:&#160;&lt;a href=&quot;https://github.com/apache/commons-email/pull/4&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/commons-email/pull/4&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16380067" author="jochen@apache.org" created="Wed, 28 Feb 2018 09:54:15 +0000"  >&lt;p&gt;Applied with revision 1825540.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16380072" author="jochen@apache.org" created="Wed, 28 Feb 2018 09:57:23 +0000"  >&lt;p&gt;Noticed too late: Javax.mail 1.6.1 is Java 7, but we&apos;re still on Java 6. Revert?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16812616" author="garydgregory" created="Mon, 8 Apr 2019 17:05:17 +0000"  >&lt;p&gt;Git master uses 1.6.1.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="13207509">EMAIL-183</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Oct 2017 23:27:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3jzsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-173] In case of multipart/alternative consider alternatives if one of them is corrupted</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-173</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;In case of multipart/alternative, it can happen that some of the alternatives are corrupted. &lt;br/&gt;
In such cases rather than throwing an exception for malformed part, it makes sense to use one of the well-formed alternatives. &lt;/p&gt;

&lt;p&gt;The code in question is here:&lt;br/&gt;
&lt;a href=&quot;https://commons.apache.org/proper/commons-email/apidocs/src-html/org/apache/commons/mail/util/MimeMessageParser.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://commons.apache.org/proper/commons-email/apidocs/src-html/org/apache/commons/mail/util/MimeMessageParser.html&lt;/a&gt; &lt;br/&gt;
line 192.&lt;/p&gt;

&lt;p&gt;The patch should look something like this&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isMimeType(part, &lt;span class=&quot;code-quote&quot;&gt;&quot;multipart/alternative&quot;&lt;/span&gt;))
                {
                    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isMultiPart = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Multipart mp = (Multipart) part.getContent();
                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; count = mp.getCount();

                    &lt;span class=&quot;code-comment&quot;&gt;// iterate over all MimeBodyPart
&lt;/span&gt;
                    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; failureCount = 0;
                    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; count; i++)
                    {
                        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                             parse(mp, (MimeBodyPart) mp.getBodyPart(i));
                           } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
                              &lt;span class=&quot;code-comment&quot;&gt;// LOG &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; error
&lt;/span&gt;                              failureCount++;
                           }
                    }
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (failureCount == count) {
                    &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; all of them failed.
&lt;/span&gt;                    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(); &lt;span class=&quot;code-comment&quot;&gt;// with reason
&lt;/span&gt;                    }
                }
               &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isMimeType(part, &lt;span class=&quot;code-quote&quot;&gt;&quot;multipart/*&quot;&lt;/span&gt;))
               {
                    &lt;span class=&quot;code-comment&quot;&gt;// normal flow
&lt;/span&gt;                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13074086">EMAIL-173</key>
            <summary>In case of multipart/alternative consider alternatives if one of them is corrupted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="sumit4iit">Sumit Agrawal</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 May 2017 06:08:23 +0000</created>
                <updated>Mon, 17 Jul 2017 21:11:06 +0000</updated>
                            <resolved>Mon, 17 Jul 2017 21:11:06 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16090570" author="sgoeschl" created="Mon, 17 Jul 2017 21:11:06 +0000"  >&lt;p&gt;I&apos;m personally not happy with the suggestion&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;I don&apos;t like silently dropping some parts of the email&lt;/li&gt;
	&lt;li&gt;Please note that commons-email is not using any logging&lt;/li&gt;
	&lt;li&gt;You can overwrite the protected method to add your own fault-tolerant parsing logic&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Jul 2017 21:11:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fc2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-172] Grammar error in comment</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-172</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Index: src/main/java/org/apache/commons/mail/Email.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/main/java/org/apache/commons/mail/Email.java	(revision 1793700)&lt;br/&gt;
+++ src/main/java/org/apache/commons/mail/Email.java	(working copy)&lt;br/&gt;
@@ -1470,8 +1470,8 @@&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;     /**&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* Returns the internal MimeMessage. Please not that the&lt;/li&gt;
	&lt;li&gt;* MimeMessage is build by the buildMimeMessage() method.&lt;br/&gt;
+     * Returns the internal MimeMessage. Please note that the&lt;br/&gt;
+     * MimeMessage is built by the buildMimeMessage() method.&lt;br/&gt;
      *&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;@return the MimeMessage&lt;br/&gt;
      */&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13068902">EMAIL-172</key>
            <summary>Grammar error in comment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kinow">Bruno P. Kinoshita</assignee>
                                    <reporter username="graingert">Thomas Grainger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 May 2017 19:47:38 +0000</created>
                <updated>Wed, 3 May 2017 22:57:51 +0000</updated>
                            <resolved>Wed, 3 May 2017 22:57:43 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="15995516" author="graingert" created="Wed, 3 May 2017 19:48:33 +0000"  >&lt;p&gt;Index: src/main/java/org/apache/commons/mail/Email.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/main/java/org/apache/commons/mail/Email.java	(revision 1793700)&lt;br/&gt;
+++ src/main/java/org/apache/commons/mail/Email.java	(working copy)&lt;br/&gt;
@@ -1470,8 +1470,8 @@&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;     /**&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* Returns the internal MimeMessage. Please not that the&lt;/li&gt;
	&lt;li&gt;* MimeMessage is build by the buildMimeMessage() method.&lt;br/&gt;
+     * Returns the internal MimeMessage. Please note that the&lt;br/&gt;
+     * MimeMessage is built by the buildMimeMessage() method.&lt;br/&gt;
      *&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;@return the MimeMessage&lt;br/&gt;
      */&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15995855" author="kinow" created="Wed, 3 May 2017 22:57:35 +0000"  >&lt;p&gt;Fixed in 1793730. Changes changes.xml updated in 1793732. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=graingert&quot; class=&quot;user-hover&quot; rel=&quot;graingert&quot;&gt;Thomas Grainger&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cheers&lt;br/&gt;
Bruno&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12866259" name="patchFile" size="604" author="graingert" created="Wed, 3 May 2017 19:48:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 May 2017 22:57:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3eg53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-171] buildMimeMessage() unconditionally encodes and folds header values</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-171</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The buildMimeMessage() method unconditionally calls MimeUtility#fold and MimeUtility#encodeText for all entries in the headers Map.&lt;/p&gt;

&lt;p&gt;However the encodeText method is only suitable for &quot;unstructured&quot; RFC 822 headers, i.e. those which consist of arbitrary text.&lt;/p&gt;

&lt;p&gt;If the headers Map contains any keys that have structured values, and the value contains any non-ASCII characters, the generated header may be corrupted.&lt;/p&gt;

&lt;p&gt;If the user adds a structured header to the Map, they need to ensure that the value is already ASCII-encoded using the appropriate strategy for the field.&lt;/p&gt;

&lt;p&gt;This needs to be documented.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13057939">EMAIL-171</key>
            <summary>buildMimeMessage() unconditionally encodes and folds header values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Mar 2017 15:51:12 +0000</created>
                <updated>Thu, 22 Mar 2018 18:42:27 +0000</updated>
                                                                                <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16410100" author="vrozkovec" created="Thu, 22 Mar 2018 18:42:27 +0000"  >&lt;p&gt;Is this related to &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-138&quot; title=&quot;Czech/Slovak diacritic marks in the file name of the attached file screw whole sent email&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-138&quot;&gt;EMAIL-138&lt;/a&gt;?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Mar 2018 18:42:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cl4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-170] Classes should not expose mutable fields</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-170</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Classes should not expose mutable fields. Mutable data should be private.&lt;br/&gt;
Occasionally it may be necessary to make a field package-protected.&lt;/p&gt;

&lt;p&gt;If class fields need to be accessible externally this should be done through getters/setters.&lt;/p&gt;

&lt;p&gt;This affects the following classes:&lt;/p&gt;

&lt;p&gt;Email&lt;br/&gt;
HtmlEmail&lt;/p&gt;

&lt;p&gt;This will break compatibility, so has to wait until a new major release&lt;/p&gt;</description>
                <environment></environment>
        <key id="13056787">EMAIL-170</key>
            <summary>Classes should not expose mutable fields</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Mar 2017 20:54:27 +0000</created>
                <updated>Thu, 16 Mar 2017 20:54:27 +0000</updated>
                                                            <fixVersion>2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ce0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-169] MimeMessageUtils.writeMimeMessage writes stacktrace</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-169</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The MimeMessageUtils.writeMimeMessage method displays a stack trace if there has been a problem writing to the output file and the file cannot subsequently be closed. It also catches Exception rather than IOE.&lt;/p&gt;

&lt;p&gt;Library code should almost never display stack traces.&lt;/p&gt;

&lt;p&gt;The other methods in the class allow the close failure to be propagated.&lt;br/&gt;
This should too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13056777">EMAIL-169</key>
            <summary>MimeMessageUtils.writeMimeMessage writes stacktrace</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Mar 2017 20:04:36 +0000</created>
                <updated>Thu, 16 Mar 2017 21:09:56 +0000</updated>
                            <resolved>Thu, 16 Mar 2017 21:09:56 +0000</resolved>
                                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="15928916" author="sebb@apache.org" created="Thu, 16 Mar 2017 21:09:56 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1787246&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=1787246&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-169&quot; title=&quot;MimeMessageUtils.writeMimeMessage writes stacktrace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-169&quot;&gt;&lt;del&gt;EMAIL-169&lt;/del&gt;&lt;/a&gt; MimeMessageUtils.writeMimeMessage writes stacktrace&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/email/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/email/trunk/src/main/java/org/apache/commons/mail/util/MimeMessageUtils.java&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cdy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-168] Content-Description should not be added if it is not provided</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-168</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;At present the Content-Description header is added to attachment parts unless it is null.&lt;/p&gt;

&lt;p&gt;Since the default value is an empty string, this means that an empty C-D: header is added by default.&lt;/p&gt;

&lt;p&gt;Changing the default field value to null would prevent the header from being added unless the user calls EmailAttachment#setDescription(String desc), &lt;/p&gt;

&lt;p&gt;However there seems little point in adding the header if it is the empty string, so a better solution might be to skip it if the value is null or the empty string.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13056343">EMAIL-168</key>
            <summary>Content-Description should not be added if it is not provided</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Mar 2017 16:30:20 +0000</created>
                <updated>Wed, 15 Mar 2017 16:30:20 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cb9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-167] DataSourceClassPathResolver doesn&apos;t close InputStream when resolving resources</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-167</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;DataSourceClassPathResolver opens an InputStream (via .class.getResourceAsStream) to read a resource into a ByteArrayDataSource, but never closes it:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; DataSource resolve(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resourceLocation, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isLenient) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
    {
...
                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; InputStream is = DataSourceClassPathResolver.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getResourceAsStream(resourceName);

                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (is != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
                {
                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ByteArrayDataSource ds = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayDataSource(is, mimeType);
                    &lt;span class=&quot;code-comment&quot;&gt;// EMAIL-125: set the name of the DataSource to the normalized resource URL
&lt;/span&gt;                    &lt;span class=&quot;code-comment&quot;&gt;// similar to other DataSource implementations, e.g. FileDataSource, URLDataSource
&lt;/span&gt;                    ds.setName(DataSourceClassPathResolver.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getResource(resourceName).toString());
                    result = ds;
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The &apos;is&apos; variable above should be closed in a try ... finally&lt;/p&gt;</description>
                <environment></environment>
        <key id="13045652">EMAIL-167</key>
            <summary>DataSourceClassPathResolver doesn&apos;t close InputStream when resolving resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lburja">Lucian Burja</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Feb 2017 15:37:34 +0000</created>
                <updated>Thu, 16 Mar 2017 00:38:24 +0000</updated>
                            <resolved>Thu, 16 Mar 2017 00:38:24 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15880701" author="britter" created="Thu, 23 Feb 2017 16:01:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lburja&quot; class=&quot;user-hover&quot; rel=&quot;lburja&quot;&gt;Lucian Burja&lt;/a&gt; I don&apos;t think this is related to Apache Commons Email. Created this ticket for the wrong Jira Project?&lt;/p&gt;</comment>
                            <comment id="15880882" author="lburja" created="Thu, 23 Feb 2017 17:29:46 +0000"  >&lt;p&gt;The class is org.apache.commons.mail.resolver.DataSourceClassPathResolver&lt;br/&gt;
I thought it&apos;s part of Apache Commons Email.&lt;/p&gt;</comment>
                            <comment id="15881095" author="britter" created="Thu, 23 Feb 2017 19:36:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lburja&quot; class=&quot;user-hover&quot; rel=&quot;lburja&quot;&gt;Lucian Burja&lt;/a&gt; sorry, you&apos;re right!&lt;/p&gt;</comment>
                            <comment id="15925884" author="lburja" created="Wed, 15 Mar 2017 10:44:55 +0000"  >&lt;p&gt;Patch that closes the input stream in a try..finally block.&lt;/p&gt;</comment>
                            <comment id="15927253" author="sebb@apache.org" created="Thu, 16 Mar 2017 00:38:24 +0000"  >&lt;p&gt;Thanks for the report and patch; applied:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1787115&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=1787115&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-167&quot; title=&quot;DataSourceClassPathResolver doesn&amp;#39;t close InputStream when resolving resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-167&quot;&gt;&lt;del&gt;EMAIL-167&lt;/del&gt;&lt;/a&gt; DataSourceClassPathResolver doesn&apos;t close InputStream when resolving resources&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/email/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/email/trunk/src/main/java/org/apache/commons/mail/resolver/DataSourceClassPathResolver.java&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12858860" name="EMAIL-167-close-input-stream.patch" size="1535" author="lburja" created="Wed, 15 Mar 2017 10:44:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Feb 2017 16:01:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3aimn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-166] Need help to change user name from mali to tali in Outlook, also need to change name from Mohammed Tanveer Alli to Tanveer ali</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-166</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Also need a lOgin Credentials for a WebEx Account&lt;/p&gt;</description>
                <environment></environment>
        <key id="13035937">EMAIL-166</key>
            <summary>Need help to change user name from mali to tali in Outlook, also need to change name from Mohammed Tanveer Alli to Tanveer ali</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mali@magnitude.com">Mohammed</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jan 2017 17:24:06 +0000</created>
                <updated>Thu, 19 Jan 2017 09:49:26 +0000</updated>
                            <resolved>Thu, 19 Jan 2017 09:49:25 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15829618" author="britter" created="Thu, 19 Jan 2017 09:49:26 +0000"  >&lt;p&gt;Hello Mohammed,&lt;/p&gt;

&lt;p&gt;please use our &lt;a href=&quot;http://commons.apache.org/mail-lists.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;user mailing list&lt;/a&gt; if you require support for using Apache Commons Mail. Jira is for tracking bugs and proposals for new features.&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Jan 2017 09:49:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38vvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-164] Setting Alias using setFrom of HtmlEmail is not working when calling from Scala</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-164</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I am using Commons Email API (v1.4) in my Scala project&lt;/p&gt;

&lt;p&gt;in SCALA&apos;s build.sbt i have included following line&lt;br/&gt;
&quot;org.apache.commons&quot;          % &quot;commons-email&quot;           % &quot;1.4&quot;,&lt;/p&gt;



&lt;p&gt;Following is EMAIL Function&lt;/p&gt;


&lt;p&gt; @throws(classOf&lt;span class=&quot;error&quot;&gt;&amp;#91;EmailException&amp;#93;&lt;/span&gt;)&lt;br/&gt;
  @throws(classOf&lt;span class=&quot;error&quot;&gt;&amp;#91;Exception&amp;#93;&lt;/span&gt;)&lt;br/&gt;
  def createHTMLEmailMessage(htmlContent: String): EmailMessage = &lt;/p&gt;
{

    val email = new HtmlEmail

    // alternative message if the client does not support html
   
    email.setHtmlMsg(htmlContent)

    email.addTo(&quot;TO_address@gmail.com&quot;)

    email.setFrom(&quot;MY_address@GMAIL.com&quot;, &quot;MY REPORTS&quot;)

    email.setHostName(&quot;MY_HOSTNAME&quot;)

    email.setSmtpPort(587)

    email.setAuthentication(&quot;USERNAME&quot;,&quot;PASSWORD&quot;)

    email.setStartTLSEnabled(true)

    email.setSSLOnConnect(false)

    email.setSubject(&quot;Subject&quot;)

    val emailMsg = EmailMessage(email)

    emailMsg

  }</description>
                <environment></environment>
        <key id="12958823">EMAIL-164</key>
            <summary>Setting Alias using setFrom of HtmlEmail is not working when calling from Scala</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="praxnet">prax net</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Apr 2016 12:14:28 +0000</created>
                <updated>Mon, 2 Jan 2017 22:31:25 +0000</updated>
                            <resolved>Mon, 2 Jan 2017 22:31:24 +0000</resolved>
                                    <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15655041" author="sgoeschl" created="Thu, 10 Nov 2016 20:22:59 +0000"  >&lt;p&gt;Mhmm, so what does not work?&lt;/p&gt;</comment>
                            <comment id="15793621" author="sgoeschl" created="Mon, 2 Jan 2017 22:31:25 +0000"  >&lt;p&gt;No background information available &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Nov 2016 20:22:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2w4bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-159] Parse exception when parsing the email content</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-159</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Hi Team,&lt;br/&gt;
We have an application that reads the email and extracts the attachment from the email. For certain emails we are seeing below issue, can you please check if anything  missed out from our side or is it the bug.&lt;/p&gt;

&lt;p&gt;javax.mail-api Version : 1.5.3&lt;br/&gt;
commons-email Version : 1.4&lt;/p&gt;

&lt;p&gt;Email Header information for failure&lt;/p&gt;

&lt;p&gt;Subject: =?utf-8?q?YYYY?=&lt;br/&gt;
=?utf-8?Q?=C3=A9p=C3=B4t_ZZZ_ZZZ_41/2015_-_PPP_XXX?=&lt;br/&gt;
Message-Id: &amp;lt;20151012_101748_C1_00cb45e6_C2_00003011_Name_00013321697@htm-group.com&amp;gt;&lt;br/&gt;
X-Priority: 3&lt;br/&gt;
Importance: Normal&lt;br/&gt;
MIME-Version: 1.0&lt;br/&gt;
Content-Type: multipart/mixed; boundary=&quot;=&lt;em&gt;NextPart_03254=&lt;/em&gt;=63839&quot;&lt;br/&gt;
Content-Transfer-Encoding: 7bit&lt;/p&gt;

&lt;p&gt;Email Header information for Success&lt;/p&gt;


&lt;p&gt;Subject: PPP : Stocks XXX 41/2015 -ZZZZ&lt;br/&gt;
Message-Id: &amp;lt;20151012_104902_C1_00cb854d_C2_00001ddf_Name_00013337928@htm-group.com&amp;gt;&lt;br/&gt;
X-Priority: 3&lt;br/&gt;
Importance: Normal&lt;br/&gt;
MIME-Version: 1.0&lt;br/&gt;
Content-Type: multipart/mixed; boundary=&quot;=&lt;em&gt;NextPart_09373=&lt;/em&gt;=37676&quot;&lt;br/&gt;
Content-Transfer-Encoding: 7bit&lt;/p&gt;

&lt;p&gt;These 2 emails are sent from the same email ID, but we are getting ParseException when we are trying to parse the above 1st header.&lt;/p&gt;


&lt;p&gt;Exception trace&lt;/p&gt;

&lt;p&gt;javax.mail.internet.ParseException: Expected parameter value, got &quot;=&quot;&lt;br/&gt;
        at javax.mail.internet.ParameterList.&amp;lt;init&amp;gt;(ParameterList.java:256)&lt;br/&gt;
        at javax.mail.internet.ContentDisposition.&amp;lt;init&amp;gt;(ContentDisposition.java:100)&lt;br/&gt;
        at javax.mail.internet.MimeBodyPart.getDisposition(MimeBodyPart.java:1085)&lt;br/&gt;
        at javax.mail.internet.MimeBodyPart.getDisposition(MimeBodyPart.java:318)&lt;/p&gt;



&lt;p&gt;Content Disposition Header Info for error email&lt;/p&gt;


&lt;p&gt;--=&lt;em&gt;NextPart_03254=&lt;/em&gt;=63839&lt;br/&gt;
Content-Type: text/plain;&lt;br/&gt;
 charset=UTF-8&lt;br/&gt;
Content-Transfer-Encoding: QUOTED-PRINTABLE&lt;br/&gt;
Content-Disposition: inline&lt;/p&gt;

&lt;p&gt;Extraction VENTES du 05.10.2015 au 11.10.2015 (semaine 201541 =C3=A0 201541 ).&lt;br/&gt;
                                                                                                                                                   =&lt;br/&gt;
                                =20&lt;/p&gt;

&lt;p&gt;--=&lt;em&gt;NextPart_03254=&lt;/em&gt;=63839&lt;br/&gt;
Content-Type: APPLICATION/OCTET-STREAM;&lt;br/&gt;
 name=&lt;br/&gt;
 =?utf-8?Q?El-d=C3=A9p=C3=B4t_XXX_41=5F2015_-YYYYY?=&lt;br/&gt;
 =?utf-8?Q?N.XLS?=&lt;br/&gt;
Content-Transfer-Encoding: BASE64&lt;br/&gt;
Content-Description: =?utf-8?q?El-d?=&lt;br/&gt;
 =?utf-8?Q?=C3=A9p=C3=B4t_XXX_41=5F2015_-YYYYYN.XLS?=&lt;br/&gt;
Content-Disposition: attachment;&lt;br/&gt;
 filename=&lt;br/&gt;
 =?utf-8?Q?El-d=C3=A9p=C3=B4t_XXX_41=5F2015_-YYYYY?=&lt;br/&gt;
 =?utf-8?Q?N.XLS?=&lt;/p&gt;


&lt;p&gt;Please help us in fixing this issue.&lt;/p&gt;


&lt;p&gt;Regards,&lt;br/&gt;
Kushal J&lt;/p&gt;</description>
                <environment></environment>
        <key id="12904810">EMAIL-159</key>
            <summary>Parse exception when parsing the email content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="kushal.j1987">Kushal J</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Oct 2015 10:17:09 +0000</created>
                <updated>Thu, 14 Jan 2016 20:01:37 +0000</updated>
                            <resolved>Thu, 14 Jan 2016 20:01:37 +0000</resolved>
                                    <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14957727" author="tn" created="Wed, 14 Oct 2015 20:49:59 +0000"  >&lt;p&gt;Can you also include the content-disposition header?&lt;/p&gt;

&lt;p&gt;From the stacktrace it looks like that this header contains some unexpected value and javamail does not seem to be very happy about it.&lt;/p&gt;</comment>
                            <comment id="14958359" author="kushal.j1987" created="Thu, 15 Oct 2015 05:40:03 +0000"  >&lt;p&gt;Hi Thomas,&lt;/p&gt;

&lt;p&gt;Thanks for the reply. &lt;/p&gt;

&lt;p&gt;I have updated the description with the content-disposition header.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Kushal J&lt;/p&gt;</comment>
                            <comment id="14959491" author="tn" created="Thu, 15 Oct 2015 19:42:29 +0000"  >&lt;p&gt;I do not know which mail client created this message, but the content-disposition header is not correctly contructed (according to the relevant rfc&apos;s).&lt;/p&gt;

&lt;p&gt;A correct header would look like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Content-Disposition: attachment;
      filename*0=&quot;=?utf-8?Q?El-d=C3=A9p=C3=B4t_XXX_41=5F2015_-YYYYY&quot;;
      filename*1=&quot;N.XLS?=&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which encodes the following filename: El-d&#233;p&#244;t XXX 41_2015 -YYYYYN.XLS&lt;/p&gt;

&lt;p&gt;As the content-disposition is ill-formed, java-mail throws an exception, and we can not do much about (apart from catching the exception when accessing the filename and trying to continue). I would suggest that you first look into the application/client that produced this email and try to fix this.&lt;/p&gt;</comment>
                            <comment id="15025646" author="sgoeschl" created="Tue, 24 Nov 2015 23:02:43 +0000"  >&lt;p&gt;Hi Kushal,&lt;/p&gt;

&lt;p&gt;this is a problem with javamail &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Which version of javamail are you using?&lt;/li&gt;
	&lt;li&gt;See &lt;a href=&quot;https://docs.oracle.com/javaee/6/api/javax/mail/internet/package-summary.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://docs.oracle.com/javaee/6/api/javax/mail/internet/package-summary.html&lt;/a&gt; - can you try with the system property &quot;mail.mime.parameters.strict&quot; set to &quot;false&quot;. This sometimes helped me with real-word mime messages&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15076588" author="sgoeschl" created="Sat, 2 Jan 2016 17:08:33 +0000"  >&lt;p&gt;Hi Kushal,&lt;/p&gt;

&lt;p&gt;any updates from your side? This is not an commons-email issue - since there is little we can do about it I would like to close the issue &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Siegfried Goeschl&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Oct 2015 20:49:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mzuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-158] Seeing EHLO option warnings</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-158</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The exchange server is throwing the following error while sending email using apache commons email library.&lt;br/&gt;
```&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;The Ehlo options for the client proxy target xxxx:xxxx:xxxx:x:x:xxxx:xxx.xxx.x.xx did not match while setting up proxy for user xxxx@example.com on inbound session 05D2ACA9F88A9066. The critical non-matching options were &amp;lt;maxSize&amp;gt;. The non-critical non-matching options were &amp;lt;NONE&amp;gt;. Client proxying will continue.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is how I am sending the email (using scala): &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    val email = new HtmlEmail
    email.setHtmlMsg(htmlMsg.getOrElse(&quot;&quot;))
    email.setSubject(subject)
    email.addTo(emailId) 
    attachments.getOrElse(List.empty).foreach(email.attach)
    email.setHostName(smtpHostname)
    email.setSmtpPort(smtpPort)
    email.setAuthentication(smtpUsername, smtpPassword)
    email.setSSLOnConnect(true)
    email.setSslSmtpPort(smtpPort)
    email.send()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Please let me know if I am missing some configuration here or there is some bug in the library. &lt;br/&gt;
Looking for quick assistance. &lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 14.01 64 bit.&lt;/p&gt;</environment>
        <key id="12903897">EMAIL-158</key>
            <summary>Seeing EHLO option warnings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="hardikvohra">Hardik Vohra</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Oct 2015 20:54:59 +0000</created>
                <updated>Thu, 14 Jan 2016 20:02:26 +0000</updated>
                            <resolved>Thu, 14 Jan 2016 20:02:22 +0000</resolved>
                                    <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15025623" author="sgoeschl" created="Tue, 24 Nov 2015 22:54:51 +0000"  >&lt;p&gt;Hi Hardik,&lt;/p&gt;

&lt;p&gt;I looked at the error message&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;The Ehlo options &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the client proxy target xxxx:xxxx:xxxx:x:x:xxxx:xxx.xxx.x.xx did not match &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; setting up proxy &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; user xxxx@example.com on inbound session 05D2ACA9F88A9066. 
The critical non-matching options were &amp;lt;maxSize&amp;gt;. T
he non-critical non-matching options were &amp;lt;NONE&amp;gt;. Client proxying will &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and searched a bit but found no definitive answer&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;What SMTP server is being used?&lt;/li&gt;
	&lt;li&gt;Can you send an email having the system property &quot;mail.debug&quot; set to &quot;true&quot;. Then you should see the SMTP exchange between client &amp;amp; server which could provide some insight&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15076589" author="sgoeschl" created="Sat, 2 Jan 2016 17:10:24 +0000"  >&lt;p&gt;Hi Hardik, any news from your side? &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Nov 2015 22:54:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mu7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-157] Sending an email from a Java TimerTask object doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-157</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I&apos;m using &quot;Apache Commons Email 1.4&quot;.&lt;/p&gt;

&lt;p&gt;Consider the following simple code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.mail.Email;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.mail.EmailException;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.mail.SimpleEmail;

[...]

    Email email = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SimpleEmail();
    email.setHostName(&lt;span class=&quot;code-quote&quot;&gt;&quot;smtp.foo.bar&quot;&lt;/span&gt;);
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
    {
        email.setFrom(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo2@bar2.fr&quot;&lt;/span&gt;);
        email.setSubject(&lt;span class=&quot;code-quote&quot;&gt;&quot;TestMail&quot;&lt;/span&gt;);
        email.setMsg(&lt;span class=&quot;code-quote&quot;&gt;&quot;This is a test mail ... :-)&quot;&lt;/span&gt;);
        email.addTo(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo3@bar3.fr&quot;&lt;/span&gt;);
        email.send();
    }
    &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(EmailException e)
    {
        &lt;span class=&quot;code-comment&quot;&gt;// TODO Auto-generated &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; block
&lt;/span&gt;        e.printStackTrace();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The code above is put:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;CASE 1: in the &lt;b&gt;doPost()&lt;/b&gt; method of a &lt;b&gt;HttpServlet&lt;/b&gt; object: it works (I receive the email).&lt;/li&gt;
	&lt;li&gt;CASE 2: at runtime (there are no build errors), in the &lt;b&gt;run()&lt;/b&gt; method of a &lt;b&gt;TimerTask&lt;/b&gt; object:&lt;br/&gt;
  If I put a breakpoint on the line &lt;b&gt;Email email = new SimpleEmail();&lt;/b&gt;&lt;br/&gt;
  hit F6 in Eclipse to execute the instruction,&lt;br/&gt;
  I get the message: Source not found.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What am I doing wrong? What is going wrong? How can I make it work?&lt;br/&gt;
Best regards.&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS: Windows 8.1 Pro / IDE: Eclipse Juno / Servlets container: Tomcat 8&lt;/p&gt;</environment>
        <key id="12875281">EMAIL-157</key>
            <summary>Sending an email from a Java TimerTask object doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="leamassiot">LEA MASSIOT</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Sep 2015 11:16:55 +0000</created>
                <updated>Mon, 7 Dec 2015 21:19:17 +0000</updated>
                            <resolved>Mon, 7 Dec 2015 21:19:17 +0000</resolved>
                                    <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14877076" author="michael-o" created="Sat, 19 Sep 2015 12:07:14 +0000"  >&lt;p&gt;You should inquire with the users mailing list. This is not a support forum unless this issue turns out to be a bug.&lt;/p&gt;</comment>
                            <comment id="15025630" author="sgoeschl" created="Tue, 24 Nov 2015 22:56:34 +0000"  >&lt;p&gt;Well, not sure if I understand the issues correctly - is the email not sent or are you unable to set a breakpoint?&lt;/p&gt;</comment>
                            <comment id="15026528" author="leamassiot" created="Wed, 25 Nov 2015 09:56:40 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;This is an old post...I don&apos;t have the code anymore. I used another &lt;br/&gt;
method to get around this problem.&lt;/p&gt;

&lt;p&gt; &amp;gt; is the email not sent or are you unable to set a breakpoint?&lt;br/&gt;
If I remember well, the email is not sent.&lt;br/&gt;
And it doesn&apos;t break into the code. Instead, I get the message: &quot;Source &lt;br/&gt;
not found&quot;.&lt;/p&gt;

&lt;p&gt;Best regards.&lt;br/&gt;
&amp;#8211;&lt;br/&gt;
L&#233;a Massiot&lt;/p&gt;


</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 19 Sep 2015 12:07:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2kapz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-155] Not Able To Parse Attachments</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-155</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;h4&gt;&lt;a name=&quot;Scenario&quot;&gt;&lt;/a&gt;Scenario&lt;/h4&gt;
&lt;ol&gt;
	&lt;li&gt;Sent an email from Microsoft Web UI,&lt;/li&gt;
	&lt;li&gt;When code tries to parse
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; DataSource getAttachment(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; username, MimeMessage mimeMessage) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        MimeMessageParser messageParser = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MimeMessageParser(mimeMessage);
        messageParser.parse();
        &lt;span class=&quot;code-comment&quot;&gt;// further code
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;An exception is thrown&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.ClassCastException: javax.mail.util.SharedByteArrayInputStream cannot be cast to javax.mail.Multipart
	at org.apache.commons.mail.util.MimeMessageParser.parse(MimeMessageParser.java:195)
	at org.apache.commons.mail.util.MimeMessageParser.parse(MimeMessageParser.java:96)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Probably int the wild casting to javax.mail.Multipart in MimeMessageParser is a too brave step&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isMimeType(part, &lt;span class=&quot;code-quote&quot;&gt;&quot;multipart/*&quot;&lt;/span&gt;))
                {
                    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isMultiPart = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Multipart mp = (Multipart) part.getContent();
                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; count = mp.getCount();

                    &lt;span class=&quot;code-comment&quot;&gt;// iterate over all MimeBodyPart
&lt;/span&gt;
                    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; count; i++)
                    {
                        parse(mp, (MimeBodyPart) mp.getBodyPart(i));
                    }
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;org.apache.commons:commons-email:1.4&lt;/p&gt;</environment>
        <key id="12840199">EMAIL-155</key>
            <summary>Not Able To Parse Attachments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pete-experimenter">Petr Osipov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jun 2015 12:51:01 +0000</created>
                <updated>Wed, 24 Jun 2015 17:14:36 +0000</updated>
                            <resolved>Wed, 24 Jun 2015 16:48:32 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14599364" author="tn" created="Wed, 24 Jun 2015 13:07:28 +0000"  >&lt;p&gt;That&apos;s strange, according to the JavaMail specification (see &lt;a href=&quot;https://javamail.java.net/nonav/docs/api/javax/mail/Part.html#getContent--&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://javamail.java.net/nonav/docs/api/javax/mail/Part.html#getContent--&lt;/a&gt;), the object as returned by Part#getContent() is always a subclass of Multipart if the content type is multipart.&lt;/p&gt;</comment>
                            <comment id="14599374" author="tn" created="Wed, 24 Jun 2015 13:13:08 +0000"  >&lt;p&gt;Which JavaMail implementation do you use?&lt;br/&gt;
The reference impl from Oracle or another one?&lt;/p&gt;</comment>
                            <comment id="14599392" author="pete-experimenter" created="Wed, 24 Jun 2015 13:17:17 +0000"  >&lt;p&gt;Thanks for getting back to me&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;blockquote&gt;
&lt;p&gt;That&apos;s strange, according to the JavaMail specification (see &lt;a href=&quot;https://javamail.java.net/nonav/docs/api/javax/mail/Part.html#getContent--&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://javamail.java.net/nonav/docs/api/javax/mail/Part.html#getContent--&lt;/a&gt;), the object as returned by Part#getContent() is always a subclass of Multipart if the content type is multipart.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Let me not point finger at Microsoft, but in any case trying &lt;b&gt;instanceof&lt;/b&gt; before casting would not hurt.&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;&lt;blockquote&gt;
&lt;p&gt;Which JavaMail implementation do you use?&lt;/p&gt;&lt;/blockquote&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;compile &lt;span class=&quot;code-quote&quot;&gt;&apos;javax.mail:mail:1.4.7&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14599435" author="tn" created="Wed, 24 Jun 2015 13:44:59 +0000"  >&lt;p&gt;Well yes, a check would be helpful, but the behavior is still against the spec so the question is what to do in this case.&lt;/p&gt;

&lt;p&gt;Could you attach the mail file that you tried to parse?&lt;/p&gt;</comment>
                            <comment id="14599442" author="pete-experimenter" created="Wed, 24 Jun 2015 13:48:24 +0000"  >&lt;p&gt;Can confirm the same is happening for&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;compile &lt;span class=&quot;code-quote&quot;&gt;&apos;com.sun.mail:javax.mail:1.5.4&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14599449" author="pete-experimenter" created="Wed, 24 Jun 2015 13:51:32 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Could you attach the mail file that you tried to parse?
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Attached as &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12741612/12741612_erroneous.email&quot; title=&quot;erroneous.email attached to EMAIL-155&quot;&gt;erroneous.email&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;. Will that do?&lt;/p&gt;</comment>
                            <comment id="14599463" author="tn" created="Wed, 24 Jun 2015 14:11:42 +0000"  >&lt;p&gt;Tested it with JavaMail 1.5.2 and 1.5.4 and the mail can be successfully parsed.&lt;/p&gt;

&lt;p&gt;Are you sure that you do not have another jar in your classpath that provided java.mail?&lt;/p&gt;</comment>
                            <comment id="14599483" author="pete-experimenter" created="Wed, 24 Jun 2015 14:26:19 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Tested it with JavaMail 1.5.2 and 1.5.4 and the mail can be successfully parsed.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I actually was using &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&apos;javax.mail:mail:1.4.7&apos;,&lt;/li&gt;
	&lt;li&gt;com.sun.mail:javax.mail:1.5.4&lt;/li&gt;
&lt;/ul&gt;


&lt;blockquote&gt;
&lt;p&gt;Are you sure that you do not have another jar in your classpath that provided java.mail?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is what the &lt;b&gt;./gradlew dependencies&lt;/b&gt; gives me&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;compile - Compile classpath for source set &apos;main&apos;.
+--- project :generator
+--- org.slf4j:slf4j-api:1.7.6
+--- ch.qos.logback:logback-classic:1.1.2
|    +--- ch.qos.logback:logback-core:1.1.2
|    \--- org.slf4j:slf4j-api:1.7.6
+--- org.apache.commons:commons-csv:1.1
+--- com.impossibl.pgjdbc-ng:pgjdbc-ng:0.4
|    \--- io.netty:netty-all:4.0.20.Final
+--- org.flywaydb:flyway-core:3.2.1
+--- com.sun.mail:javax.mail:1.5.4
|    \--- javax.activation:activation:1.1 -&amp;gt; 1.1.1
+--- org.jsoup:jsoup:1.8.2
+--- org.apache.commons:commons-email:1.4
|    +--- com.sun.mail:javax.mail:1.5.2 -&amp;gt; 1.5.4 (*)
|    \--- javax.activation:activation:1.1.1
+--- org.apache.commons:commons-lang3:3.3.2
\--- commons-io:commons-io:2.4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So, seems like your lirbrary has a transient dependency on &lt;b&gt;com.sun.mail:javax.mail&lt;/b&gt;. &lt;/p&gt;</comment>
                            <comment id="14599508" author="tn" created="Wed, 24 Jun 2015 14:45:47 +0000"  >&lt;p&gt;The problem must then be related to the way you created or received the MimeMessage, can you provide a code snippet for this as well?&lt;/p&gt;

&lt;p&gt;As a test, could you write the MimeMessage to a File (using the MimeMessageUtils class) and then read it back in and parse?&lt;/p&gt;</comment>
                            <comment id="14599515" author="pete-experimenter" created="Wed, 24 Jun 2015 14:53:42 +0000"  >&lt;blockquote&gt;
&lt;p&gt;The problem must then be related to the way you created or received the MimeMessage, can you provide a code snippet for this as well?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is the snippet. Is that OK?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	Store store = getEmailStore(username);
	Folder inbox = store.getFolder(&lt;span class=&quot;code-quote&quot;&gt;&quot;Inbox&quot;&lt;/span&gt;);

	&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
		inbox.open(Folder.READ_WRITE);

		LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Retrieving messages &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; {}.&quot;&lt;/span&gt;, username);
		Message[] messages = inbox.getMessages();
		LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Count of messages {} &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; {}.&quot;&lt;/span&gt;, messages.length, username);
	}
	&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Message msg : messages) {
		LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Processing message &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; {}. Message from {}.&quot;&lt;/span&gt;, username, Arrays.toString(msg.getFrom()));
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (msg &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; MimeMessage) {
				DataSource attachmentDatasource = getAttachment(username, (MimeMessage) msg);
			}
	}
	
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; DataSource getAttachment(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; username, MimeMessage mimeMessage) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        MimeMessageParser messageParser = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MimeMessageParser(mimeMessage);
		&lt;span class=&quot;code-comment&quot;&gt;////////////////////////////////////////////////////////////////////////////
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// HERE it blows
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;////////////////////////////////////////////////////////////////////////////	
&lt;/span&gt;        messageParser.parse();

        List&amp;lt;DataSource&amp;gt; attachmentList = messageParser.getAttachmentList();
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; attachmentCount = attachmentList.size();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (attachmentCount != 1) {
            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; msg = &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unexpected number of attachments %s &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; %s. Should be exactly one.&quot;&lt;/span&gt;, attachmentCount, username);
            notifyError(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unexpected &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of Attachments&quot;&lt;/span&gt;, msg);
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; attachmentList.get(0);
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Store getEmailStore(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; user) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; MessagingException {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; pass = mailProp.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;mail.retriever.password&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; host = mailProp.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;mail.pop3.host&quot;&lt;/span&gt;);
        LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Connecting using mail account {} to {}.&quot;&lt;/span&gt;, user, host);

        Session sess = Session.getInstance(mailProp, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; javax.mail.Authenticator() {
            &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; PasswordAuthentication getPasswordAuthentication() {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PasswordAuthentication(user, pass);
            }
        });
        Store store = sess.getStore(&lt;span class=&quot;code-quote&quot;&gt;&quot;pop3&quot;&lt;/span&gt;);
        store.connect(user, pass);

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; store;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;As a test, could you write the MimeMessage to a File (using the MimeMessageUtils class) and then read it back in and parse?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Will have a try. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14599621" author="pete-experimenter" created="Wed, 24 Jun 2015 15:57:41 +0000"  >&lt;blockquote&gt;
&lt;p&gt;As a test, could you write the MimeMessage to a File (using the MimeMessageUtils class) and then read it back in and parse?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I have saved it using&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;MimeMessageUtils.writeMimeMessage(messages[0], &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/storedMessage1&apos;&lt;/span&gt;))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;How do I read it back? &lt;/p&gt;</comment>
                            <comment id="14599719" author="pete-experimenter" created="Wed, 24 Jun 2015 16:48:32 +0000"  >&lt;p&gt;Closing as a user error. The problem was due to the way the resulting jar was build. It was an uberjar containing only classfiles, which removes needed resources from META-INF directory. Once everything was included worked like charm. Thanks for the wonderful library!&lt;/p&gt;</comment>
                            <comment id="14599742" author="tn" created="Wed, 24 Jun 2015 17:02:15 +0000"  >&lt;p&gt;yes uber jars usually make more problems than they solve, good that you found the problem!&lt;/p&gt;</comment>
                            <comment id="14599758" author="pete-experimenter" created="Wed, 24 Jun 2015 17:14:36 +0000"  >&lt;p&gt;Indeed so. Thanks for help!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12741612" name="erroneous.email" size="230152" author="pete-experimenter" created="Wed, 24 Jun 2015 13:51:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Jun 2015 13:07:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gfnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-153] Not Applicable</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-153</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Not applicable&lt;/p&gt;</description>
                <environment></environment>
        <key id="12826055">EMAIL-153</key>
            <summary>Not Applicable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="first.last.4242">first</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Apr 2015 18:49:58 +0000</created>
                <updated>Wed, 29 Apr 2015 19:03:35 +0000</updated>
                            <resolved>Wed, 29 Apr 2015 19:03:34 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14519947" author="tn" created="Wed, 29 Apr 2015 18:57:03 +0000"  >&lt;p&gt;The bug report does not explain the actual problem, uses spring instead of commons-email and is simply incomprehensible.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Apr 2015 18:57:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e3kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-151] ImageHtmlEmail uses wrong name for embed() call</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-151</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Found by reading the code: ImageHtmlEmail#replacePattern() asks the DataSourceResolver for a DataSource, and if the name of the data source is null/empty uses the resource location as name for looking up the CID. &lt;/p&gt;

&lt;p&gt;But, if that didn&apos;t work out it tries to embed the data source using the original &apos;null&apos; name instead, which fails with an exception.&lt;/p&gt;

&lt;p&gt;Trivial patch attached.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12780475">EMAIL-151</key>
            <summary>ImageHtmlEmail uses wrong name for embed() call</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ankon">Andreas Kohn</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Mar 2015 11:00:12 +0000</created>
                <updated>Sat, 23 May 2015 07:02:37 +0000</updated>
                            <resolved>Tue, 10 Mar 2015 20:59:49 +0000</resolved>
                                    <version>1.3.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14352801" author="ankon" created="Mon, 9 Mar 2015 11:01:13 +0000"  >&lt;p&gt;Workaround: provide a name for the data source.&lt;/p&gt;</comment>
                            <comment id="14353733" author="tn" created="Mon, 9 Mar 2015 22:05:38 +0000"  >&lt;p&gt;Good catch, this must be wrong indeed.&lt;/p&gt;</comment>
                            <comment id="14355700" author="tn" created="Tue, 10 Mar 2015 20:59:49 +0000"  >&lt;p&gt;Fixed in r1665692. Thanks for the report and patch!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12703406" name="email151-use-calculated-name-for-embed.diff" size="553" author="ankon" created="Mon, 9 Mar 2015 11:01:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Mar 2015 22:05:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26ikv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-149] EmailConstants.MAIL_SMTP_FROM value is incorrect</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-149</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Per the JavaMail Javadoc (&lt;a href=&quot;https://javamail.java.net/nonav/docs/api/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://javamail.java.net/nonav/docs/api/&lt;/a&gt;), the standard property for the from address is &quot;mail.from&quot;, not &quot;mail.smtp.from&quot;.&lt;/p&gt;

&lt;p&gt;This incorrect value causes sending emails to fail if using a Session provided by an EE container that properly sets the from address. Observed on WildFly 8.2.0.Final.&lt;/p&gt;

&lt;p&gt;Workaround: add the &quot;mail.smtp.from&quot; value to the session properties. You don&apos;t need to set the actual value, the fact that it&apos;s there is enough:&lt;/p&gt;

&lt;p&gt;session.getProperties().setProperty(EmailConstants.MAIL_SMTP_FROM, &quot;&quot;);&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768169">EMAIL-149</key>
            <summary>EmailConstants.MAIL_SMTP_FROM value is incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rcd">Richard DiCroce</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 Jan 2015 00:46:16 +0000</created>
                <updated>Sat, 23 May 2015 07:02:36 +0000</updated>
                            <resolved>Tue, 10 Mar 2015 21:12:25 +0000</resolved>
                                    <version>1.3.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14347655" author="tn" created="Wed, 4 Mar 2015 22:09:56 +0000"  >&lt;p&gt;The mail.smtp.from property defines the bounce address and is only set when one is defined.&lt;/p&gt;

&lt;p&gt;What do you mean with &quot;by an EE container that properly sets the from address&quot;?&lt;/p&gt;

&lt;p&gt;Edit: did you test with debug enabled and can you provide the output of it?&lt;/p&gt;</comment>
                            <comment id="14347764" author="rcd" created="Wed, 4 Mar 2015 23:22:03 +0000"  >&lt;p&gt;It&apos;s been a while since I filed this so I might not have all the details straight anymore. I don&apos;t have any debug output but the problem isn&apos;t hard to understand.&lt;/p&gt;

&lt;p&gt;I configure a mail Session in WildFly, including the &quot;from&quot; attribute in WildFly&apos;s configuration. WildFly creates the mail Session and binds it in JNDI. When creating the Session, WildFly notices the from attribute and sets the value of &quot;mail.from&quot; in the Session, which is the correct attribute to use according to the JavaMail Javadoc. I obtain the Session from JNDI and provide it to the Email object. The idea here is that all of the necessary configuration should have occurred when WildFly created the Session, so I should not need to call Email#setFrom().&lt;/p&gt;

&lt;p&gt;But when I try to send the Email, I get an exception saying &quot;From address required&quot;. This occurs because of the checks in Email#buildMimeMessage() at lines 1315 to 1325. It first checks if the fromAddress field in the Email itself is set. It isn&apos;t because I shouldn&apos;t need to set it, as WildFly has already set the property in the session. Because fromAddress is null, the code then checks whether the &quot;mail.smtp.from&quot; property is set in the session. It isn&apos;t set because that is a non-standard property. And so an exception is thrown and the message is not sent.&lt;/p&gt;

&lt;p&gt;It looks to me like &quot;mail.from&quot; and &quot;mail.smtp.from&quot; are trying to do the same thing, hence why I said the value of the MAIL_SMTP_FROM constant is incorrect. If they&apos;re not doing the same thing, then the code should at least be adjusted to check &quot;mail.from&quot; in addition to &quot;mail.smtp.from&quot; before throwing an exception.&lt;/p&gt;</comment>
                            <comment id="14348247" author="tn" created="Thu, 5 Mar 2015 06:34:15 +0000"  >&lt;p&gt;ok now it is clear, the case that you outlined should be handled correctly.&lt;/p&gt;</comment>
                            <comment id="14355730" author="tn" created="Tue, 10 Mar 2015 21:12:25 +0000"  >&lt;p&gt;Fixed in r1665699.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Mar 2015 22:09:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24hcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-148] HtmlMail Incompatible with geronimo JavaMail 1.4_mail-1.8.*</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-148</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I have updated to the current release version 1.3.3 and the html mails i recieve now, is the plain html source code.&lt;br/&gt;
I am downgraded step by step and in the version 1.3.1 the html mails are as expected.&lt;/p&gt;</description>
                <environment>&lt;p&gt;openEJB 4.7.0&lt;br/&gt;
libraries included and reqired: geronimo-javamail_1.4_mail-1.8.3.jar&lt;/p&gt;</environment>
        <key id="12760675">EMAIL-148</key>
            <summary>HtmlMail Incompatible with geronimo JavaMail 1.4_mail-1.8.*</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="escan2">Can Eskikaya</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Dec 2014 08:21:39 +0000</created>
                <updated>Wed, 10 Dec 2014 08:22:18 +0000</updated>
                            <resolved>Wed, 10 Dec 2014 08:22:18 +0000</resolved>
                                    <version>1.3.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i239lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-147] HtmlMail Incompatible with geronimo JavaMail 1.4_mail-1.8.*</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-147</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I have updated to the current release version 1.3.3 and the html mails i recieve now, is the plain html source code.&lt;br/&gt;
I am downgraded step by step and in the version 1.3.1 the html mails are as expected.&lt;/p&gt;</description>
                <environment>&lt;p&gt;openEJB 4.7.0&lt;br/&gt;
libraries included and reqired: geronimo-javamail_1.4_mail-1.8.3.jar&lt;/p&gt;</environment>
        <key id="12760674">EMAIL-147</key>
            <summary>HtmlMail Incompatible with geronimo JavaMail 1.4_mail-1.8.*</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="escan2">Can Eskikaya</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Dec 2014 08:21:27 +0000</created>
                <updated>Sat, 23 May 2015 07:02:37 +0000</updated>
                            <resolved>Fri, 26 Dec 2014 14:25:46 +0000</resolved>
                                    <version>1.3.2</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14240811" author="tn" created="Wed, 10 Dec 2014 08:27:24 +0000"  >&lt;p&gt;Can you attach an example mail that shows the differences between 1.3.1 and 1.3.3?&lt;/p&gt;</comment>
                            <comment id="14240870" author="escan2" created="Wed, 10 Dec 2014 09:57:11 +0000"  >&lt;p&gt;only html source.png       &amp;lt;- the mail looks like in version &amp;gt;=1.3.2&lt;br/&gt;
mail header - only html source.png &amp;lt;- related mail header&lt;/p&gt;

&lt;p&gt;html mail.png &amp;lt;- the mail looks like in version &amp;lt;=1.3.1&lt;br/&gt;
mail header - html mail.png &amp;lt;- related mail header&lt;/p&gt;</comment>
                            <comment id="14243908" author="tn" created="Fri, 12 Dec 2014 09:34:20 +0000"  >&lt;p&gt;When running the html email tests with inline images, I do not see any difference between 1.3.1 and 1.3.3.&lt;br/&gt;
The only notable change in 1.3.2 that might have an effect is the support for the mail.mime.charset setting, but I fail to see how.&lt;/p&gt;

&lt;p&gt;Can you also post the code to send the email and if possible the full (obfuscated) eml file of the mail message received?&lt;/p&gt;</comment>
                            <comment id="14243930" author="escan2" created="Fri, 12 Dec 2014 09:59:58 +0000"  >&lt;p&gt;It&apos;s easy to reproduce. I used the example: &quot;Sending HTML formatted email&quot; :&lt;/p&gt;

&lt;p&gt;And include the jars:&lt;br/&gt;
commons-email-1.3.1 .jar&lt;br/&gt;
geronimo-javamail_1.4_mail-1.8.3.jar&lt;br/&gt;
and used the JDK7&lt;/p&gt;

&lt;p&gt;that works perfectly.&lt;/p&gt;

&lt;p&gt;exchange the commons-email-1.3.1.jar with 1.3.2 or 1.3.3&lt;br/&gt;
then the result is the plain HTML source code respectively the alternative message text.&lt;/p&gt;

&lt;p&gt;If i use the mail.jar (JavaMail) instead of geronimo all works fine. But the apache openejb used geronimo.&lt;/p&gt;

</comment>
                            <comment id="14243979" author="tn" created="Fri, 12 Dec 2014 10:54:39 +0000"  >&lt;p&gt;Ok I could now reproduce the problem. This is a bug in the MimeBodyPart implementation of geronimo where the content subtype is completely ignored.&lt;br/&gt;
Will see how we can work-around this.&lt;/p&gt;</comment>
                            <comment id="14244900" author="tn" created="Fri, 12 Dec 2014 22:24:59 +0000"  >&lt;p&gt;The problem is now fixed in the geronimo-javamail 1.9.0-SNAPSHOT, but I will also add a work-around to commons-email for faulty implementations.&lt;/p&gt;</comment>
                            <comment id="14244901" author="tn" created="Fri, 12 Dec 2014 22:24:59 +0000"  >&lt;p&gt;The problem is now fixed in the geronimo-javamail 1.9.0-SNAPSHOT, but I will also add a work-around to commons-email for faulty implementations.&lt;/p&gt;</comment>
                            <comment id="14259083" author="tn" created="Fri, 26 Dec 2014 14:25:46 +0000"  >&lt;p&gt;Fixed in r1647983.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                            <comment id="14259102" author="escan2" created="Fri, 26 Dec 2014 15:00:37 +0000"  >&lt;p&gt;Perfect, thanks. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12761372">GERONIMO-6536</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12686234" name="html mail.png" size="14046" author="escan2" created="Wed, 10 Dec 2014 09:57:11 +0000"/>
                            <attachment id="12686235" name="mail header - html mail.png" size="82221" author="escan2" created="Wed, 10 Dec 2014 09:57:11 +0000"/>
                            <attachment id="12686236" name="mail header - only html source.png" size="31221" author="escan2" created="Wed, 10 Dec 2014 09:57:11 +0000"/>
                            <attachment id="12686233" name="only html source.png" size="19665" author="escan2" created="Wed, 10 Dec 2014 09:57:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Dec 2014 08:27:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i239l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-142] HtmlEmail with both html and text provided has invalid content-type </title>
                <link>https://issues.apache.org/jira/browse/EMAIL-142</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;If I set both html and plain text for HtmlEmail i.e.:&lt;/p&gt;

&lt;p&gt;email.setHtmlMsg(htmlMessage);&lt;br/&gt;
email.setTextMsg(plainTextMessage);&lt;/p&gt;

&lt;p&gt;then message which is sent has Content-type: multipart/mixed;&lt;br/&gt;
This content type is recognized for example by Mozilla Thunderbird as a message with attachment.&lt;/p&gt;

&lt;p&gt;Correct content-type for this kind of email is Content-type: multipart/alternative;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12730269">EMAIL-142</key>
            <summary>HtmlEmail with both html and text provided has invalid content-type </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marcintomiak">Marcin Tomiak</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Jul 2014 18:12:45 +0000</created>
                <updated>Sat, 23 May 2015 07:02:36 +0000</updated>
                            <resolved>Thu, 2 Oct 2014 20:07:25 +0000</resolved>
                                    <version>1.3.2</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="900">0.25h</timeoriginalestimate>
                            <timeestimate seconds="900">0.25h</timeestimate>
                                        <comments>
                            <comment id="14153695" author="tn" created="Tue, 30 Sep 2014 20:19:04 +0000"  >&lt;p&gt;The root container for the mime message will always be created with content-type multipart/mixed, but in case text and html message has been provided a child container with type multipart/alternative will be added containing the 2 messages, see the example mail below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Date: Tue, 30 Sep 2014 22:11:35 +0200 (CEST)
From: test_from@apache.org
To: test_to@apache.org
Message-ID: &amp;lt;21953712.11.1412107895751.JavaMail.tn@tn-laptop&amp;gt;
Subject: [email] 1.Test: text + html content
MIME-Version: 1.0
Content-Type: multipart/mixed;
        boundary=&lt;span class=&quot;code-quote&quot;&gt;&quot;----=_Part_9_12877540.1412107867547&quot;&lt;/span&gt;

------=_Part_9_12877540.1412107867547
Content-Type: multipart/alternative;
        boundary=&lt;span class=&quot;code-quote&quot;&gt;&quot;----=_Part_10_11984121.1412107895170&quot;&lt;/span&gt;

------=_Part_10_11984121.1412107895170
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

Your email client does not support HTML messages
------=_Part_10_11984121.1412107895170
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: 7bit

&amp;lt;html&amp;gt;&amp;lt;b&amp;gt;This is a HTML message without any image&amp;lt;/b&amp;gt;&amp;lt;html&amp;gt;
------=_Part_10_11984121.1412107895170--

------=_Part_9_12877540.1412107867547--
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I open this message with thunderbird, it correctly displays the HTML message.&lt;/p&gt;</comment>
                            <comment id="14153708" author="marcintomiak" created="Tue, 30 Sep 2014 20:25:47 +0000"  >&lt;p&gt;Try to download this email via IMAP. &lt;/p&gt;

&lt;p&gt;As long as you don&apos;t click on the message in inbox (and thus read it), Mozilla Thunderbird will show attachment icon (because it read from header that this is multipart/mixed).&lt;/p&gt;

&lt;p&gt;Please refer to: &lt;a href=&quot;http://tools.ietf.org/html/rfc2046#section-5.1.4&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://tools.ietf.org/html/rfc2046#section-5.1.4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If the message has alternative representations of the message, and there is no attachment, then main content-type should be multipart/alternative (not multipart/mixed).&lt;/p&gt;</comment>
                            <comment id="14153731" author="tn" created="Tue, 30 Sep 2014 20:48:06 +0000"  >&lt;p&gt;I did check their rfc reference and your statement is correct, I was just wondering if modern email clients would still handle the message correctly.&lt;/p&gt;

&lt;p&gt;Fixing this would not require much changes, as we only need to check if there are other attachments and if not use the root mime container with type alternative to add the text and html message part.&lt;/p&gt;</comment>
                            <comment id="14157084" author="tn" created="Thu, 2 Oct 2014 20:07:25 +0000"  >&lt;p&gt;Fixed in r1629061.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Sep 2014 20:19:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408342</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1y9hz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-140] Cannot build with Java 8</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-140</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;If I build trunk with Java 8, I get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests in error:
  HtmlEmailTest.initializationError &#187; IllegalState Failed to transform class wit...
  ImageHtmlEmailTest.initializationError &#187; IllegalState Failed to transform clas...
  MultiPartEmailTest.initializationError &#187; IllegalState Failed to transform clas...

Tests run: 125, Failures: 0, Errors: 3, Skipped: 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Apache Maven 3.2.2 (45f7c06d68e745d05611f7fd14efb6594181933e; 2014-06-17T09:51:42-04:00)
Maven home: C:\Java\apache-maven-3.2.2
Java version: 1.8.0_05, vendor: Oracle Corporation
Java home: C:\Program Files\Java\jdk1.8.0_05\jre
Default locale: en_US, platform encoding: Cp1252
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;dos&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With Java 7, all is well:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Apache Maven 3.2.2 (45f7c06d68e745d05611f7fd14efb6594181933e; 2014-06-17T09:51:42-04:00)
Maven home: C:\Java\apache-maven-3.2.2
Java version: 1.7.0_60, vendor: Oracle Corporation
Java home: C:\Program Files\Java\jdk1.7.0_60\jre
Default locale: en_US, platform encoding: Cp1252
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.2.2 (45f7c06d68e745d05611f7fd14efb6594181933e; 2014-06-17T09:51:42-04:00)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.2.2&lt;br/&gt;
Java version: 1.8.0_05, vendor: Oracle Corporation&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.8.0_05\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;dos&quot;&lt;/p&gt;</environment>
        <key id="12724463">EMAIL-140</key>
            <summary>Cannot build with Java 8</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jun 2014 14:47:06 +0000</created>
                <updated>Wed, 9 Jul 2014 20:17:41 +0000</updated>
                            <resolved>Tue, 1 Jul 2014 08:22:04 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.3.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14047814" author="tn" created="Mon, 30 Jun 2014 16:27:31 +0000"  >&lt;p&gt;Updating powermock/easymock like this solves the problem for Java 8:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;         &amp;lt;dependency&amp;gt;
             &amp;lt;groupId&amp;gt;org.powermock&amp;lt;/groupId&amp;gt;
             &amp;lt;artifactId&amp;gt;powermock-module-junit4&amp;lt;/artifactId&amp;gt;
-            &amp;lt;version&amp;gt;1.4.12&amp;lt;/version&amp;gt;
+            &amp;lt;version&amp;gt;1.5.5&amp;lt;/version&amp;gt;
             &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
         &amp;lt;/dependency&amp;gt;
         &amp;lt;dependency&amp;gt;
             &amp;lt;groupId&amp;gt;org.powermock&amp;lt;/groupId&amp;gt;
             &amp;lt;artifactId&amp;gt;powermock-api-easymock&amp;lt;/artifactId&amp;gt;
-            &amp;lt;version&amp;gt;1.4.12&amp;lt;/version&amp;gt;
+            &amp;lt;version&amp;gt;1.5.5&amp;lt;/version&amp;gt;
             &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
         &amp;lt;/dependency&amp;gt;
         &amp;lt;dependency&amp;gt;
             &amp;lt;groupId&amp;gt;org.easymock&amp;lt;/groupId&amp;gt;
             &amp;lt;artifactId&amp;gt;easymock&amp;lt;/artifactId&amp;gt;
-            &amp;lt;version&amp;gt;3.1&amp;lt;/version&amp;gt;
+            &amp;lt;version&amp;gt;3.2&amp;lt;/version&amp;gt;
             &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
         &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I tested it with Java 6 - 8, but this will not work for Java 5 as then we have unsupported class versions in the powermock jars.&lt;/p&gt;</comment>
                            <comment id="14048628" author="tn" created="Tue, 1 Jul 2014 08:22:04 +0000"  >&lt;p&gt;Fixed in r1607013.&lt;/p&gt;

&lt;p&gt;By using a specific test profile, the easymock/powermock version is changed depending on the java environment.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Jun 2014 16:27:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402646</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xayv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-138] Czech/Slovak diacritic marks in the file name of the attached file screw whole sent email</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-138</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Czech/Slovak diacritic marks in the file name of the attached file screw whole sent email. Email will arrive but it&apos;s content will be messy. An example of a filename which does this is &quot;nazev&#345;&#353;&#269;&#269;&#353;&#353;&#283;.txt&quot;. Optionally put some text in email and in file. I tried HtmlEmail.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7, JDK 7 (6 compatible).&lt;/p&gt;</environment>
        <key id="12712598">EMAIL-138</key>
            <summary>Czech/Slovak diacritic marks in the file name of the attached file screw whole sent email</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="qed">qed</reporter>
                        <labels>
                            <label>diacritic</label>
                    </labels>
                <created>Tue, 6 May 2014 15:21:03 +0000</created>
                <updated>Thu, 26 Mar 2020 06:52:32 +0000</updated>
                                            <version>1.3.2</version>
                                    <fixVersion>1.3.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13990933" author="tn" created="Tue, 6 May 2014 18:19:09 +0000"  >&lt;p&gt;The filename is not correctly encoded in case of non-ascii names.&lt;/p&gt;

&lt;p&gt;As a work-around you can do the following:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;HtmlEmail email = ...
File fileToAttach = ...

EmailAttachment attachment = new EmailAttachment();
attachment.setName(MimeUtility.encodeText(fileToAttach.getName()));
attachment.setDescription(&quot;blabla&quot;);
attachment.setPath(fileToAttach.getAbsolutePath());
email.attach(attachment);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13991092" author="tn" created="Tue, 6 May 2014 20:32:26 +0000"  >&lt;p&gt;Fixed in r1592866.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                            <comment id="14258103" author="nitulkukadia" created="Wed, 24 Dec 2014 08:30:58 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;Thomas Neidhart&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=qed&quot; class=&quot;user-hover&quot; rel=&quot;qed&quot;&gt;qed&lt;/a&gt; , I found that the solution provided for this fix works only for systems which have default system encoding set to UTF-8.&lt;/p&gt;

&lt;p&gt;You should use &lt;b&gt;MimeUtility.encodeText(fileToAttach.getName()), &quot;UTF-8&quot;, null)&lt;/b&gt; to resolve this issue.&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="14258318" author="qed" created="Wed, 24 Dec 2014 15:01:01 +0000"  >&lt;p&gt;@Nit: If it is as you say, then this issue shall be reopened. My tests were successful. I think my default codepage is Cp1250 for java. No problems reported so far. So if you have tested bugfix in 1.3.3 and it is as you say, please, report new issue.&lt;/p&gt;</comment>
                            <comment id="14259089" author="tn" created="Fri, 26 Dec 2014 14:37:20 +0000"  >&lt;p&gt;I have tried to reproduce the problem now with different system charsets (property mail.mime.charset):&lt;/p&gt;

&lt;p&gt;for ISO-8859-15:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Content-Disposition: attachment;
filename=&quot;=?ISO-8859-15?Q?Test_Attachment_-_a&amp;gt;=E4,_o&amp;gt;=F6,_u&amp;gt;=FC,_au&amp;gt;=E4u?=&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;for UTF-8:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Content-Disposition: attachment;
filename=&quot;=?utf-8?Q?Test_Attachment_-_a&amp;gt;=C3=A4,_o&amp;gt;=C3=B6,_u&amp;gt;=C3=BC,_au&amp;gt;=C3=A4u?=&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So you can see that the respective charset is used during the encoding of the filename and also part of the resulting mime message. When opening the resulting email with thunderbird, the correct filename is displayed.&lt;/p&gt;

&lt;p&gt;Can you more precisely specify the problem you are seeing?&lt;/p&gt;</comment>
                            <comment id="15076673" author="sgoeschl" created="Sat, 2 Jan 2016 21:22:59 +0000"  >&lt;p&gt;Hi folks, doing some JIRA grooming - any updates on the issues?&lt;/p&gt;</comment>
                            <comment id="15933898" author="sebb@apache.org" created="Tue, 21 Mar 2017 00:51:39 +0000"  >&lt;p&gt;Associated commit:&lt;/p&gt;

&lt;p&gt;URL:&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/r1592866&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/r1592866&lt;/a&gt;&lt;br/&gt;
Log: &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-138&quot; title=&quot;Czech/Slovak diacritic marks in the file name of the attached file screw whole sent email&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-138&quot;&gt;EMAIL-138&lt;/a&gt; Filenames of attachments were not properly encoded. Thanks to qed.  &lt;/p&gt;

&lt;p&gt;Added: &lt;br/&gt;
commons/proper/email/trunk/src/test/resources/eml/html-attachment-encoded-filename.eml &lt;br/&gt;
Modified:&lt;br/&gt;
commons/proper/email/trunk/src/changes/changes.xml&lt;br/&gt;
commons/proper/email/trunk/src/main/java/org/apache/commons/mail/MultiPartEmail.java&lt;br/&gt;
commons/proper/email/trunk/src/test/java/org/apache/commons/mail/SendWithAttachmentsTest.java&lt;br/&gt;
commons/proper/email/trunk/src/test/java/org/apache/commons/mail/util/MimeMessageParserTest.java &lt;/p&gt;</comment>
                            <comment id="15933919" author="sebb@apache.org" created="Tue, 21 Mar 2017 01:03:21 +0000"  >&lt;p&gt;AFAICT, the filename should not be encoded by Commons Email.&lt;/p&gt;

&lt;p&gt;See the Javadoc for MimeBodyPart#setFileName(String) &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Commons Email is a wrapper for JavaMail, so it should not be doing its own encoding. Encoding should be left to JavaMail.&lt;/p&gt;

&lt;p&gt;I think this &apos;fix&apos; needs to be reverted.&lt;/p&gt;

&lt;p&gt;However the Commons Javadoc should be updated to point to &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://javamail.java.net/nonav/docs/api/javax/mail/internet/MimeBodyPart.html#setFileName-java.lang.String-&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://javamail.java.net/nonav/docs/api/javax/mail/internet/MimeBodyPart.html#setFileName-java.lang.String-&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16410086" author="vrozkovec" created="Thu, 22 Mar 2018 18:38:03 +0000"  >&lt;p&gt;I am also in favor of reverting as JavaMail can encode the filename, if need be.&lt;/p&gt;

&lt;p&gt;This change broke some of my e-mail attachments which cannot be displayed in gmail now, Thunderbird is ok, though.&lt;/p&gt;

&lt;p&gt;Here is relevant source part of the message that shows how is the name and filename encoded that gmail has troubles with:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;------=_Part_4_279180659.1521739053595&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Content-Type: application/octet-stream; name=&quot;=?UTF-8?Q?Nabidka=5F120001=5F2012-04-14=5F201?= =?UTF-8?Q?2-\&quot;; name*1=\&quot;05-03=5FTestovac=C3=AD_nab=C3=ADdka.pdf?=&quot;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Content-Transfer-Encoding: base64&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Content-Disposition: attachment; filename=&quot;=?UTF-8?Q?Nabidka=5F120001=5F2012-04-14=5F201?= =?UTF-8?Q?2-\&quot;; filename*1=\&quot;05-03=5FTestovac=C3=AD_nab=C3=ADdka.pdf?=&quot;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Content-Description: &quot;Some description&quot;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;And here how it shows in gmail. The file sent is valid pdf file.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12915740/12915740_Gmail+attachments.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Proper filename should be: Nabidka_120001_2012-04-14_2012-05-03_Testovac&#237; nab&#237;dka.pdf&lt;/p&gt;

&lt;p&gt;I had to hack around this behavior by attaching file first by&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&#160;&#160;&#160; public MultiPartEmail attach(&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; final DataSource ds,&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String name,&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String description)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; throws EmailException&lt;/tt&gt;&lt;br/&gt;
{{&#160;&#160;&#160; }}&lt;/p&gt;

&lt;p&gt;then via reflection get the &quot;container&quot; property of the ImageHtmlEmail and get body part that was added as the last one and setting the filename directly, without using MimeUtility.encodeText(name).&lt;/p&gt;

&lt;p&gt;Attachments display correctly now.&lt;/p&gt;</comment>
                            <comment id="16800571" author="vrozkovec" created="Mon, 25 Mar 2019 10:47:55 +0000"  >&lt;p&gt;Hi, any news on this? Had same problem again, attachment name was encoded wrongly if it contained diacritics, and it was required to use this hack again:&lt;/p&gt;

&lt;p&gt;ImageHtmlEmail email;&lt;/p&gt;

&lt;p&gt;//attach file&lt;br/&gt;
email.attach(new FileDataSource(file, filename, name);&lt;/p&gt;

&lt;p&gt;//get container by reflection&lt;br/&gt;
MimeMultipart mp = (MimeMultipart)PropertyResolver.getValue(&quot;container&quot;, email);&lt;/p&gt;

&lt;p&gt;//set original, unencoded filename - it will be encoded corectly by Java mail&lt;br/&gt;
mp.getBodyPart(mp.getCount() - 1).setFileName(filename);&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17019274" author="mhug" created="Mon, 20 Jan 2020 07:30:24 +0000"  >&lt;p&gt;Could this please be prioritized?&lt;/p&gt;

&lt;p&gt;Just with a quick glance over the issues here I see several people strugling with the same thing (&lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-189&quot; title=&quot;if Korean language is included in attachment file name, attachment file name is broken.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-189&quot;&gt;EMAIL-189&lt;/a&gt;,&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-181&quot; title=&quot;the filename of the attachment is not right if the filename has Chinese Characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-181&quot;&gt;EMAIL-181&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;There is even an open PR to fix this exact issue, since October of 2019&#160;&lt;a href=&quot;https://github.com/apache/commons-email/pull/10&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/commons-email/pull/10&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17052569" author="sgoeschl" created="Thu, 5 Mar 2020 22:36:12 +0000"  >&lt;p&gt;I try to have a look at it over the weekend - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mhug&quot; class=&quot;user-hover&quot; rel=&quot;mhug&quot;&gt;Matthias Hug&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrozkovec&quot; class=&quot;user-hover&quot; rel=&quot;vrozkovec&quot;&gt;V&#237;t Rozkovec&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=qed&quot; class=&quot;user-hover&quot; rel=&quot;qed&quot;&gt;qed&lt;/a&gt; are you able to test that quickly when the fix is applied on a feature branch? &lt;/p&gt;</comment>
                            <comment id="17067404" author="sgoeschl" created="Thu, 26 Mar 2020 06:52:32 +0000"  >&lt;p&gt;I added an additional test to `EmailLiveTest` and can confirm that the attachments with Czech/Slovak name are correctly rendered&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12915740" name="Gmail attachments.png" size="12779" author="vrozkovec" created="Thu, 22 Mar 2018 18:31:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 May 2014 18:19:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>390914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vbx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-137] MimeMessageParser throws ClassCastException for HtmlEmail</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-137</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;MimeMessageParser throws ClassCastException when parsing just created and built HtmlEmail:&lt;/p&gt;

&lt;p&gt;java.lang.ClassCastException: javax.mail.internet.MimeMultipart cannot be cast to java.lang.String&lt;br/&gt;
    at org.apache.commons.mail.util.MimeMessageParser.parse(MimeMessageParser.java:176) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-email-1.3.2.jar:1.3.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
    at org.apache.commons.mail.util.MimeMessageParser.parse(MimeMessageParser.java:85) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-email-1.3.2.jar:1.3.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
    at utils.EmailSender$.emailForAutomation(EmailSender.scala:382) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;classes/:na&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Here is the test code:&lt;/p&gt;

&lt;p&gt;def emailForAutomation(email: HtmlEmail): String = {&lt;/p&gt;

&lt;p&gt;  email.buildMimeMessage()&lt;br/&gt;
  val mimeMessage = email.getMimeMessage()&lt;/p&gt;

&lt;p&gt;  val parser = new MimeMessageParser(mimeMessage)&lt;br/&gt;
  parser.parse()&lt;/p&gt;

&lt;p&gt;  parser.getHtmlContent()&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.6 + Scala 2.10.3 + Play! 2.2.2&lt;/p&gt;</environment>
        <key id="12709459">EMAIL-137</key>
            <summary>MimeMessageParser throws ClassCastException for HtmlEmail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alboko">Alex Kogan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Apr 2014 16:36:18 +0000</created>
                <updated>Wed, 9 Jul 2014 20:17:41 +0000</updated>
                            <resolved>Tue, 29 Apr 2014 22:33:48 +0000</resolved>
                                    <version>1.3.2</version>
                                    <fixVersion>1.3.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13984910" author="tn" created="Tue, 29 Apr 2014 22:33:48 +0000"  >&lt;p&gt;Fixed in r1591128.&lt;/p&gt;

&lt;p&gt;The problem was that MimePart.isMimeType() was returning wrong results in case of empty content.&lt;/p&gt;

&lt;p&gt;The mime type detection has been improved, and the exception should not occur anymore.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Apr 2014 22:33:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1usuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>388042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-136] Fix Javadoc 1.8 errors</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-136</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description></description>
                <environment></environment>
        <key id="12692653">EMAIL-136</key>
            <summary>Fix Javadoc 1.8 errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="scop">Ville Skytt&#228;</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Sat, 1 Feb 2014 11:01:46 +0000</created>
                <updated>Wed, 9 Jul 2014 20:17:41 +0000</updated>
                            <resolved>Sun, 2 Feb 2014 02:52:05 +0000</resolved>
                                                    <fixVersion>1.3.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13888806" author="garydgregory" created="Sun, 2 Feb 2014 02:52:05 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[EMAIL-136] Fix Javadoc 1.8 errors.&quot; C:/vcs/svn/apache/commons/trunks-proper/email/src/main/java/org/apache/commons/mail/ImageHtmlEmail.java C:/vcs/svn/apache/commons/trunks-proper/email/src/changes/changes.xml C:/vcs/svn/apache/commons/trunks-proper/email/src/main/java/org/apache/commons/mail/HtmlEmail.java C:/vcs/svn/apache/commons/trunks-proper/email/src/main/java/org/apache/commons/mail/Email.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/email/src/changes/changes.xml
    Sending        C:/vcs/svn/apache/commons/trunks-proper/email/src/main/java/org/apache/commons/mail/Email.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/email/src/main/java/org/apache/commons/mail/HtmlEmail.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/email/src/main/java/org/apache/commons/mail/ImageHtmlEmail.java
    Transmitting file data ...
    Committed revision 1563555.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14047102" author="garydgregory" created="Sun, 29 Jun 2014 11:31:32 +0000"  >&lt;p&gt;The patch does not cover all fixes needed, which are now in SVN.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12702787">OPENNLP-669</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12626474" name="0001-Fix-Javadoc-1.8-errors.patch" size="4895" author="scop" created="Sat, 1 Feb 2014 11:02:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 2 Feb 2014 02:52:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rzdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371551</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-134] TXT-Attachment disappeared</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-134</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;After parsing an HTML-EMail with an txt-Attachment, I receive for &lt;/p&gt;

&lt;p&gt;parser.getHtmlContent(); -&amp;gt; the html-body -&amp;gt; ok&lt;br/&gt;
parser.getPlainContent() -&amp;gt; the content of the txt-attchment -&amp;gt; nok&lt;br/&gt;
parser.getAttachmentList(); -&amp;gt; empty list -&amp;gt; nok&lt;/p&gt;

&lt;p&gt;I identified the cause of the problem in the class MimiMessageParser.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void parse(Multipart parent, MimePart part){
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (part.isMimeType(&lt;span class=&quot;code-quote&quot;&gt;&quot;text/plain&quot;&lt;/span&gt;) &amp;amp;&amp;amp; (plainContent == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &amp;amp;&amp;amp; filename == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
			plainContent = (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) part.getContent();
		} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (part.isMimeType(&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html&quot;&lt;/span&gt;) &amp;amp;&amp;amp; (htmlContent == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)) {
				htmlContent = (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) part.getContent();
			} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the plainContent is not set, then every &quot;text/plain&quot;-type is used for the content.&lt;/p&gt;

&lt;p&gt;My solution looks like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void parse(Multipart parent, MimePart part) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; MessagingException, IOException {
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filename = part.getFileName();
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (part.isMimeType(&lt;span class=&quot;code-quote&quot;&gt;&quot;text/plain&quot;&lt;/span&gt;) &amp;amp;&amp;amp; (plainContent == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &amp;amp;&amp;amp; filename == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
			plainContent = (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) part.getContent();
		} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (part.isMimeType(&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html&quot;&lt;/span&gt;) &amp;amp;&amp;amp; (htmlContent == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)) {
				htmlContent = (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) part.getContent();
			} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please check this issue.&lt;br/&gt;
Thx in advance.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Thunderbird, James 3.0 beta4&lt;/p&gt;</environment>
        <key id="12673020">EMAIL-134</key>
            <summary>TXT-Attachment disappeared</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="olafk">Olaf K.</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Oct 2013 14:05:48 +0000</created>
                <updated>Wed, 9 Oct 2013 14:56:59 +0000</updated>
                            <resolved>Wed, 9 Oct 2013 14:56:59 +0000</resolved>
                                    <version>1.3.1</version>
                                    <fixVersion>1.3.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13790390" author="tn" created="Wed, 9 Oct 2013 14:27:06 +0000"  >&lt;p&gt;This looks like a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-131&quot; title=&quot;MimeMessageParser not able to read the inline attachments.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-131&quot;&gt;&lt;del&gt;EMAIL-131&lt;/del&gt;&lt;/a&gt;, which has already fixed in trunk.&lt;/p&gt;

&lt;p&gt;Could you please try it with the latest trunk and report if it also fixes your problem?&lt;/p&gt;

&lt;p&gt;Otherwise, please attach the eml file of the mail to be parsed.&lt;/p&gt;</comment>
                            <comment id="13790422" author="olafk" created="Wed, 9 Oct 2013 14:56:59 +0000"  >&lt;p&gt;Already fixed! As reported. See &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-131&quot; title=&quot;MimeMessageParser not able to read the inline attachments.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-131&quot;&gt;&lt;del&gt;EMAIL-131&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12663351">EMAIL-131</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12607561" name="javamaildebug.ouput" size="3038" author="olafk" created="Wed, 9 Oct 2013 14:07:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Oct 2013 14:27:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 50 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ossf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-133] Problem reading datasource name of inner email-message</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-133</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Situation:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Create EMail in Outlook and attach an other EMail (via Drag&amp;amp;Drop)&lt;br/&gt;
  e.g parent email subject: &quot;Parent EMail&quot;, inner email subject: &quot;Inner Email&quot; &lt;/li&gt;
	&lt;li&gt;after parsing this email I try to acces the attachmentname, but the result is a null-value. I acpected &quot;Inner Email&quot; as the attachmentname.&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mimeMessageParser.parse();
List&amp;lt;DataSource&amp;gt; attachAsDataSource = mimeMessageParser.getAttachmentList();

&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (DataSource dataSource : attachAsDataSource) {
  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filename = dataSource.getName();
  &lt;span class=&quot;code-comment&quot;&gt;// filename == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To resolve this behavior I patched the Methode &quot;getDataSourceName&quot; in &quot;MimeMessageParser&quot; as follows.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;..
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;message/rfc822&quot;&lt;/span&gt;.equalsIgnoreCase(contentType)) {
  result = ((Message) part.getContent()).getSubject();
  &lt;span class=&quot;code-comment&quot;&gt;// START: Optional
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (StringUtils.isNotBlank(result)) {
	&lt;span class=&quot;code-comment&quot;&gt;// Add eml-prefix, because binary data is in eml-format and I can use OUTLOOK.EXE /eml &lt;span class=&quot;code-quote&quot;&gt;&quot;filename&quot;&lt;/span&gt;
&lt;/span&gt;	result += &lt;span class=&quot;code-quote&quot;&gt;&quot;.eml&quot;&lt;/span&gt;;
  } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
	result = &lt;span class=&quot;code-quote&quot;&gt;&quot;unknown.eml&quot;&lt;/span&gt;;
  }
  &lt;span class=&quot;code-comment&quot;&gt;// END: Optional
&lt;/span&gt;}
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now the inner email is recognized as an email-message and the subject is used for the name.&lt;/p&gt;

&lt;p&gt;Is there an other way to receive the subject as the attachment-name (without patching)?&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Outlook 2007, James 3.0 beta4&lt;/p&gt;</environment>
        <key id="12670072">EMAIL-133</key>
            <summary>Problem reading datasource name of inner email-message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="olafk">Olaf K.</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Sep 2013 14:45:20 +0000</created>
                <updated>Sun, 20 May 2018 15:05:23 +0000</updated>
                            <resolved>Thu, 10 Oct 2013 20:18:40 +0000</resolved>
                                    <version>1.3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13774595" author="olafk" created="Mon, 23 Sep 2013 14:46:05 +0000"  >&lt;p&gt;Java DebugOutput&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;A7 FETCH 1 (BODYSTRUCTURE)
* 1 FETCH (BODYSTRUCTURE ((&lt;span class=&quot;code-quote&quot;&gt;&quot;TEXT&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;PLAIN&quot;&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;charset&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;us-ascii&quot;&lt;/span&gt;) NIL NIL &lt;span class=&quot;code-quote&quot;&gt;&quot;7BIT&quot;&lt;/span&gt; 60 3 NIL NIL NIL NIL)(&lt;span class=&quot;code-quote&quot;&gt;&quot;MESSAGE&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;RFC822&quot;&lt;/span&gt; NIL NIL NIL &lt;span class=&quot;code-quote&quot;&gt;&quot;7BIT&quot;&lt;/span&gt; 666 (&lt;span class=&quot;code-quote&quot;&gt;&quot;Mon, 23 Sep 2013 16:11:32 +0200&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Inner RawText EMail&quot;&lt;/span&gt; ((NIL NIL &lt;span class=&quot;code-quote&quot;&gt;&quot;olaf&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;mydomain.tld&quot;&lt;/span&gt;)) ((NIL NIL &lt;span class=&quot;code-quote&quot;&gt;&quot;olaf&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;mydomain.tld&quot;&lt;/span&gt;)) ((NIL NIL &lt;span class=&quot;code-quote&quot;&gt;&quot;olaf&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;mydomain.tld&quot;&lt;/span&gt;)) ((NIL NIL &lt;span class=&quot;code-quote&quot;&gt;&quot;olaf&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;mydomain.tld&quot;&lt;/span&gt;)) NIL NIL NIL &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;000001ceb866$ce77dd60$6b679820$@tld&amp;gt;&quot;&lt;/span&gt;) (&lt;span class=&quot;code-quote&quot;&gt;&quot;TEXT&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;PLAIN&quot;&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;charset&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;us-ascii&quot;&lt;/span&gt;) NIL NIL &lt;span class=&quot;code-quote&quot;&gt;&quot;7BIT&quot;&lt;/span&gt; 27 2 NIL NIL (&lt;span class=&quot;code-quote&quot;&gt;&quot;de&quot;&lt;/span&gt;) NIL) 20 NIL (&lt;span class=&quot;code-quote&quot;&gt;&quot;attachment&quot;&lt;/span&gt; NIL) NIL NIL) &lt;span class=&quot;code-quote&quot;&gt;&quot;MIXED&quot;&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;boundary&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;----=_NextPart_000_0004_01CEB877.BA865D70&quot;&lt;/span&gt;) NIL (&lt;span class=&quot;code-quote&quot;&gt;&quot;de&quot;&lt;/span&gt;) NIL))
A7 OK FETCH completed.
A8 FETCH 1 (BODY[1]&amp;lt;0.60&amp;gt;)
* 1 FETCH (BODY[1]&amp;lt;0&amp;gt; {60}
This is the parent email. Attached is the &lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt; email.


)
A8 OK FETCH completed.
A9 FETCH 1 (FLAGS)
* 1 FETCH (FLAGS (\Deleted \Seen))
A9 OK FETCH completed.
A10 FETCH 1 (BODY[2])
* 1 FETCH (BODY[2] {666}
Received: from localhost (EHLO e11001446428) ([127.0.0.1])
          by e11001446428 (JAMES SMTP Server ) with ESMTP ID 22152612
          &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &amp;lt;olaf@mydomain.tld&amp;gt;;
          Mon, 23 Sep 2013 02:11:33 +0000 (GMT)
Return-Path: &amp;lt;olaf@mydomain.tld&amp;gt;
From: &amp;lt;olaf@mydomain.tld&amp;gt;
To: &amp;lt;olaf@mydomain.tld&amp;gt;
Subject: Inner RawText EMail
Date: Mon, 23 Sep 2013 16:11:32 +0200
Message-ID: &amp;lt;000001ceb866$ce77dd60$6b679820$@tld&amp;gt;
MIME-Version: 1.0
Content-Type: text/plain;
	charset=&lt;span class=&quot;code-quote&quot;&gt;&quot;us-ascii&quot;&lt;/span&gt;
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 12.0
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-Index: Ac64ZpVXpiAx+1xlQma3/pdxy4hpqwAACC0w
Content-Language: de

This is the &lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt; EMail

)
A10 OK FETCH completed.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13774596" author="olafk" created="Mon, 23 Sep 2013 14:46:44 +0000"  >&lt;p&gt;Outlook-TestEMail&lt;/p&gt;</comment>
                            <comment id="13787617" author="tn" created="Sun, 6 Oct 2013 14:25:45 +0000"  >&lt;p&gt;This is a very problem specific solution and may not be what other users expect.&lt;br/&gt;
In fact it depends on the email client used which filename will be set for the inner email message.&lt;/p&gt;

&lt;p&gt;E.g. when doing the same with thunderbird, the filename will be set automatically to &quot;Attached message&quot;.&lt;/p&gt;</comment>
                            <comment id="13791946" author="tn" created="Thu, 10 Oct 2013 20:17:55 +0000"  >&lt;p&gt;Another way to retrieve the subject of the inner email would be like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        Session session = Session.getDefaultInstance(new Properties());
        MimeMessage message = MimeMessageUtils.createMimeMessage(session, ...);
        MimeMessageParser mimeMessageParser = new MimeMessageParser(message);

        mimeMessageParser.parse();

        List&amp;lt;DataSource&amp;gt; attachmentList = mimeMessageParser.getAttachmentList();

        for (DataSource ds : attachmentList) {
            System.out.println(ds.getName());
            if (ds.getContentType().equals(&quot;message/rfc822&quot;)) {
                MimeMessage innerMail =
                     MimeMessageUtils.createMimeMessage(session, ds.getInputStream());
                MimeMessageParser parser = new MimeMessageParser(innerMail);
                
                parser.parse();
                
                System.out.println(parser.getSubject());
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can simply parse the inner email with another parser and access all headers / fields of the message.&lt;/p&gt;</comment>
                            <comment id="13791947" author="tn" created="Thu, 10 Oct 2013 20:18:40 +0000"  >&lt;p&gt;Close this issue as Won&apos;t Fix as the proposed patch is too application-specific imho.&lt;/p&gt;</comment>
                            <comment id="16478821" author="ankurgar" created="Thu, 17 May 2018 09:52:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;Thomas Neidhart&lt;/a&gt; this seems to be very generic issue.&lt;/p&gt;</comment>
                            <comment id="16478822" author="ankurgar" created="Thu, 17 May 2018 09:53:03 +0000"  >&lt;p&gt;It is still not fixed in 1.3.3 version, is there any plans to fix this in future ?&lt;/p&gt;</comment>
                            <comment id="16481973" author="garydgregory" created="Sun, 20 May 2018 15:05:23 +0000"  >&lt;p&gt;The comment &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-133?focusedCommentId=13791947&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13791947&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/EMAIL-133?focusedCommentId=13791947&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13791947&lt;/a&gt;&#160;from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;Thomas Neidhart&lt;/a&gt; makes it sound like this is a no-go, unless you can propose a patch that is more general in use.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12604602" name="Parent EMail.msg" size="26112" author="olafk" created="Mon, 23 Sep 2013 14:46:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 6 Oct 2013 14:25:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349902</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 17 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1obzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-132] Can&apos;t delivery to another recipients when send mail to one recipient failed</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-132</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I want to send email to multiple recipients by using Email.addTo(). But I found when send mail to one recipient failed(e.g. email address invalid), another can&apos;t got the email. Here is Exception stack:&lt;/p&gt;

&lt;p&gt;09-17 07:48:48,804|ERROR|ortTask_tra_event_81|          EmailUtils|Sending the email to the following server failed : xxxxx:xxxx&lt;br/&gt;
org.apache.commons.mail.EmailException: Sending the email to the following server failed : 172.24.1.82:25&lt;br/&gt;
        at org.apache.commons.mail.Email.sendMimeMessage(Email.java:1242)&lt;span class=&quot;error&quot;&gt;&amp;#91;131:org.apache.commons.email:1.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.commons.mail.Email.send(Email.java:1267)&lt;span class=&quot;error&quot;&gt;&amp;#91;131:org.apache.commons.email:1.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at com.swimap.prs.utils.email.EmailUtils.sendEmail(EmailUtils.java:72)&lt;span class=&quot;error&quot;&gt;&amp;#91;125:prs.utils.common:1.9.8.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at com.swimap.prs.application.dataexport.impl.corbareport.traditional.event.ManualEventTask.run(ManualEventTask.java:48)&lt;span class=&quot;error&quot;&gt;&amp;#91;220:prs.application.dataexport.impl:1.9.8.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at com.swimap.prs.application.dataexport.impl.corbareport.traditional.event.ManualEventTask.run(ManualEventTask.java:48)&lt;span class=&quot;error&quot;&gt;&amp;#91;220:prs.application.dataexport.impl:1.9.8.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: javax.mail.SendFailedException: Invalid Addresses;&lt;br/&gt;
  nested exception is:&lt;br/&gt;
        com.sun.mail.smtp.SMTPAddressFailedException: 530 5.7.1 Reason: Your Outlook settings may be incorrect, see &lt;a href=&quot;http://xxxxx&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://xxxxx&lt;/a&gt;. Not allowed send to: asdkljfakld@kadjfka.com&lt;/p&gt;

&lt;p&gt;        at com.sun.mail.smtp.SMTPTransport.rcptTo(SMTPTransport.java:1873)&lt;span class=&quot;error&quot;&gt;&amp;#91;82:javax.mail:1.4.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1120)&lt;span class=&quot;error&quot;&gt;&amp;#91;82:javax.mail:1.4.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at javax.mail.Transport.send0(Transport.java:195)&lt;span class=&quot;error&quot;&gt;&amp;#91;58:javax.mail:1.4.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at javax.mail.Transport.send(Transport.java:124)&lt;span class=&quot;error&quot;&gt;&amp;#91;58:javax.mail:1.4.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.commons.mail.Email.sendMimeMessage(Email.java:1232)&lt;span class=&quot;error&quot;&gt;&amp;#91;131:org.apache.commons.email:1.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
        ... 16 more&lt;br/&gt;
Caused by: com.sun.mail.smtp.SMTPAddressFailedException: 530 5.7.1 Reason: Your Outlook settings may be incorrect, see &lt;a href=&quot;http://xxxxx&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://xxxxx&lt;/a&gt;. Not allowed send to: asdkljfakld@kadjfka.com&lt;/p&gt;

&lt;p&gt;        at com.sun.mail.smtp.SMTPTransport.rcptTo(SMTPTransport.java:1771)&lt;span class=&quot;error&quot;&gt;&amp;#91;82:javax.mail:1.4.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
        ... 20 more&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12668991">EMAIL-132</key>
            <summary>Can&apos;t delivery to another recipients when send mail to one recipient failed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="allencheng1225">Xudong Zheng</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Sep 2013 11:40:52 +0000</created>
                <updated>Thu, 24 Oct 2013 20:09:09 +0000</updated>
                            <resolved>Thu, 10 Oct 2013 21:14:48 +0000</resolved>
                                    <version>1.2</version>
                    <version>1.3</version>
                    <version>1.3.1</version>
                                    <fixVersion>1.3.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13769490" author="allencheng1225" created="Tue, 17 Sep 2013 13:15:24 +0000"  >&lt;p&gt;Hi, I found a way to fix this bug, it is set property &quot;mail.smtp.sendpartial&quot; &amp;amp; &quot;mail.smtps.sendpartial&quot; to true.&lt;br/&gt;
e.g: for (String property : Arrays.asList(&quot;mail.smtp.sendpartial&quot;, &quot;mail.smtps.sendpartial&quot;))&lt;br/&gt;
            {&lt;br/&gt;
                if (System.getProperty(property) == null)&lt;/p&gt;
                {
                    System.setProperty(property, &quot;true&quot;);
                }
&lt;p&gt;            }&lt;/p&gt;


&lt;p&gt;LINK:&lt;a href=&quot;https://issues.jenkins-ci.org/browse/JENKINS-9006&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jenkins-ci.org/browse/JENKINS-9006&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13769883" author="tn" created="Tue, 17 Sep 2013 20:17:05 +0000"  >&lt;p&gt;Thanks for the report, we will add a section to the javadoc of Email.send and the userguide.&lt;/p&gt;</comment>
                            <comment id="13770261" author="allencheng1225" created="Wed, 18 Sep 2013 00:58:13 +0000"  >&lt;p&gt;I think commons email should provide a way set up these kind of property. Could you provide a way to set java mail property?&lt;/p&gt;</comment>
                            <comment id="13789629" author="tn" created="Tue, 8 Oct 2013 20:10:05 +0000"  >&lt;p&gt;This should already be possible by doing the following:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Email email = ....
Session session = email.getSession();
session.setProperty(&quot;mail.smtp.sendpartial&quot;, true);
email.send();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ideally, the Email class should provide a &quot;setSendPartial(boolean)&quot; method similar to other setters, e.g. for various ssl related settings. &lt;/p&gt;</comment>
                            <comment id="13791994" author="tn" created="Thu, 10 Oct 2013 21:14:48 +0000"  >&lt;p&gt;Added in r1531110.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Sep 2013 20:17:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o5xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-131] MimeMessageParser not able to read the inline attachments.</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-131</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Hi All,&lt;/p&gt;

&lt;p&gt;I am trying to extract attachments using MimeMessageParser. But unable to extract the attachment when i have mime part as below &lt;/p&gt;

&lt;p&gt;Content-Type: text/plain; charset=us-ascii;&lt;br/&gt;
        name=&quot;abc.txt&quot;&lt;br/&gt;
Content-Transfer-Encoding: 7bit&lt;br/&gt;
Content-Disposition: attachment;&lt;br/&gt;
        filename=&quot;abc.txt&quot;&lt;/p&gt;

&lt;p&gt;After looking into parse method, &lt;br/&gt;
======&lt;br/&gt;
    protected void parse(Multipart parent, MimePart part)&lt;br/&gt;
        throws MessagingException, IOException&lt;br/&gt;
    {&lt;br/&gt;
        if (part.isMimeType(&quot;text/plain&quot;) &amp;amp;&amp;amp; (plainContent == null))&lt;/p&gt;
        {
            plainContent = (String) part.getContent();
        }
&lt;p&gt;        else&lt;br/&gt;
        {&lt;br/&gt;
            if (part.isMimeType(&quot;text/html&quot;) &amp;amp;&amp;amp; (htmlContent == null))&lt;/p&gt;
            {
                htmlContent = (String) part.getContent();
            }
&lt;p&gt;            else&lt;br/&gt;
            {&lt;br/&gt;
                if (part.isMimeType(&quot;multipart/*&quot;))&lt;br/&gt;
                {&lt;br/&gt;
                    this.isMultiPart = true;&lt;br/&gt;
                    Multipart mp = (Multipart) part.getContent();&lt;br/&gt;
                    int count = mp.getCount();&lt;/p&gt;

&lt;p&gt;                    // iterate over all MimeBodyPart&lt;/p&gt;

&lt;p&gt;                    for (int i = 0; i &amp;lt; count; i++)&lt;/p&gt;
                    {
                        parse(mp, (MimeBodyPart) mp.getBodyPart(i));
                    }
&lt;p&gt;                }&lt;br/&gt;
                else&lt;/p&gt;
                {
                    this.attachmentList.add(createDataSource(parent, part));
                }
&lt;p&gt;            }&lt;br/&gt;
        }&lt;br/&gt;
    }&lt;br/&gt;
====&lt;/p&gt;

&lt;p&gt;so attachment is going to plainContent&lt;/p&gt;

&lt;p&gt;Can anybody please let me know. how can this going to work&lt;/p&gt;

&lt;p&gt;Do we need to consider Content-Disposition ? According to java mail documentation&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Raju&lt;/p&gt;</description>
                <environment></environment>
        <key id="12663351">EMAIL-131</key>
            <summary>MimeMessageParser not able to read the inline attachments.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yalla.raju">Raju Y</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Aug 2013 05:48:56 +0000</created>
                <updated>Thu, 24 Oct 2013 20:09:09 +0000</updated>
                            <resolved>Sat, 14 Sep 2013 19:26:59 +0000</resolved>
                                    <version>1.3.1</version>
                                    <fixVersion>1.3.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13744140" author="tn" created="Mon, 19 Aug 2013 19:40:21 +0000"  >&lt;p&gt;The Content-Disposition header is not yet taken into account. If there is no text body, your (plain text) attachment would be treated as the body content.&lt;/p&gt;

&lt;p&gt;It looks like that most of the email clients/libs will at least include an empty mime part as body, but it would make sense to treat your case correctly too.&lt;/p&gt;</comment>
                            <comment id="13767547" author="tn" created="Sat, 14 Sep 2013 19:26:59 +0000"  >&lt;p&gt;In r1523299 applied a fix to correctly take the content-disposition header into account.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12673020">EMAIL-134</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 19 Aug 2013 19:40:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n7o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-130] Problem parsing EMail-Attachmentfilename (ISO-8859-15)</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-130</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I use common-email-1.3.1 to parse emails from a imap-server.&lt;br/&gt;
After parsing an email with an pdf-attachment I received the following attachment-filename: ISO-8859-15&apos;&apos;%5A%E4%68%6C%65%72%73%74%61%6E%64%73%6D%69%74%74&lt;br/&gt;
But the filename should be &#8220;Z&#228;hlerstandsmitteilung_06_13.pdf&#8221;.&lt;/p&gt;

&lt;p&gt;I discovered the sourcecode and change the method MimeMessageParser.getDataSourceName() as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getDataSourceName(Part part, DataSource dataSource) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; MessagingException, UnsupportedEncodingException {
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; result = dataSource.getName();

		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (result == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || result.length() == 0) {
			result = part.getFileName();
		}

		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (result != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; result.length() &amp;gt; 0) {
			result = MimeUtility.decodeText(result);
		} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
			result = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		}
&lt;span class=&quot;code-comment&quot;&gt;// NEW-Start
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// result could be = ISO-8859-15&apos;&apos;%5A%E4%68%6C%65%72%73%74%61%6E%64%73%6D%69%74%74
&lt;/span&gt;		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (result.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;%&quot;&lt;/span&gt;) != -1) {
			&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; rawContentType = part.getContentType();
			&lt;span class=&quot;code-comment&quot;&gt;// extract the name from contenttype: application/pdf;\n\rname=&lt;span class=&quot;code-quote&quot;&gt;&quot;=?ISO-8859-15?Q?Z=E4hlerstandsmitteilung=5F06=5F13=2Epdf?=&quot;&lt;/span&gt;
&lt;/span&gt;			&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; nameIndex = rawContentType.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;name=\&quot;&lt;/span&gt;&quot;);
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (nameIndex != -1) {
				rawContentType = rawContentType.substring(nameIndex);
				rawContentType = rawContentType.substring(rawContentType.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt;) + 1, rawContentType.lastIndexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt;&apos;&lt;/span&gt;));
				&lt;span class=&quot;code-comment&quot;&gt;// ISO-Decoding
&lt;/span&gt;				&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (rawContentType.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;=?&quot;&lt;/span&gt;) || rawContentType.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;?=&quot;&lt;/span&gt;)) {
					result = MimeUtility.decodeText(rawContentType);
				}
			}
		}
&lt;span class=&quot;code-comment&quot;&gt;// NEW-END
&lt;/span&gt;
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result;
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tested with ISO-8859-15 encoded emails.&lt;/p&gt;

&lt;p&gt;You could reproduce this behavior with the following steps.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Create an PDF with the filename &quot;Z&#228;hlerstandsmitteilung_06_13.pdf&quot;&lt;/li&gt;
	&lt;li&gt;Create an EMail with Tunderbird.&lt;/li&gt;
	&lt;li&gt;Set EMail-Format RawText and encoding to ISO-8859-15&lt;br/&gt;
I attached such an email to this issue (msg-Outlook and eml-Thunderbird).&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;part.getFilename return: ISO-8859-15&apos;&apos;%5A%E4%68%6C%65%72%73%74%61%6E%64%73%6D%69%74%74&lt;/p&gt;

&lt;p&gt;It should: =?iso-8859-1?Q?Z=E4hlerstandsmitteilung=5F06=5F13.pdf?=&lt;br/&gt;
With this kind of filename MimeUtility.decodeText(result); fix the encoding.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Thunderbird/17.0.5&lt;/p&gt;</environment>
        <key id="12661414">EMAIL-130</key>
            <summary>Problem parsing EMail-Attachmentfilename (ISO-8859-15)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="olafk">Olaf K.</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Aug 2013 15:31:31 +0000</created>
                <updated>Thu, 24 Oct 2013 20:09:09 +0000</updated>
                            <resolved>Tue, 17 Sep 2013 20:15:33 +0000</resolved>
                                    <version>1.3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13727962" author="tn" created="Fri, 2 Aug 2013 18:59:45 +0000"  >&lt;p&gt;I tried to reproduce the problem in my environment (Sun JDK 1.5, OpenJDK 1.7), but failed to do so.&lt;br/&gt;
Commons-Email relies on the javax.mail provider to extract certain Mime related data, and in my environment, a call to part.getFileName() returns: =?iso-8859-1?Q?Z=E4hlerstandsmitteilung=5F06=5F13.pdf?=&lt;/p&gt;

&lt;p&gt;It looks like you probably use another javax.mail provider, could you post your classpath and used vm/jre?&lt;/p&gt;</comment>
                            <comment id="13729285" author="olafk" created="Mon, 5 Aug 2013 08:09:38 +0000"  >&lt;p&gt;I use JDK 1.6.0_16 and mail-1.4.4.&lt;br/&gt;
Today I send the an email to to my lokal Apache JAMES-Server and everything works fine. If I send the email to our company exchange-server 2010 I can reproduce the error.&lt;/p&gt;

&lt;p&gt;I try differnt email encodings and my patch works fine.&lt;/p&gt;

&lt;p&gt;In my opinion it&apos;s an ms exchange problem, so you can close this issue.&lt;/p&gt;</comment>
                            <comment id="13733230" author="tn" created="Thu, 8 Aug 2013 07:32:27 +0000"  >&lt;p&gt;Can you provide the mime-related contents that exchange produces (you can also use an empty text file, but with umlauts as filename)? It may be worthwhile to fix it for such cases if possible.&lt;/p&gt;</comment>
                            <comment id="13767572" author="tn" created="Sat, 14 Sep 2013 20:37:35 +0000"  >&lt;p&gt;I did investigate a bit further, although I could not yet reproduce it on my system (linux-based).&lt;/p&gt;

&lt;p&gt;There seem to be two parameters used by javamail that control the way filenames are treated/decoded:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&quot;mail.mime.decodeparameters&quot;&lt;/li&gt;
	&lt;li&gt;&quot;mail.mime.windowsfilenames&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Could you try to enable the first one with&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; System.setProperty(&quot;mail.mime.decodeparameters&quot;, &quot;true&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;before parsing the message?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13769881" author="tn" created="Tue, 17 Sep 2013 20:15:33 +0000"  >&lt;p&gt;I resolve this issue as not reproducable after trying it with various javamail versions, both on windows and linux.&lt;/p&gt;

&lt;p&gt;When enabling the above system property &quot;mail.mime.decodeparameters&quot;, the correct decoded filename is returned from the content-disposition header. We can not enable this property by default, as it would affect other applications, e.g. within a web application container, thus users need to ensure that their container is properly setup.&lt;/p&gt;</comment>
                            <comment id="13770542" author="olafk" created="Wed, 18 Sep 2013 07:54:02 +0000"  >&lt;p&gt;I try both system-properties but without success. I also set the system-property &quot;mail.mime.decodetext.strict&quot; to false. But this doesn&apos;t fix problem as well.&lt;/p&gt;

&lt;p&gt;My patch works, so thx for investigating the problem.&lt;/p&gt;</comment>
                            <comment id="13770551" author="tn" created="Wed, 18 Sep 2013 08:06:47 +0000"  >&lt;p&gt;Are you sure you use the official javamail release?&lt;/p&gt;</comment>
                            <comment id="13770701" author="tn" created="Wed, 18 Sep 2013 12:13:33 +0000"  >&lt;p&gt;I ask specifically, because I debugged through javamail and do not see another reason why this does not work in your environment. &lt;/p&gt;</comment>
                            <comment id="13771837" author="olafk" created="Thu, 19 Sep 2013 12:34:39 +0000"  >&lt;p&gt;In our prod.environment we use javamail-1.4.1. I updated my testrunner to the offical javamail-1.4.7, but without success. Same behavior.&lt;br/&gt;
I attched the javamail-debug-output (javamaildebug.output). &lt;/p&gt;

&lt;p&gt;The interresting part is in line 27 (send via Thunderbird).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;...(&lt;span class=&quot;code-quote&quot;&gt;&quot;attachment&quot;&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;filename&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;ISO-8859-15&apos;&apos;%5A%E4%68%6C%65%72%73%74%61%6E%64%73%6D%69%74%74&quot;&lt;/span&gt;))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In correct part should look like this (send via Outlook):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;... (&lt;span class=&quot;code-quote&quot;&gt;&quot;attachment&quot;&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;filename&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;=?iso-8859-1?Q?Z=E4hlerstandsmitteilung=5F06=5F13.pdf?=&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;size&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;57451&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;creation-date&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Fri, 02 Aug 2013 15:03:06 GMT&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;modification-date&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Fri, 02 Aug 2013 15:01:49 GMT&quot;&lt;/span&gt;))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13787615" author="tn" created="Sun, 6 Oct 2013 14:19:37 +0000"  >&lt;p&gt;Ok thanks for this debug output, now it is a bit clearer to me what you are trying to do.&lt;/p&gt;

&lt;p&gt;From the output, one can see that in the Thunderbird case, the filename is truncated, only the first folded line is there. Thus javamail may think the data is not encoded and thus performs no decoding.&lt;/p&gt;

&lt;p&gt;Now, I do not know why this is happening, maybe related to RFC 2231:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://tools.ietf.org/html/rfc2231&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://tools.ietf.org/html/rfc2231&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See section 6:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;6.  IMAP4 Handling of Parameter Values

   IMAP4 [RFC-2060] servers SHOULD decode parameter value continuations when generating the BODY and BODYSTRUCTURE fetch attributes.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following document from Microsoft hints that the support for RFC 2231 is incomplete:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://technet.microsoft.com/en-us/library/ff848256%28v=exchg.141%29.aspx&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://technet.microsoft.com/en-us/library/ff848256%28v=exchg.141%29.aspx&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12595619" name="Z&#228;hlerstandsmitteilung_06_13 pdf.msg" size="79360" author="olafk" created="Fri, 2 Aug 2013 15:33:08 +0000"/>
                            <attachment id="12595620" name="Z&#228;hlerstandsmitteilung_06_13.pdf.eml" size="70246" author="olafk" created="Fri, 2 Aug 2013 15:33:08 +0000"/>
                            <attachment id="12604029" name="javamaildebug.ouput" size="75638" author="olafk" created="Thu, 19 Sep 2013 12:35:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Aug 2013 18:59:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mwwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-129] hasPlainContent and hasHtmlContent both return false</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-129</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Using the following code&lt;/p&gt;

&lt;p&gt;		InputStream is = new ByteArrayInputStream(rawEmail.getBytes());&lt;br/&gt;
		MimeMessage message = new MimeMessage(s, is);&lt;br/&gt;
		MimeMessageParser emailParser = new MimeMessageParser(message);&lt;br/&gt;
		if (emailParser.hasPlainContent()) &lt;/p&gt;
{
		  logger.debug(emailParser.getPlainContent());
		}
&lt;p&gt; else if (emailParser.hasHtmlContent()) &lt;/p&gt;
{
		  logger.debug(emailParser.getHtmlContent());
		}
&lt;p&gt; else &lt;/p&gt;
{
		  throw new Exception(&quot;No content found for email&quot;);
		}

&lt;p&gt;the Exception is thrown for sample rawEmail:&lt;/p&gt;



&lt;p&gt;Return-Path: &amp;lt;oliver@agilebase.co.uk&amp;gt;&lt;br/&gt;
X-Original-To: oliver@agilebase.co.uk&lt;br/&gt;
Delivered-To: oliver.gtwm@li349-29.members.linode.com&lt;br/&gt;
Received: from &lt;span class=&quot;error&quot;&gt;&amp;#91;192.168.1.5&amp;#93;&lt;/span&gt; (unknown &lt;span class=&quot;error&quot;&gt;&amp;#91;88.211.41.14&amp;#93;&lt;/span&gt;)&lt;br/&gt;
	by li349-29.members.linode.com (Postfix) with ESMTPSA id D63B05AE4F7;&lt;br/&gt;
	Thu, 25 Jul 2013 12:03:29 +0100 (BST)&lt;br/&gt;
From: Oliver Kohll &amp;lt;oliver@agilebase.co.uk&amp;gt;&lt;br/&gt;
Content-Type: multipart/alternative; boundary=&quot;Apple-Mail=_E3FC6CFD-A540-4365-BA9C-6DDC7A28F052&quot;&lt;br/&gt;
Subject: test&lt;br/&gt;
Date: Thu, 25 Jul 2013 12:03:31 +0100&lt;br/&gt;
Message-Id: &amp;lt;8F52AB54-5366-41A6-8C4A-72895DC4D92A@agilebase.co.uk&amp;gt;&lt;br/&gt;
Cc: &quot;contacts@gtwm.agilebase.co.uk&quot; &amp;lt;contacts@gtwm.agilebase.co.uk&amp;gt;&lt;br/&gt;
To: &quot;oliver@agilebase.co.uk&quot; &amp;lt;oliver@agilebase.co.uk&amp;gt;&lt;br/&gt;
Mime-Version: 1.0 (Mac OS X Mail 6.5 &amp;#40;1508&amp;#41;)&lt;br/&gt;
X-Mailer: Apple Mail (2.1508)&lt;/p&gt;


&lt;p&gt;--Apple-Mail=_E3FC6CFD-A540-4365-BA9C-6DDC7A28F052&lt;br/&gt;
Content-Transfer-Encoding: 7bit&lt;br/&gt;
Content-Type: text/plain;&lt;br/&gt;
	charset=us-ascii&lt;/p&gt;

&lt;p&gt;test content&lt;/p&gt;

&lt;p&gt;www.agilebase.co.uk / 0117 321 0104 / 07814 828608&lt;br/&gt;
www.twitter.com/agilebase&lt;/p&gt;


&lt;p&gt;--Apple-Mail=_E3FC6CFD-A540-4365-BA9C-6DDC7A28F052&lt;br/&gt;
Content-Transfer-Encoding: quoted-printable&lt;br/&gt;
Content-Type: text/html;&lt;br/&gt;
	charset=us-ascii&lt;/p&gt;

&lt;p&gt;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;meta http-equiv=3D&quot;Content-Type&quot; content=3D&quot;text/html =&lt;br/&gt;
charset=3Dus-ascii&quot;&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body style=3D&quot;word-wrap: break-word; =&lt;br/&gt;
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space; &quot;&amp;gt;test =&lt;br/&gt;
content&amp;lt;br&amp;gt;&amp;lt;div apple-content-edited=3D&quot;true&quot;&amp;gt;&lt;br/&gt;
&amp;lt;div style=3D&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: =&lt;br/&gt;
medium; font-style: normal; font-variant: normal; font-weight: normal; =&lt;br/&gt;
letter-spacing: normal; line-height: normal; orphans: 2; text-align: =&lt;br/&gt;
-webkit-auto; text-indent: 0px; text-transform: none; white-space: =&lt;br/&gt;
normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; =&lt;br/&gt;
-webkit-text-stroke-width: 0px; word-wrap: break-word; =&lt;br/&gt;
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: medium; =&lt;br/&gt;
font-style: normal; font-variant: normal; font-weight: normal; =&lt;br/&gt;
letter-spacing: normal; line-height: normal; orphans: 2; text-align: =&lt;br/&gt;
-webkit-auto; text-indent: 0px; text-transform: none; white-space: =&lt;br/&gt;
normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; =&lt;br/&gt;
-webkit-text-stroke-width: 0px; word-wrap: break-word; =&lt;br/&gt;
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span =&lt;br/&gt;
class=3D&quot;Apple-style-span&quot; style=3D&quot;border-collapse: separate; color: =&lt;br/&gt;
rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant: =&lt;br/&gt;
normal; font-weight: normal; letter-spacing: normal; line-height: =&lt;br/&gt;
normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; =&lt;br/&gt;
text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; =&lt;br/&gt;
border-spacing: 0px; -webkit-text-decorations-in-effect: none; =&lt;br/&gt;
-webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; =&lt;br/&gt;
font-size: medium; &quot;&amp;gt;&amp;lt;div style=3D&quot;word-wrap: break-word; =&lt;br/&gt;
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span =&lt;br/&gt;
class=3D&quot;Apple-style-span&quot; style=3D&quot;border-collapse: separate; color: =&lt;br/&gt;
rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant: =&lt;br/&gt;
normal; font-weight: normal; letter-spacing: normal; line-height: =&lt;br/&gt;
normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; =&lt;br/&gt;
text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; =&lt;br/&gt;
border-spacing: 0px; -webkit-text-decorations-in-effect: none; =&lt;br/&gt;
-webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; =&lt;br/&gt;
font-size: medium; &quot;&amp;gt;&amp;lt;div style=3D&quot;word-wrap: break-word; =&lt;br/&gt;
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span =&lt;br/&gt;
class=3D&quot;Apple-style-span&quot; style=3D&quot;border-collapse: separate; color: =&lt;br/&gt;
rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant: =&lt;br/&gt;
normal; font-weight: normal; letter-spacing: normal; line-height: =&lt;br/&gt;
normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; =&lt;br/&gt;
text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; =&lt;br/&gt;
border-spacing: 0px; -webkit-text-decorations-in-effect: none; =&lt;br/&gt;
-webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; =&lt;br/&gt;
font-size: medium; &quot;&amp;gt;&amp;lt;div style=3D&quot;word-wrap: break-word; =&lt;br/&gt;
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span =&lt;br/&gt;
class=3D&quot;Apple-style-span&quot; style=3D&quot;border-collapse: separate; color: =&lt;br/&gt;
rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant: =&lt;br/&gt;
normal; font-weight: normal; letter-spacing: normal; line-height: =&lt;br/&gt;
normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; =&lt;br/&gt;
text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; =&lt;br/&gt;
border-spacing: 0px; -webkit-text-decorations-in-effect: none; =&lt;br/&gt;
-webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; =&lt;br/&gt;
font-size: medium; &quot;&amp;gt;&amp;lt;div style=3D&quot;word-wrap: break-word; =&lt;br/&gt;
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span =&lt;br/&gt;
class=3D&quot;Apple-style-span&quot; style=3D&quot;border-collapse: separate; color: =&lt;br/&gt;
rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant: =&lt;br/&gt;
normal; font-weight: normal; letter-spacing: normal; line-height: =&lt;br/&gt;
normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: =&lt;br/&gt;
normal; widows: 2; word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-style: normal; font-variant: normal; font-weight: =&lt;br/&gt;
normal; letter-spacing: normal; line-height: normal; orphans: 2; =&lt;br/&gt;
text-indent: 0px; text-transform: none; white-space: normal; widows: 2; =&lt;br/&gt;
word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; font-size: medium; &quot;&amp;gt;&amp;lt;div =&lt;br/&gt;
style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; =&lt;br/&gt;
-webkit-line-break: after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-size: medium; font-style: normal; font-variant: normal; =&lt;br/&gt;
font-weight: normal; letter-spacing: normal; line-height: normal; =&lt;br/&gt;
orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; =&lt;br/&gt;
widows: 2; word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; &quot;&amp;gt;&amp;lt;div style=3D&quot;word-wrap: =&lt;br/&gt;
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =&lt;br/&gt;
after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-size: medium; font-style: normal; font-variant: normal; =&lt;br/&gt;
font-weight: normal; letter-spacing: normal; line-height: normal; =&lt;br/&gt;
orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; =&lt;br/&gt;
widows: 2; word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; &quot;&amp;gt;&amp;lt;div style=3D&quot;word-wrap: =&lt;br/&gt;
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =&lt;br/&gt;
after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-size: medium; font-style: normal; font-variant: normal; =&lt;br/&gt;
font-weight: normal; letter-spacing: normal; line-height: normal; =&lt;br/&gt;
orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; =&lt;br/&gt;
widows: 2; word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; &quot;&amp;gt;&amp;lt;div style=3D&quot;word-wrap: =&lt;br/&gt;
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =&lt;br/&gt;
after-white-space; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-family: =&lt;br/&gt;
Helvetica; font-size: medium; font-style: normal; font-variant: normal; =&lt;br/&gt;
font-weight: normal; letter-spacing: normal; line-height: normal; =&lt;br/&gt;
orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; =&lt;br/&gt;
widows: 2; word-spacing: 0px; border-spacing: 0px; =&lt;br/&gt;
-webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: =&lt;br/&gt;
auto; -webkit-text-stroke-width: 0px; &quot;&amp;gt;&amp;lt;span class=3D&quot;Apple-style-span&quot; =&lt;br/&gt;
style=3D&quot;font-size: 12px; &quot;&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br =&lt;br/&gt;
class=3D&quot;Apple-interchange-newline&quot;&amp;gt;&amp;lt;a =&lt;br/&gt;
href=3D&quot;http://www.agilebase.co.uk&quot;&amp;gt;www.agilebase.co.uk&amp;lt;/a&amp;gt; / 0117 321 =&lt;br/&gt;
0104&amp;nbsp;/ 07814 828608&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;a =&lt;br/&gt;
href=3D&quot;http://www.twitter.com/agilebase&quot;&amp;gt;www.twitter.com/agilebase&amp;lt;/a&amp;gt;&amp;lt;/d=&lt;br/&gt;
iv&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div=&lt;br/&gt;
&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;=&lt;br/&gt;
/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/sp=&lt;br/&gt;
an&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;br/&gt;
&amp;lt;/div&amp;gt;&lt;br/&gt;
&amp;lt;br&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;=&lt;/p&gt;

&lt;p&gt;-&lt;del&gt;Apple-Mail=_E3FC6CFD-A540-4365-BA9C-6DDC7A28F052&lt;/del&gt;-&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Ubuntu Linux 12 LTS, OpenJDK 7&lt;/p&gt;</environment>
        <key id="12659774">EMAIL-129</key>
            <summary>hasPlainContent and hasHtmlContent both return false</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="okohll">Oliver Kohll</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 11:16:34 +0000</created>
                <updated>Thu, 24 Oct 2013 20:09:09 +0000</updated>
                            <resolved>Tue, 30 Jul 2013 19:24:38 +0000</resolved>
                                    <version>1.3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13719524" author="britter" created="Thu, 25 Jul 2013 11:34:07 +0000"  >&lt;p&gt;Hi Oliver,&lt;/p&gt;

&lt;p&gt;thanks for the report. Where does &lt;tt&gt;rawEmail&lt;/tt&gt; come from/how do you create it?&lt;/p&gt;

&lt;p&gt;Benedikt&lt;/p&gt;</comment>
                            <comment id="13719533" author="okohll" created="Thu, 25 Jul 2013 11:42:40 +0000"  >&lt;p&gt;Hi Benedikt,&lt;/p&gt;

&lt;p&gt;Thanks for looking at it. rawEmail is just a String with the complete content of an email, i.e. what you get when you choose &apos;view raw source&apos; or similar in an email client. In the example that fails for me, that&apos;s the content pasted at the end of the bug report, starting with the Return-Path line.&lt;/p&gt;

&lt;p&gt;The example is from Apple Mail. I haven&apos;t tested more widely I&apos;m afraid.&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</comment>
                            <comment id="13719535" author="okohll" created="Thu, 25 Jul 2013 11:44:46 +0000"  >&lt;p&gt;p.s. I missed another line from the start of the sample code too,&lt;/p&gt;

&lt;p&gt;Session s = Session.getDefaultInstance(new Properties());&lt;/p&gt;</comment>
                            <comment id="13724291" author="tn" created="Tue, 30 Jul 2013 19:24:38 +0000"  >&lt;p&gt;Dear Oliver,&lt;/p&gt;

&lt;p&gt;you have to call&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  emailParser.parse();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;before you can access the content or test whether the raw email has plain or html content.&lt;/p&gt;

&lt;p&gt;Closing this issue as invalid.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Jul 2013 11:34:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mmw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340284</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-128] HtmlEmail doesn&apos;t close connection to smtp server</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-128</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;***Prehistory:&lt;/p&gt;

&lt;p&gt;I tried to send html email to smtp server from my GWT application servlet by using this official site user guide example &lt;a href=&quot;http://commons.apache.org/proper/commons-email/userguide.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://commons.apache.org/proper/commons-email/userguide.html&lt;/a&gt; the &quot;HtmlEmail&quot; usage snippet...&lt;/p&gt;

&lt;p&gt;Sending message with smtp requires authentication and encryption so I combined two examples and used code like a (see my snippets)&lt;/p&gt;

&lt;p&gt;snippet A : &lt;br/&gt;
------------------------------------&lt;br/&gt;
public class Send{&lt;/p&gt;

&lt;p&gt;public synchronized SendReport send(MyMessage msg){&lt;br/&gt;
...&lt;br/&gt;
// Create the email message&lt;br/&gt;
		  HtmlEmail email = new HtmlEmail();&lt;/p&gt;


&lt;p&gt;		  try &lt;/p&gt;
{
			  
			  
email.setHostName(&quot;smtp.mail.com&quot;);

			  email.setSmtpPort(465);

			  email.setAuthenticator(new DefaultAuthenticator(USER_NAME,PASSWORD));
			  email.setSSLOnConnect(true);			  
			  
			  email.addTo(TO, &quot;test&quot;);
			  
			  email.setFrom(FROM, msg.getFrom());
			  email.setSubject(msg.getSubject());			  
			  		  
			  String message=msg.getMessage();
			  
			  email.setHtmlMsg(message);

			   email.setTextMsg(&quot;Your email client does not support HTML messages&quot;);

			   email.send();			  
			  
			  
		}
&lt;p&gt; catch (EmailException e) &lt;/p&gt;
{
			// TODO Auto-generated catch block
			e.printStackTrace();
			
			
		}
&lt;p&gt;}//method end...&lt;br/&gt;
}//class end...&lt;br/&gt;
------------------------------------&lt;/p&gt;


&lt;p&gt;snippet B: the gwt/rpc servlet 	&lt;/p&gt;

&lt;p&gt;public class SendServiceImpl extends RemoteServiceServlet implements SendService {&lt;/p&gt;

&lt;p&gt;	static Send send=new Send();&lt;/p&gt;

&lt;p&gt;	@Override&lt;br/&gt;
	public SentReport sendMessage(MyMessage message) &lt;/p&gt;
{
				
		return this.getMessageSend().sendMessage(message);
	}

&lt;p&gt;	private synchronized Send getSend()&lt;/p&gt;
	{
		return this.send;
	}
&lt;p&gt;}&lt;/p&gt;


&lt;p&gt;------------------------------------&lt;/p&gt;

&lt;p&gt;***Problem description:&lt;/p&gt;

&lt;p&gt;Message sending works fine and I can see email in my inbox; The problem occurs when I stop Tomcat and close the web application browser tab (FF for example); for some reason right after that my web browser (FireFox) cannot download web pages (throws connection timeout error...) though Internet connection is working fine :S I tried to download web pages with another internet browser Chrome for example but it behaves all the same &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I tried to see opened ports with &quot;netstat -an&quot; cmd and it shows me a long list of opened ports (which I don&apos;t have until send email code as &quot;email.send();&quot; activated...); That makes me think that for some reason the JavaMail connection to smtp server is NOT CLOSED or something similar?&lt;br/&gt;
The problem disappears only after I restart my OS (Windows XP Pro SP3);  &lt;/p&gt;

&lt;p&gt;So I suspect some bug which prevents smtp server connection closing after message send; I cannot say for sure but maybe socket connection doesn&apos;t close after message has been sent and received... I am not sure what should I add to my code to solve the problem because I followed all user guide examples which don&apos;t show how to close smtp server connection manually or something so I am a confused how to fix it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Maybe it is some kind of memory leak due to JavaMail I don&apos;t know...&lt;/p&gt;

&lt;p&gt;I dearly need your help because it is quite complicated issue as for me that makes impossible to use HtmlEmail class in my gwt application (its server side code)&lt;/p&gt;


&lt;p&gt;***My project uses&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;IDE : Eclipse Indigo 3.7&lt;/li&gt;
	&lt;li&gt;GWT SDK 2.3&lt;/li&gt;
	&lt;li&gt;JavaMail API 1.4.5&lt;/li&gt;
	&lt;li&gt;commons-email-1.3.1&lt;/li&gt;
	&lt;li&gt;Tomcat 7/ Jetty - in eclipse&lt;/li&gt;
	&lt;li&gt;JRE: version 7 Update 25 build 1.7.0_25-b17&lt;/li&gt;
	&lt;li&gt;OS: Windows XP Pro SP3&lt;/li&gt;
&lt;/ul&gt;




</description>
                <environment></environment>
        <key id="12658925">EMAIL-128</key>
            <summary>HtmlEmail doesn&apos;t close connection to smtp server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="commonsuser">Ivan Melnikov</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Jul 2013 02:37:40 +0000</created>
                <updated>Thu, 24 Oct 2013 20:09:09 +0000</updated>
                            <resolved>Wed, 24 Jul 2013 06:36:11 +0000</resolved>
                                    <version>1.3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13714693" author="tn" created="Sun, 21 Jul 2013 12:31:00 +0000"  >&lt;p&gt;Do you see anything in the logfiles of your web-application that may indicate a problem?&lt;/p&gt;</comment>
                            <comment id="13714764" author="commonsuser" created="Sun, 21 Jul 2013 18:24:10 +0000"  >&lt;p&gt;I have this kind of thing in my .metadata log file&lt;/p&gt;

&lt;p&gt;----------------&lt;del&gt;log file exception&lt;/del&gt;------------------------&lt;/p&gt;

&lt;p&gt;!ENTRY org.eclipse.core.resources 4 1 2013-07-20 04:59:12.609&lt;br/&gt;
!MESSAGE Core exception while retrieving the content description&lt;br/&gt;
!STACK 1&lt;br/&gt;
org.eclipse.core.internal.resources.ResourceException: Resource is out of sync with the file system: &apos;/send-form-1.0/war/WEB-INF/deploy/com.myproject.send.form.SendForm/rpcPolicyManifest/manifests/0C94E687013CDDF67C90273A6230CE51.txt&apos;.&lt;br/&gt;
	at org.eclipse.core.internal.resources.File.getContentDescription(File.java:269)&lt;br/&gt;
	at org.eclipse.core.internal.propertytester.FilePropertyTester.testContentType(FilePropertyTester.java:108)&lt;br/&gt;
	at org.eclipse.core.internal.propertytester.FilePropertyTester.test(FilePropertyTester.java:60)&lt;br/&gt;
	at org.eclipse.core.internal.expressions.Property.test(Property.java:58)&lt;br/&gt;
	at org.eclipse.core.internal.expressions.TestExpression.evaluate(TestExpression.java:99)&lt;br/&gt;
	at org.eclipse.core.internal.expressions.CompositeExpression.evaluateAnd(CompositeExpression.java:53)&lt;br/&gt;
	at org.eclipse.core.internal.expressions.AndExpression.evaluate(AndExpression.java:29)&lt;br/&gt;
	at org.eclipse.core.internal.expressions.CompositeExpression.evaluateOr(CompositeExpression.java:68)&lt;br/&gt;
	at org.eclipse.core.internal.expressions.OrExpression.evaluate(OrExpression.java:21)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorPlugin$Evaluator.run(NavigatorPlugin.java:245)&lt;br/&gt;
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.CustomAndExpression.evaluate(CustomAndExpression.java:71)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorPlugin$Evaluator.run(NavigatorPlugin.java:245)&lt;br/&gt;
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorPlugin.safeEvaluate(NavigatorPlugin.java:260)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.extensions.NavigatorContentDescriptor.isTriggerPoint(NavigatorContentDescriptor.java:426)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.extensions.NavigatorContentDescriptorManager.findDescriptors(NavigatorContentDescriptorManager.java:234)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.extensions.NavigatorContentDescriptorManager.findDescriptorsForTriggerPoint(NavigatorContentDescriptorManager.java:185)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorContentService.findDescriptorsByTriggerPoint(NavigatorContentService.java:805)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorContentService.findContentExtensionsByTriggerPoint(NavigatorContentService.java:654)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorContentService.findContentExtensionsByTriggerPoint(NavigatorContentService.java:635)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.hasChildren(NavigatorContentServiceContentProvider.java:377)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.hasChildren(NavigatorContentServiceContentProvider.java:422)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable(AbstractTreeViewer.java:2123)&lt;br/&gt;
	at org.eclipse.jface.viewers.TreeViewer.isExpandable(TreeViewer.java:588)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable(AbstractTreeViewer.java:2153)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus(AbstractTreeViewer.java:2835)&lt;br/&gt;
	at org.eclipse.jface.viewers.TreeViewer.updatePlus(TreeViewer.java:852)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:834)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:808)&lt;br/&gt;
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:782)&lt;br/&gt;
	at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:644)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:753)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand(AbstractTreeViewer.java:1485)&lt;br/&gt;
	at org.eclipse.jface.viewers.TreeViewer.handleTreeExpand(TreeViewer.java:952)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded(AbstractTreeViewer.java:1496)&lt;br/&gt;
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:132)&lt;br/&gt;
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)&lt;br/&gt;
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)&lt;br/&gt;
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1077)&lt;br/&gt;
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1062)&lt;br/&gt;
	at org.eclipse.swt.widgets.Tree.wmNotifyChild(Tree.java:7538)&lt;br/&gt;
	at org.eclipse.swt.widgets.Control.wmNotify(Control.java:5534)&lt;br/&gt;
	at org.eclipse.swt.widgets.Composite.wmNotify(Composite.java:1896)&lt;br/&gt;
	at org.eclipse.swt.widgets.Control.WM_NOTIFY(Control.java:5086)&lt;br/&gt;
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:4584)&lt;br/&gt;
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4972)&lt;br/&gt;
	at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)&lt;br/&gt;
	at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2424)&lt;br/&gt;
	at org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1533)&lt;br/&gt;
	at org.eclipse.swt.widgets.Tree.WM_LBUTTONDOWN(Tree.java:6411)&lt;br/&gt;
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:4564)&lt;br/&gt;
	at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:5937)&lt;br/&gt;
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4985)&lt;br/&gt;
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)&lt;br/&gt;
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2530)&lt;br/&gt;
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3752)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2696)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2660)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2494)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:674)&lt;br/&gt;
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:667)&lt;br/&gt;
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)&lt;br/&gt;
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123)&lt;br/&gt;
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)&lt;br/&gt;
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)&lt;br/&gt;
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)&lt;br/&gt;
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)&lt;br/&gt;
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.run(Main.java:1410)&lt;br/&gt;
!SUBENTRY 1 org.eclipse.core.resources 4 274 2013-07-20 04:59:12.609&lt;br/&gt;
!MESSAGE Resource is out of sync with the file system: &apos;/send-form-1.0/war/WEB-INF/deploy/com.myproject.send.form.SendForm/rpcPolicyManifest/manifests/0C94E687013CDDF67C90273A6230CE51.txt&apos;.&lt;/p&gt;

&lt;p&gt;-----------------------&lt;/p&gt;

&lt;p&gt;I am not pretty sure what exactly should I look for... I tried to extract exception concerning the SendForm project. Please lead me if you need some more information&lt;/p&gt;</comment>
                            <comment id="13717820" author="commonsuser" created="Wed, 24 Jul 2013 00:22:50 +0000"  >&lt;p&gt;I was digging the problem... Maybe this is eclipse bug issue as &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=104224&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=104224&lt;/a&gt; only because I did things as&lt;/p&gt;

&lt;p&gt;    A) Deleted all items from my OS apps Temp folder&lt;br/&gt;
    B) Refreshed my eclipse project&lt;br/&gt;
    C) Recompiled the gwt project&lt;/p&gt;

&lt;p&gt;... and after that I don&apos;t see any suspicious exceptions in my .metadata folder .log file so maybe the problem is solved fine because all internet browsers work fine after I send and receive email&lt;/p&gt;

&lt;p&gt;If the problem keep going I&apos;ll report but now I guess the issue can be closed&lt;/p&gt;

&lt;p&gt;Thank you all for help&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 21 Jul 2013 12:31:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mhof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339438</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-127] ImageHtmlEmail: Dollar or Backslash in certain places in &lt;img ... src...&gt;-tags causes exceptions &quot;IllegalArgumentException: Illegal group reference&quot;</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-127</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I have a unit test which shows that dollar sign and backslash cause ImageHtmlEmail to throw an Exception (unfortunately not easy to provide a complete unit test, but it should be easy to enhance one of the existing tests for ImageHtmlEmail):&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;			FileUtils.writeStringToFile(file, &quot;&amp;lt;html&amp;gt;teststring &amp;lt;img title=\&quot;$\&quot; src=\&quot;file://&quot; + file.getAbsolutePath() + &quot;\&quot;/&amp;gt;&amp;lt;/html&amp;gt;&quot;);&lt;/p&gt;

&lt;p&gt;			sender.sendHTMLEmail(files, mailConfig, emailConfig, REPORT_DIR);&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It will throw the following Exception:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;java.lang.IllegalArgumentException: Illegal group reference&lt;br/&gt;
	at java.util.regex.Matcher.appendReplacement(Matcher.java:808)&lt;br/&gt;
	at org.apache.commons.mail.ImageHtmlEmail.replacePattern(ImageHtmlEmail.java:180)&lt;br/&gt;
	at org.apache.commons.mail.ImageHtmlEmail.buildMimeMessage(ImageHtmlEmail.java:103)&lt;br/&gt;
	at org.apache.commons.mail.Email.send(Email.java:1427)&lt;br/&gt;
	at EmailSender.sendHTMLEmail(EmailSender.java:93)&lt;br/&gt;
	at EmailSenderTest.testImageHtmlEmailDollarBackslash(EmailSenderTest.java:801)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;the cause is that Matcher.appendReplacement() actually treats Dollar and Backslash as special characters. From the javadoc of Matcher:&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
	&lt;li&gt;Note that backslashes (&amp;lt;tt&amp;gt;\&amp;lt;/tt&amp;gt;) and dollar signs (&amp;lt;tt&amp;gt;$&amp;lt;/tt&amp;gt;) in&lt;/li&gt;
	&lt;li&gt;the replacement string may cause the results to be different than if it&lt;/li&gt;
	&lt;li&gt;were being treated as a literal replacement string. Dollar signs may be&lt;/li&gt;
	&lt;li&gt;treated as references to captured subsequences as described above, and&lt;/li&gt;
	&lt;li&gt;backslashes are used to escape literal characters in the replacement&lt;/li&gt;
	&lt;li&gt;string.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;A possible fix is to replace line 180 of ImageHtmlEmail.java with the following, i.e. replace &lt;tt&gt;$&lt;/tt&gt; by &lt;tt&gt;\$&lt;/tt&gt; and \ by \ \  to have them properly escaped.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;matcher.appendReplacement(stringBuffer, (matcher.group(1) + &lt;span class=&quot;code-quote&quot;&gt;&quot;cid:&quot;&lt;/span&gt; + cid + matcher.group(3)).replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;\\&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;\\\\&quot;&lt;/span&gt;).replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;$&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;\\$&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Linux&lt;/p&gt;</environment>
        <key id="12655217">EMAIL-127</key>
            <summary>ImageHtmlEmail: Dollar or Backslash in certain places in &lt;img ... src...&gt;-tags causes exceptions &quot;IllegalArgumentException: Illegal group reference&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="centic">Dominik Stadler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Jun 2013 20:37:26 +0000</created>
                <updated>Thu, 24 Oct 2013 20:09:08 +0000</updated>
                            <resolved>Mon, 1 Jul 2013 19:08:57 +0000</resolved>
                                    <version>1.3.1</version>
                                    <fixVersion>1.3.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13695042" author="centic" created="Thu, 27 Jun 2013 20:40:05 +0000"  >&lt;p&gt;first replace backslash then dollar to not escape backslash from dollar-escaping again...&lt;/p&gt;</comment>
                            <comment id="13697079" author="tn" created="Mon, 1 Jul 2013 19:08:57 +0000"  >&lt;p&gt;Fixed in r1498625.&lt;/p&gt;

&lt;p&gt;I used Matcher.quoteReplacement to escape the replacement string.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Jul 2013 19:08:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lvd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-125] DataSourceClassPathResolver on ImageHtmlEmail with multiple image in template don&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-125</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I&apos;m having a html template for sending with 3 images.&lt;br/&gt;
If I resolve the images using DataSourceClassPathResolve, only the first is replaced. The 2 others have same cid and thus are replaced by the first.&lt;br/&gt;
Using others DataSource resolver leads to the good result.&lt;/p&gt;

&lt;p&gt;Here is more details :&lt;br/&gt;
The template : &amp;lt;p&amp;gt;Une image en relatif &amp;lt;img src=&quot;testu/info.png&quot;/&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;Une image en relatif &amp;lt;img src=&quot;testu/warning.png&quot;/&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;Une image en relatif &amp;lt;img src=&quot;testu/error.png&quot;/&amp;gt;&amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;The code :&lt;br/&gt;
ImageHtmlEmail email = new ImageHtmlEmail();&lt;br/&gt;
email.setDataSourceResolver(new DataSourceClassPathResolver(&quot;/images/&quot;, true));&lt;br/&gt;
email.setHostName(...);&lt;br/&gt;
email.setCharset(&quot;utf-8&quot;);&lt;br/&gt;
email.addTo(...);&lt;br/&gt;
email.setFrom(...);&lt;br/&gt;
email.setSubject(...);&lt;br/&gt;
email.setHtmlMsg(corps /* ie the template above */);&lt;br/&gt;
email.setTextMsg(&quot;Your email client does not support HTML messages&quot;);&lt;br/&gt;
email.send();&lt;/p&gt;

&lt;p&gt;The result (source of the received mail) :&lt;br/&gt;
&amp;lt;p&amp;gt;Une image en relatif &amp;lt;img src=&quot;cid:afgsltqedp&quot;/&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;Une image en relatif &amp;lt;img src=&quot;cid:afgsltqedp&quot;/&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;Une image en relatif &amp;lt;img src=&quot;cid:afgsltqedp&quot;/&amp;gt;&amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;You will notice that all cid are the same. The lenient flag is true so I&apos;m sure that all images are present on classpath.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Windows7, Jdk 1.7&lt;/p&gt;</environment>
        <key id="12633574">EMAIL-125</key>
            <summary>DataSourceClassPathResolver on ImageHtmlEmail with multiple image in template don&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmcollin92">Jean-Marc</reporter>
                        <labels>
                            <label>DataSourceClassPathResolver</label>
                            <label>ImageHtmlEmail</label>
                    </labels>
                <created>Fri, 22 Feb 2013 08:59:46 +0000</created>
                <updated>Mon, 4 Mar 2013 19:00:19 +0000</updated>
                            <resolved>Fri, 22 Feb 2013 10:42:14 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.3.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="10800">3h</timeoriginalestimate>
                            <timeestimate seconds="10800">3h</timeestimate>
                                        <comments>
                            <comment id="13584169" author="tn" created="Fri, 22 Feb 2013 10:42:14 +0000"  >&lt;p&gt;Fixed in r1448981.&lt;/p&gt;

&lt;p&gt;The problem existed because the DataSourceClassPathResolver created special DataSources that did not have a name set.&lt;/p&gt;

&lt;p&gt;The result was that each resource loaded by this resolver had the same name, and thus the cids where all equal.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Feb 2013 10:42:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314069</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i74n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-124] Header values are folded twice and thus creating defective emails</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-124</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-98&quot; title=&quot;Encoding and folding of headers should not be left to the user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-98&quot;&gt;&lt;del&gt;EMAIL-98&lt;/del&gt;&lt;/a&gt;, header values now are folded by commons-email.&lt;/p&gt;

&lt;p&gt;Unfortunately, they are folded twice: once in &quot;Mail.addHeader&quot; or &quot;Mail.setHeaders&quot;, and once again in &quot;Mail.buildMimeMessage()&quot; while iterating over the headers.&lt;/p&gt;

&lt;p&gt;This results (in our test cases) in corrupted mail header lines having additional blank lines between the first and second line of a folded value - and thus ends in corrupted mails (as all headers after the first blank line are threatened as mail-body-content).&lt;/p&gt;

&lt;p&gt;As this renders &quot;additional headers&quot; useless in commons-mail and corrupts every mail having additionl headers with longer-than-folding-size values, i set the priority to blocker.&lt;/p&gt;

&lt;p&gt;The fix seems to be easy: just fold either in addHeader and setHeaders, or in buildMimeMessage (but not in both).&lt;/p&gt;

&lt;p&gt;My preferred solution would be to fold in buildMimeMessage, and to store the values &quot;as-is&quot; in addHeader and setHeaders so one is able to work with the plain values (if neccessary) until the mail is actually build and send.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633374">EMAIL-124</key>
            <summary>Header values are folded twice and thus creating defective emails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="schueffi">Stefan Schueffler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Feb 2013 10:44:42 +0000</created>
                <updated>Mon, 4 Mar 2013 19:00:18 +0000</updated>
                            <resolved>Thu, 21 Feb 2013 12:04:41 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.3.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                            <timeestimate seconds="300">5m</timeestimate>
                                        <comments>
                            <comment id="13583137" author="tn" created="Thu, 21 Feb 2013 12:04:41 +0000"  >&lt;p&gt;Fixed in r1448617.&lt;/p&gt;

&lt;p&gt;Thanks for the report and analysis, we will try to push a 1.3.1 bugfix release for it.&lt;/p&gt;</comment>
                            <comment id="13583287" author="tn" created="Thu, 21 Feb 2013 15:38:30 +0000"  >&lt;p&gt;Can you check with the latest trunk version if the problem is solved for you?&lt;br/&gt;
I will then start a release tomorrow.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Thomas&lt;/p&gt;</comment>
                            <comment id="13587310" author="schueffi" created="Tue, 26 Feb 2013 17:50:17 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;due to my vacational out of office, i unfortunately can not test your commit. But as far as i can tell from reading your commit mentioned above, your fix looks exactly the same what i did while analyzing this issue.&lt;/p&gt;

&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Stefan&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Feb 2013 12:04:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i5wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314215</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-123] Misleading exception message</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-123</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I&apos;m not too experienced with filing bug reports and I don&apos;t know how to make a patch file, so I&apos;ll just do it like this. I also don&apos;t know whether this is fixed already in an unreleased version... But I just hope I can help.&lt;/p&gt;

&lt;p&gt;On line 1240 of Email.java in version 1.2 of Commons Email, the message of the exception is extended with this.getSmtpPort. This is incorrect; this should be something like:&lt;/p&gt;

&lt;p&gt;(this.isSSL()?this.getSslSmtpPort():this.getSmtpPort())&lt;/p&gt;

&lt;p&gt;Else it results in questions like &lt;a href=&quot;http://stackoverflow.com/questions/13951322/javamail-email-commons-empty-message-gives-strange-error&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/13951322/javamail-email-commons-empty-message-gives-strange-error&lt;/a&gt;&lt;br/&gt;
&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12624665">EMAIL-123</key>
            <summary>Misleading exception message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bartlaarhoven">Bart Laarhoven</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 19 Dec 2012 16:34:07 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:40 +0000</updated>
                            <resolved>Sat, 5 Jan 2013 20:41:07 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13536416" author="bartlaarhoven" created="Wed, 19 Dec 2012 20:44:26 +0000"  >&lt;p&gt;It seems related to this issue, but I can&apos;t see whether/how issue 91 will solve this one.&lt;/p&gt;</comment>
                            <comment id="13544875" author="tn" created="Sat, 5 Jan 2013 20:40:24 +0000"  >&lt;p&gt;This bug report is indeed a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-91&quot; title=&quot;Incorrect SMTP Port number shown in error message when an email fails to send due to a blocked port and SSL is used.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-91&quot;&gt;&lt;del&gt;EMAIL-91&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I added a unit test in r1429382 to verify the now correct behavior.&lt;/p&gt;

&lt;p&gt;Thanks for the report anyway!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12440113">EMAIL-91</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Jan 2013 20:40:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>300490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i168mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244530</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-121] Outlook displays an email incorrectly if there is a newline in the Subject</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-121</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Agreed it is not very useful, but it took me quite a while to figure out why outlook did not display the email correctly.&lt;/p&gt;

&lt;p&gt;Here a simplified reproducer:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;EmailSendingReproducer {

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; MESSAGE_HTML =
			&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;html&amp;gt;&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;body&amp;gt;&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;Sincerly&amp;lt;br/&amp;gt;&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;Your hard-working setup application&amp;lt;br/&amp;gt;&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;&lt;/span&gt;;

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; MESSAGE_TXT =
			&lt;span class=&quot;code-quote&quot;&gt;&quot;Sincerly&amp;lt;br/&amp;gt;&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;Your hard-working setup application&amp;lt;br/&amp;gt;&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;\n&quot;&lt;/span&gt;;

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		sendEmail(&lt;span class=&quot;code-quote&quot;&gt;&quot;\n1Setup job &lt;span class=&quot;code-quote&quot;&gt;&apos;[setup,sync]&apos;&lt;/span&gt; finished on machine&quot;&lt;/span&gt;);
		sendEmail(&lt;span class=&quot;code-quote&quot;&gt;&quot;Setup job &lt;span class=&quot;code-quote&quot;&gt;&apos;[setup,sync]&apos;&lt;/span&gt; finished on machine&quot;&lt;/span&gt;);
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Done&quot;&lt;/span&gt;);
	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void sendEmail(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; subject) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, EmailException, AddressException {
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ImageHtmlEmail email = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ImageHtmlEmail();
		email.setDataSourceResolver(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DataSourceResolverImpl(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;).toURI().toURL(), &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;));

		&lt;span class=&quot;code-comment&quot;&gt;// set properties on the Email object
&lt;/span&gt;		email.setHostName(&lt;span class=&quot;code-quote&quot;&gt;&quot;somesmtphost&quot;&lt;/span&gt;);
		email.setSmtpPort(25);

		email.setTo(Arrays.asList(InternetAddress.parse(&lt;span class=&quot;code-quote&quot;&gt;&quot;whereyouare@example.com&quot;&lt;/span&gt;)));
		email.setFrom(&lt;span class=&quot;code-quote&quot;&gt;&quot;test@example.com&quot;&lt;/span&gt;);
		email.setSubject(subject);

		email.setMsg(MESSAGE_TXT);
		email.setHtmlMsg(MESSAGE_HTML);

		email.send();
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;1.3 SNAPSHOT, Outlook &quot;14.0.6123.5001&quot;&lt;/p&gt;</environment>
        <key id="12611968">EMAIL-121</key>
            <summary>Outlook displays an email incorrectly if there is a newline in the Subject</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dominik.stadler@gmx.at">Dominik Stadler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Oct 2012 05:05:03 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:42 +0000</updated>
                            <resolved>Tue, 16 Oct 2012 09:52:02 +0000</resolved>
                                    <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13476749" author="dominik.stadler@gmx.at" created="Tue, 16 Oct 2012 05:07:57 +0000"  >&lt;p&gt;display of the email in Outlook without and with newline&lt;/p&gt;</comment>
                            <comment id="13476864" author="sebb@apache.org" created="Tue, 16 Oct 2012 09:06:24 +0000"  >&lt;p&gt;Does SMTP allow newLines in subjects?&lt;/p&gt;

&lt;p&gt;Line-breaks are used to wrap long lines, so may occur in the transmitted data, but these should be removed by the receiver before display.&lt;/p&gt;</comment>
                            <comment id="13476881" author="sebb@apache.org" created="Tue, 16 Oct 2012 09:52:02 +0000"  >&lt;p&gt;If you send the following subject it will work OK:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;sendEmail(&lt;span class=&quot;code-quote&quot;&gt;&quot;\n Setup job &lt;span class=&quot;code-quote&quot;&gt;&apos;[setup,sync]&apos;&lt;/span&gt; finished on machine&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A line without a space in column 1 is treated as part of the message body (or a header if it looks like one)&lt;/p&gt;

&lt;p&gt;This is not a bug in Commons Email, which just passes the subject to JavaMail.&lt;/p&gt;

&lt;p&gt;The work-round is: don&apos;t use new-lines in the subject field.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12549262" name="mail-ok.png" size="11768" author="dominik.stadler@gmx.at" created="Tue, 16 Oct 2012 05:07:57 +0000"/>
                            <attachment id="12549263" name="mail-wrong.png" size="21292" author="dominik.stadler@gmx.at" created="Tue, 16 Oct 2012 05:07:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 16 Oct 2012 09:06:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a2ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56662</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-120] attach(DataSource xx) doesn&apos;t close inputstream</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-120</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Basically I have code like shown below.&lt;/p&gt;

&lt;p&gt;message.attach(reports&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.getDatasource(),&lt;/p&gt;

&lt;p&gt;				&quot;Report&quot; + new SimpleDateFormat(&quot;yyyymmdd&quot;).format(new java.util.Date()) + &quot;.&quot; + selectedAttachment,&lt;br/&gt;
				selectedAttachment.toUpperCase() + &quot; version of report&quot;);&lt;/p&gt;

&lt;p&gt;Where the DataSource in question is a simple JAF FileDataSource.&lt;/p&gt;

&lt;p&gt;What I found [when I found files were not being cleaned up by my cleaner)&lt;/p&gt;

&lt;p&gt;1. I can delete the backing file before calling this method&lt;br/&gt;
2. I cannot delete the backing file after calling this method.&lt;br/&gt;
3. Workaround uses the URL version of attachment.&lt;/p&gt;

&lt;p&gt;DataSource ds=reports&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.getDatasource();&lt;br/&gt;
			FileDataSource fds=(FileDataSource) ds;&lt;br/&gt;
			URL url=fds.getFile().toURI().toURL();&lt;/p&gt;

&lt;p&gt;			/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;MJB: We don&apos;t use the DataSource directly (as we should) because of a bug in Commons Email&lt;/li&gt;
	&lt;li&gt;where it usually doesn&apos;t close the inputstream&lt;br/&gt;
			 */&lt;br/&gt;
			message.attach(url,&quot;Report&quot; + new SimpleDateFormat(&quot;yyyymmdd&quot;).format(new java.util.Date()) + &quot;.&quot; + selectedAttachment,&lt;br/&gt;
					selectedAttachment.toUpperCase() + &quot; version of report&quot;);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;4. I therefore assume the inputstream has been opened and never closed.&lt;br/&gt;
5. Same test after calling send() provides same results&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7, 64 bit&lt;/p&gt;</environment>
        <key id="12610099">EMAIL-120</key>
            <summary>attach(DataSource xx) doesn&apos;t close inputstream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mikebell90">mike bell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Oct 2012 16:53:20 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:41 +0000</updated>
                            <resolved>Wed, 7 Nov 2012 21:54:01 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13492739" author="tn" created="Wed, 7 Nov 2012 21:54:01 +0000"  >&lt;p&gt;Fixed in r1406832.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Nov 2012 21:54:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ftm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-116] DataSourceCompositeResolver.getDataSourceResolvers() fails to clone DataSourceResolver[]</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-116</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The ctor is careful to clone the provided array, but the getter method fails to clone the array, thus allowing external modification.&lt;/p&gt;

&lt;p&gt;This is illogical.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12552374">EMAIL-116</key>
            <summary>DataSourceCompositeResolver.getDataSourceResolvers() fails to clone DataSourceResolver[]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Apr 2012 19:43:09 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:41 +0000</updated>
                            <resolved>Sat, 10 Nov 2012 18:21:11 +0000</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13494740" author="tn" created="Sat, 10 Nov 2012 18:21:11 +0000"  >&lt;p&gt;Fixed in r1407867.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 10 Nov 2012 18:21:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255699</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ftmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90399</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-113] Maven Site fails with error in Checkstyle configuration</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-113</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Config for new CheckStyle is different then for old one. Config in project needs to be updated to new version.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Maven 2.2.1, Java 1.6, Windows 7x64&lt;/p&gt;</environment>
        <key id="12538099">EMAIL-113</key>
            <summary>Maven Site fails with error in Checkstyle configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="codecop">Peter Kofler</reporter>
                        <labels>
                            <label>checkstyle</label>
                            <label>release</label>
                            <label>site</label>
                    </labels>
                <created>Wed, 11 Jan 2012 20:48:27 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:39 +0000</updated>
                            <resolved>Sun, 19 Feb 2012 22:12:38 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13184381" author="codecop" created="Wed, 11 Jan 2012 20:51:03 +0000"  >&lt;p&gt;Updated Checkstyle to newest and fix config to run again. Now we see many Checkstyle violations &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13211570" author="sgoeschl" created="Sun, 19 Feb 2012 22:12:38 +0000"  >&lt;p&gt;Applied patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510240" name="EMAIL-113.patch" size="3574" author="codecop" created="Wed, 11 Jan 2012 20:51:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 19 Feb 2012 22:12:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223605</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tmxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-112] DataSourceFileResolverTest fails under IBM JDK 1.4 and 1.6 running on Windows</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-112</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;        assertNull(toByteArray(dataSourceResolver.resolve(&quot;/images/does-not-exist.gif&quot;)));&lt;br/&gt;
fails because IBM JDK under Windows assumes &quot;/xxx&quot; NOT to be absolute.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7x64,&lt;br/&gt;
java version &quot;1.7.0&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build pwi3270-20110906_01)&lt;br/&gt;
IBM J9 VM (build 2.6, JRE 1.7.0 Windows 7 x86-32 20110810_88604 (JIT enabled, AOT enabled)&lt;br/&gt;
J9VM - R26_Java726_GA_20110810_1208_B88592&lt;/p&gt;</environment>
        <key id="12538091">EMAIL-112</key>
            <summary>DataSourceFileResolverTest fails under IBM JDK 1.4 and 1.6 running on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="codecop">Peter Kofler</reporter>
                        <labels>
                            <label>test</label>
                    </labels>
                <created>Wed, 11 Jan 2012 19:26:47 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:41 +0000</updated>
                            <resolved>Sun, 19 Feb 2012 21:00:05 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13184307" author="codecop" created="Wed, 11 Jan 2012 19:29:42 +0000"  >&lt;p&gt;change the name of the file, so it does not exist.&lt;/p&gt;</comment>
                            <comment id="13184308" author="codecop" created="Wed, 11 Jan 2012 19:31:38 +0000"  >&lt;p&gt;changed the name of the non existing test file. this is no fix of the problem? in IBM JDK, but the tests succeed now, so it&apos;s ok.&lt;/p&gt;</comment>
                            <comment id="13184461" author="thefake" created="Wed, 11 Jan 2012 22:35:11 +0000"  >&lt;p&gt;this issue isn&apos;t ibm JDK related - within my environment it failed too&lt;br/&gt;
Environment:&lt;br/&gt;
Windows XPx32&lt;br/&gt;
java version &quot;1.6.0_24&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_24-b07)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 19.1-b02, mixed mode, sharing)&lt;/p&gt;</comment>
                            <comment id="13211551" author="sgoeschl" created="Sun, 19 Feb 2012 21:00:05 +0000"  >&lt;p&gt;Applied patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510226" name="EMAIL-112.patch" size="1486" author="codecop" created="Wed, 11 Jan 2012 19:29:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jan 2012 22:35:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tmxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171026</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-110] java.lang.OutOfMemoryError: Java heap space while parsing Mime part</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-110</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I have a particular eml message which appears to cause a complete memory overflow deep within commons-email.&lt;br/&gt;
A look at the source code does reveal a suspect &quot;while&quot; loop which appears to never exit properly, and should be rewritten so that bad data could not give us this situation.&lt;br/&gt;
The stack trace is :&lt;br/&gt;
java.lang.OutOfMemoryError: Java heap space&lt;br/&gt;
	at java.util.Arrays.copyOf(Arrays.java:2786)&lt;br/&gt;
	at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:71)&lt;br/&gt;
	at javax.mail.internet.MimeMultipart.readTillFirstBoundary(MimeMultipart.java:316)&lt;br/&gt;
	at javax.mail.internet.MimeMultipart.parse(MimeMultipart.java:186)&lt;br/&gt;
	at javax.mail.internet.MimeMultipart.updateHeaders(MimeMultipart.java:130)&lt;br/&gt;
	at javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:539)&lt;br/&gt;
	at javax.mail.internet.MimeMultipart.updateHeaders(MimeMultipart.java:133)&lt;br/&gt;
	at javax.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:1393)&lt;br/&gt;
	at javax.mail.internet.MimeMessage.saveChanges(MimeMessage.java:1366)&lt;br/&gt;
	at javax.mail.Transport.send(Transport.java:76)&lt;br/&gt;
	at javax.mail.Transport.send(Transport.java:48)&lt;/p&gt;

&lt;p&gt;There are many public threads illustrating this same error, but they never pinpoint the code to Commons Email, I&apos;m guessing I&apos;m using the code in a way which exhibits this behaviour :&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/questions/3177092/uploading-to-blobstore-gives-a-java-heap-outofmemoryerror&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/3177092/uploading-to-blobstore-gives-a-java-heap-outofmemoryerror&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/questions/2994031/outofmemoryerror-trying-to-upload-to-blobstore-locally&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/2994031/outofmemoryerror-trying-to-upload-to-blobstore-locally&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows, Linux&lt;/p&gt;</environment>
        <key id="12534647">EMAIL-110</key>
            <summary>java.lang.OutOfMemoryError: Java heap space while parsing Mime part</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="skruger">Stephen Kruger</reporter>
                        <labels>
                    </labels>
                <created>Sun, 11 Dec 2011 09:18:13 +0000</created>
                <updated>Sat, 18 Feb 2012 21:35:39 +0000</updated>
                            <resolved>Tue, 17 Jan 2012 05:13:36 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13167072" author="skruger" created="Sun, 11 Dec 2011 09:19:52 +0000"  >&lt;p&gt;The email message which crashes Commons email parser.&lt;/p&gt;</comment>
                            <comment id="13167074" author="maurizio.cucchiara" created="Sun, 11 Dec 2011 09:54:52 +0000"  >&lt;p&gt;Honestly, OOME are common in many situations and not necessarily related to commons. Sometimes increase the heap space fixes the problem.&lt;br/&gt;
But in order to detect your issue, I think it could be helpful if you provide some more details:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;what are you trying to achieve?&lt;/li&gt;
	&lt;li&gt;could you provide a code chunk you are trying to execute?&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13167118" author="skruger" created="Sun, 11 Dec 2011 15:46:37 +0000"  >&lt;p&gt;Small Eclipse / Maven project which reproduces the problem.&lt;/p&gt;</comment>
                            <comment id="13167119" author="skruger" created="Sun, 11 Dec 2011 15:47:18 +0000"  >&lt;p&gt;The test mail I&apos;m trying to send is way too  small to warrant increasing heap space. It&apos;s definitely a loop termination problem where it&apos;s looking for some termination chars which are not there (perhaps erroneously on the part of the test mail).&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a simple Eclipse project (Maven based) which recreates the problem entirely.&lt;br/&gt;
My apologies if the issue turns out to be in one of the other dependencies - since you all use javax.mail it&apos;s hard to understand whose implementation is actually being used.&lt;/p&gt;</comment>
                            <comment id="13167148" author="maurizio.cucchiara" created="Sun, 11 Dec 2011 17:55:17 +0000"  >&lt;p&gt;Good starting point, I can confirm the issue now.&lt;br/&gt;
But unfortunately, I can also confirm that the issue is not commons-related.&lt;br/&gt;
In fact reducing the dependencies list, it works as expected.&lt;br/&gt;
For the sake of completeness, I made a few changes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mail.smtp.host: localhost (Utils.java)
mail.smtp.port: 25

To:mcucchiara@localhost (crashfix.eml)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks like it is abdera-related (removing that dependency make it works)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependencies&amp;gt;&lt;/span&gt;                                 
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;                               
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;junit&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;               
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;junit&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;         
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;4.10&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;                
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;compile&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;                 
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;                              
                                               
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;                               
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.commons&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;  
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;commons-email&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt; 
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.2&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;                 
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;                              
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependencies&amp;gt;&lt;/span&gt;                                
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13167218" author="skruger" created="Sun, 11 Dec 2011 21:50:10 +0000"  >&lt;p&gt;I did notice the failure went away without the Abdera dep. &lt;br/&gt;
But still - it&apos;s not right that including a dep can cause such a failure in commons-email, or are you saying that the javax.mail.internet.MimeMultipart where the failure happens is not the commons-email one?&lt;br/&gt;
Perhaps it&apos;s pulling in a Sun implementation of that class? Could you debug to see whose implementation is being used when using the Abdera dep? I specifically excluded the javax.mail inherited by Abdera ;&lt;br/&gt;
			&amp;lt;exclusions&amp;gt;&lt;br/&gt;
				&amp;lt;exclusion&amp;gt;&lt;br/&gt;
					&amp;lt;artifactId&amp;gt;mail&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
					&amp;lt;groupId&amp;gt;javax.mail&amp;lt;/groupId&amp;gt;&lt;br/&gt;
				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
			&amp;lt;/exclusions&amp;gt;&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="13184121" author="sgoeschl" created="Wed, 11 Jan 2012 15:13:28 +0000"  >&lt;p&gt;Checking the dependency tree using &quot;mvn dependency:tree&quot; allows you to see what is included where. Don&apos;t know Abdera but in the past there were known issues when &quot;geronimo-spec-javamail&quot; was included since it did not implement the whole functionality of javamail.&lt;/p&gt;

&lt;p&gt;Assuming that Abdera is actually Apache Abdera it includes&lt;/p&gt;

&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
  &amp;lt;groupId&amp;gt;org.apache.geronimo.specs&amp;lt;/groupId&amp;gt;&lt;br/&gt;
  &amp;lt;artifactId&amp;gt;geronimo-activation_1.1_spec&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
  &amp;lt;version&amp;gt;1.1&amp;lt;/version&amp;gt;  &lt;br/&gt;
&amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;which could cause the problem&lt;/p&gt;</comment>
                            <comment id="13184124" author="sgoeschl" created="Wed, 11 Jan 2012 15:22:00 +0000"  >&lt;p&gt;One more note - I checked the &quot;crashfix.eml&quot; using &quot;http://tools.ietf.org/tools/msglint/&quot; and &quot;http://www.mimevalidator.net/&quot; and both tools are not very happy. While I have never seen an email in the wild passing those tests I still think that something is wrong with the email&lt;/p&gt;</comment>
                            <comment id="13184333" author="thefake" created="Wed, 11 Jan 2012 19:59:38 +0000"  >&lt;p&gt;I&apos;ve checked the RFC 822 &lt;a href=&quot;http://www.ietf.org/rfc/rfc822.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.ietf.org/rfc/rfc822.txt&lt;/a&gt; &lt;br/&gt;
In appendix B.2 it is stated that the header has to be seperated from the content by a null line. The eml file given with this issue is missing this seperating line.&lt;/p&gt;</comment>
                            <comment id="13184396" author="sebb@apache.org" created="Wed, 11 Jan 2012 21:13:10 +0000"  >&lt;p&gt;The current pom no longer depends on abdera or geronimo specs; it depends on javamail and activation.&lt;/p&gt;</comment>
                            <comment id="13184464" author="sgoeschl" created="Wed, 11 Jan 2012 22:38:47 +0000"  >&lt;p&gt;In order to avoid confusion&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;commons-email depends on javamail and activation&lt;/li&gt;
	&lt;li&gt;Stephan Kruger mentioned &quot;Abdera&quot; dependencies and it could be the Apache Abdera project which uses the geronimo libraries (see &lt;a href=&quot;http://svn.apache.org/repos/asf/abdera/abdera2/pom.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/abdera/abdera2/pom.xml&lt;/a&gt;) and excludes javamail (see the Axis deps)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13185526" author="thefake" created="Fri, 13 Jan 2012 09:57:16 +0000"  >&lt;p&gt;Added a Patch:&lt;br/&gt;
New MimeMessageParser test to verify that it can parse the eml file without getting OOM.&lt;br/&gt;
Reproduced an other eml file with the same defect, tested with the Maven project given by Stephen Kruger to ensure that the OOM error occures with it too.&lt;/p&gt;

&lt;p&gt;The eml file is corrupt, as mentioned in my comment above. So the MimeMessageParser cannot detect any attachment within it. &lt;br/&gt;
As an other example, Outlook Express cannot read it too. It shows the Attachment with a size of 0 Bytes&lt;/p&gt;</comment>
                            <comment id="13187455" author="sgoeschl" created="Tue, 17 Jan 2012 05:13:36 +0000"  >&lt;p&gt;Get no OutOfMemoryException and the mail message is actually invaslid&lt;/p&gt;</comment>
                            <comment id="13211104" author="sgoeschl" created="Sat, 18 Feb 2012 21:35:39 +0000"  >&lt;p&gt;Applied patch to trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510481" name="EMAIL-110.patch" size="13020" author="thefake" created="Fri, 13 Jan 2012 09:57:16 +0000"/>
                            <attachment id="12506902" name="MailBug.zip" size="13047" author="skruger" created="Sun, 11 Dec 2011 15:46:37 +0000"/>
                            <attachment id="12506888" name="crashfix.eml" size="29996" author="skruger" created="Sun, 11 Dec 2011 09:19:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 11 Dec 2011 09:54:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220368</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vndb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-109] NotificationManager.sendEmail Sending the email to the following server failed : null:25</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-109</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;We have a third party product that intermittently does not send emails. One of the application server log files has provided the following clue. I am not very conversant with any versions that we have installed, but will be able to find out anything that is needed if I make a request back through our DBA.&lt;/p&gt;

&lt;p&gt;The error in the logfile is shown here.&lt;/p&gt;

&lt;p&gt;11:21:10 WARN  AJPRequestHandler-ApplicationServerThread-11 [ NotificationManager.sendEmail           ] Sending the email to the following server failed : null:25&lt;br/&gt;
org.apache.commons.mail.EmailException: Sending the email to the following server failed : null:25&lt;br/&gt;
	at org.apache.commons.mail.Email.sendMimeMessage(Email.java:873)&lt;br/&gt;
	at org.apache.commons.mail.Email.send(Email.java:898)&lt;br/&gt;
	at com.intaz.safetsmart.notification.NotificationManager.sendEmail(NotificationManager.java:204)&lt;br/&gt;
	at com.intaz.safetsmart.notification.NotificationManager.sendNotification(NotificationManager.java:130)&lt;br/&gt;
	at com.intaz.safetsmart.workflow.action.notify.RoleIfIncidentClassification.execute(RoleIfIncidentClassification.java:110)&lt;br/&gt;
	at com.intaz.safetsmart.workflow.Workflow.executeActionHandler(Workflow.java:531)&lt;br/&gt;
	at com.intaz.safetsmart.workflow.Workflow.executeActionHandler(Workflow.java:438)&lt;br/&gt;
	at com.intaz.safetsmart.workflow.WorkflowDefinition.processInitialEvent(WorkflowDefinition.java:308)&lt;br/&gt;
	at com.intaz.safetsmart.workflow.WorkflowDefinition.processInitialEvent(WorkflowDefinition.java:161)&lt;br/&gt;
	at com.intaz.safetsmart.workflow.WorkflowEngine.checkForNewWorkflows(WorkflowEngine.java:180)&lt;br/&gt;
	at com.intaz.safetsmart.workflow.WorkflowEngine.processEvent(WorkflowEngine.java:92)&lt;br/&gt;
	at com.intaz.safetsmart.presentation.generic.WizardObject.save(WizardObject.java:560)&lt;br/&gt;
	at com.intaz.safetsmart.presentation.handler.GenericHandler.handleRequest(GenericHandler.java:469)&lt;br/&gt;
	at com.intaz.safetsmart.presentation.ControllerServlet.performTask(ControllerServlet.java:119)&lt;br/&gt;
	at com.intaz.safetsmart.presentation.BaseServlet.doPost(BaseServlet.java:26)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
	at com.evermind.server.http.ServletRequestDispatcher.invoke(ServletRequestDispatcher.java:824)&lt;br/&gt;
	at com.evermind.server.http.ServletRequestDispatcher.forwardInternal(ServletRequestDispatcher.java:330)&lt;br/&gt;
	at com.evermind.server.http.HttpRequestHandler.processRequest(HttpRequestHandler.java:830)&lt;br/&gt;
	at com.evermind.server.http.AJPRequestHandler.run(AJPRequestHandler.java:224)&lt;br/&gt;
	at com.evermind.server.http.AJPRequestHandler.run(AJPRequestHandler.java:133)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12533401">EMAIL-109</key>
            <summary>NotificationManager.sendEmail Sending the email to the following server failed : null:25</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="jsteer">Jaine Steer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Dec 2011 03:41:12 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:41 +0000</updated>
                            <resolved>Wed, 11 Jan 2012 15:26:12 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13160686" author="jsteer" created="Thu, 1 Dec 2011 06:46:50 +0000"  >&lt;p&gt;Remainder of error &lt;/p&gt;

&lt;p&gt;	at com.evermind.util.ReleasableResourcePooledExecutor$MyWorker.run(ReleasableResourcePooledExecutor.java:186)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:534)&lt;br/&gt;
Caused by: javax.mail.SendFailedException: Sending failed;&lt;br/&gt;
  nested exception is: &lt;br/&gt;
	javax.mail.SendFailedException: &lt;br/&gt;
	at javax.mail.Transport.send0(Transport.java:219)&lt;br/&gt;
	at javax.mail.Transport.send(Transport.java:81)&lt;br/&gt;
	at org.apache.commons.mail.Email.sendMimeMessage(Email.java:863)&lt;br/&gt;
	... 23 more&lt;br/&gt;
11:21:10 WARN  AJPRequestHandler-ApplicationServerThread-11 [ NotificationManager.sendNotification    ] notification sending failed&lt;/p&gt;</comment>
                            <comment id="13162486" author="sgoeschl" created="Sun, 4 Dec 2011 21:02:01 +0000"  >&lt;p&gt;Hi Jaine,&lt;/p&gt;

&lt;p&gt;a few comments&lt;/p&gt;

&lt;p&gt;+) what version of commons-email are using&lt;br/&gt;
+) there is no information how I can reproduce the problem &lt;br/&gt;
+) sending an email failed but this is might not be caused by commons-email&lt;br/&gt;
+) you can turn on tracing using &quot;java -Dmail.debug=true ... &quot;&lt;/p&gt;</comment>
                            <comment id="13167286" author="jsteer" created="Sun, 11 Dec 2011 23:56:40 +0000"  >&lt;p&gt;1. The mail is within the 3rd party application itself - so not sure how I would find this out. I have access to the files that sit on the Oracle Application server - so let me know if this helps.&lt;br/&gt;
2. You cannot reproduce the system as you are not in our system - this is a 3rd party application supplied by a NZ company.&lt;br/&gt;
3. I am not sure where the error is coming from - the log file that showed the error was my starting point&lt;br/&gt;
4. How do I do this&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Jaine&lt;/p&gt;</comment>
                            <comment id="13184119" author="sgoeschl" created="Wed, 11 Jan 2012 15:10:41 +0000"  >&lt;p&gt;Hi Jaine,&lt;/p&gt;

&lt;p&gt;don&apos;t know if you still have the issue but using the system property &quot;mail.debug=true&quot; dumps the SMTP conversation to stdout. This might give you some more information ...&lt;/p&gt;

&lt;p&gt;Cheer,&lt;/p&gt;

&lt;p&gt;Siegfried Goeschl&lt;/p&gt;</comment>
                            <comment id="13184126" author="sgoeschl" created="Wed, 11 Jan 2012 15:26:12 +0000"  >&lt;p&gt;Seems to be a connectivity problem but without further information there is nothing I can do&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 4 Dec 2011 21:02:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219129</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tn4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-107] wrong content-type for embedded PNG images</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-107</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;when embedding a PNG image the content type is: Content-Type: application/octet-stream;&lt;br/&gt;
which makes some clients not show the image.&lt;/p&gt;

&lt;p&gt;by contrast, when embedding a GIF image the content type is correctly shown as: Content-Type: image/gif;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12519186">EMAIL-107</key>
            <summary>wrong content-type for embedded PNG images</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="dev-21solutions">Jay</reporter>
                        <labels>
                            <label>embed</label>
                            <label>images</label>
                            <label>png</label>
                    </labels>
                <created>Wed, 17 Aug 2011 21:15:50 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:40 +0000</updated>
                            <resolved>Tue, 6 Sep 2011 21:29:04 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13098354" author="mjakl" created="Tue, 6 Sep 2011 21:06:53 +0000"  >&lt;p&gt;Patch by&lt;br/&gt;
Claus Polanka&lt;br/&gt;
Michael Jakl&lt;/p&gt;</comment>
                            <comment id="13098361" author="mjakl" created="Tue, 6 Sep 2011 21:18:12 +0000"  >&lt;p&gt;Images for the test (src/test/images)&lt;/p&gt;</comment>
                            <comment id="13098566" author="dev-21solutions" created="Wed, 7 Sep 2011 03:03:14 +0000"  >&lt;p&gt;thanks guys &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13177772" author="dev-21solutions" created="Fri, 30 Dec 2011 21:36:35 +0000"  >&lt;p&gt;where can I download the jar file for version 1.3?  is it published?  I can only find the download for version 1.2&lt;/p&gt;

&lt;p&gt;thank you&lt;/p&gt;</comment>
                            <comment id="13183362" author="sgoeschl" created="Tue, 10 Jan 2012 16:34:27 +0000"  >&lt;p&gt;Hi Jay - the release candidate for 1.3 was rejected therefore we don&apos;t have an official release yet&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12493213" name="Added_PNG_mime_type,_fixes_#EMAIL-107_.patch" size="6385" author="mjakl" created="Tue, 6 Sep 2011 21:06:53 +0000"/>
                            <attachment id="12493216" name="images.zip" size="22626" author="mjakl" created="Tue, 6 Sep 2011 21:18:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Sep 2011 21:06:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56890</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tmq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170991</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-106] STARTTLS is only enabled if an authenticator is used</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-106</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The STARTTLS parameter is only set if an authenticator is used, whereas the two features are independent: it would also make sense to use STARTTLS without authentication, so as to protect eavesdropping of the e-mail content, for example.&lt;/p&gt;

&lt;p&gt;Here is a patch for &lt;tt&gt;src/java/org/apache/commons/mail/Email.java&lt;/tt&gt; (rev. 1088801):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@@ -481,9 +481,9 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Email &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; EmailConstants
             properties.setProperty(MAIL_HOST, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.hostName);
             properties.setProperty(MAIL_DEBUG, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.debug));
 
+            properties.setProperty(MAIL_TRANSPORT_TLS, tls ? &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;);
             &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.authenticator != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
             {
-                properties.setProperty(MAIL_TRANSPORT_TLS, tls ? &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;);
                 properties.setProperty(MAIL_SMTP_AUTH, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;);
             }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12514378">EMAIL-106</key>
            <summary>STARTTLS is only enabled if an authenticator is used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="brunoharbulot">Bruno Harbulot</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 Jul 2011 18:42:39 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:40 +0000</updated>
                            <resolved>Tue, 6 Sep 2011 20:40:08 +0000</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13066721" author="brunoharbulot" created="Sun, 17 Jul 2011 19:28:05 +0000"  >&lt;p&gt;There is a patch related to this issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-105&quot; title=&quot;Clarify names for SSL and TLS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-105&quot;&gt;&lt;del&gt;EMAIL-105&lt;/del&gt;&lt;/a&gt; too.&lt;/p&gt;</comment>
                            <comment id="13098335" author="sgoeschl" created="Tue, 6 Sep 2011 20:40:08 +0000"  >&lt;p&gt;Thanks to Albrecht G&#246;rge and the first Vienna Hackergarden&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Sep 2011 20:40:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tmrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170999</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-104] The system property &quot;mail.mime.charset&quot; is not applied to contents.</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-104</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Both of JavaMail and Commons Email encode subjects and personal names with the system property &quot;mail.mime.charset&quot; when no charsets are specified via methods. Also they encode attached filenames with the property when the other system property &quot;mail.mime.encodefilename&quot; is set (regardless of RFC). On the other hand, JavaMail encodes text contents with the property via setText methods when no charsets specified, but Commons Email doesn&apos;t encode the contents via setMsg/setTextMsg/setHtmlMsg methods. The partial difference of the behaviors makes confusion.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12506578">EMAIL-104</key>
            <summary>The system property &quot;mail.mime.charset&quot; is not applied to contents.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ikeda">Hiroshi Ikeda</reporter>
                        <labels>
                            <label>charset</label>
                    </labels>
                <created>Mon, 9 May 2011 09:49:38 +0000</created>
                <updated>Sat, 23 May 2015 07:02:35 +0000</updated>
                            <resolved>Thu, 2 Oct 2014 20:13:34 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13098383" author="sgoeschl" created="Tue, 6 Sep 2011 21:37:30 +0000"  >&lt;p&gt;I&apos;m not sure if I understand the problem correctly&lt;/p&gt;

&lt;p&gt;+) setTextMsg() and setHtmlMsg() take the plain string&lt;br/&gt;
+) that plain strings are afterwards encoded when the MimeMessage is built (HTMLEmail.build())&lt;/p&gt;

&lt;p&gt;Can you please clarify?&lt;/p&gt;</comment>
                            <comment id="13098387" author="sgoeschl" created="Tue, 6 Sep 2011 21:40:21 +0000"  >&lt;p&gt;Well - I need to read up on the Mail API ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13098546" author="ikeda" created="Wed, 7 Sep 2011 02:19:20 +0000"  >&lt;p&gt;I forget many things about several months ago, and I find my memo which says:&lt;br/&gt;
If you call MimeMessage/MimeBody.setContent directly, instead of setText, then the system property &quot;mail.mime.charset&quot; is not used. HtmlEmail and SimpleEmail in Commons Email call the setContent methods.&lt;/p&gt;</comment>
                            <comment id="13527491" author="tn" created="Sun, 9 Dec 2012 14:56:41 +0000"  >&lt;p&gt;Could you please attach a minimal test case illustrating the problem?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Thomas&lt;/p&gt;</comment>
                            <comment id="13795643" author="tn" created="Tue, 15 Oct 2013 21:14:57 +0000"  >&lt;p&gt;Fixed in r1532531 by using the appropriate setText() methods in case of text content.&lt;/p&gt;

&lt;p&gt;The corresponding unit tests can be further improved but there seems to be a bug in junit when using non-standard charsets.&lt;/p&gt;</comment>
                            <comment id="14107950" author="mikegratsas@techemail.com" created="Sat, 23 Aug 2014 09:36:50 +0000"  >&lt;p&gt;Trying to send E-mail messages from the Sharp IMG Viewer web site &lt;a href=&quot;http://sharpimg-viewer.appspot.com&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sharpimg-viewer.appspot.com&lt;/a&gt; powered by Google AppEngine using the latest Commons Email version 1.3.3 I found an issue. I called the method mail.setHtmlMsg(html); where mail is an instance of HtmlEmail class. However, the HTML body is interpreted as plain text now since the content type was changed from EmailConstants.TEXT_HTML to EmailConstants.TEXT_SUBTYPE_HTML in version 1.3.2.&lt;/p&gt;</comment>
                            <comment id="14157099" author="tn" created="Thu, 2 Oct 2014 20:13:34 +0000"  >&lt;p&gt;I can not reproduce the mentioned problem with HtmlEmails and only html content. The content type is correctly set to text/html.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Sep 2011 21:37:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56892</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ftnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-102] HtmlEmail embed toLowerCase bug</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-102</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;When I embed an image to my html email object, if randomAlphabetic (on this line HtmlEmail.java:325) method brought uppercase &apos;I&apos; character, at the this time toLowerCase method convert it to lowercase Turkish &apos;&#305;&apos; character. I think, toLowerCase brougt lowercase &apos;&#305;&apos; character when regional settings up to Turkish. In that case, this header variable expose to mime encoding process and set as like &quot;cid:=C4=B1glhuooecb&quot; (=C4=B1 is lowercase &apos;&#305;&apos; character) and the mail clients does not show this embedded image.&lt;/p&gt;

&lt;p&gt;Maybe, toLowerCase method use by passing English Locale parameters then this must work correctly like this &quot;toLowerCase(Locale.ENGLISH);&quot;.&lt;/p&gt;

&lt;p&gt;Best regards,&lt;/p&gt;

&lt;p&gt;Okan &#214;zeren.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, Solaris and Turkish Regional Environment&lt;/p&gt;</environment>
        <key id="12493173">EMAIL-102</key>
            <summary>HtmlEmail embed toLowerCase bug</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="okanozeren">Okan &#214;zeren</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Dec 2010 11:31:46 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:42 +0000</updated>
                            <resolved>Tue, 6 Sep 2011 20:40:46 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12972218" author="sgoeschl" created="Thu, 16 Dec 2010 21:42:16 +0000"  >&lt;p&gt;Have you tested &lt;/p&gt;

&lt;p&gt;String cid = EmailUtils.randomAlphabetic(HtmlEmail.CID_LENGTH).toLowerCase(Locale.ENGLISH);&lt;/p&gt;
</comment>
                            <comment id="12972229" author="sgoeschl" created="Thu, 16 Dec 2010 21:54:13 +0000"  >&lt;p&gt;Committed the proposed change in SVN - Okan, can you give it a try?!&lt;/p&gt;</comment>
                            <comment id="12972260" author="okanozeren" created="Thu, 16 Dec 2010 22:40:53 +0000"  >&lt;p&gt;I have already tried this solution numbers of times and working it in such a way that. Also, you can cause this state with you will used this function such as (But this is wrong and undesirable situation and my default Locale same as it and toLowerCase acting as per this default Locale setting):&lt;/p&gt;

&lt;p&gt;String cid = EmailUtils.randomAlphabetic(HtmlEmail.CID_LENGTH).toLowerCase(new Locale(&quot;tr_TR&quot;));&lt;/p&gt;

&lt;p&gt;At the same time, there are two times used this procedure (I mean toLowerCase code part) in the HtmlEmail.java file on the 325 and 454 lines, you should know.&lt;/p&gt;

&lt;p&gt;Thanks Siegfried.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Dec 2010 21:42:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tn27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171045</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-101] Specified Content-ID is not used when embedding a File object in an HtmlEmail</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-101</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;When calling the .embed(File file, String cid) method on HtmlEmail, the cid argument is never used within the method. &lt;/p&gt;

&lt;p&gt;Consequently, even when the user specifies a Content-ID for the embedded File, a new randomly generated Content-ID is generated every time. &lt;/p&gt;

&lt;p&gt;I believe this is as simple as changing the last line of .embed(File file, String cid) from: &lt;/p&gt;

&lt;p&gt;return embed(new FileDataSource(file), file.getName());&lt;/p&gt;

&lt;p&gt;To: &lt;/p&gt;

&lt;p&gt;return embed(new FileDataSource(file), file.getName(), cid);&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480268">EMAIL-101</key>
            <summary>Specified Content-ID is not used when embedding a File object in an HtmlEmail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="tekkie">Andrew Starodub</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Nov 2010 23:16:40 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:42 +0000</updated>
                            <resolved>Sun, 9 Dec 2012 12:01:35 +0000</resolved>
                                    <version>1.0</version>
                    <version>1.1</version>
                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12933229" author="tekkie" created="Wed, 17 Nov 2010 23:17:34 +0000"  >&lt;p&gt;Attaching patch file to correct return line in HtmlEmail.embed(File file, String cid)&lt;/p&gt;</comment>
                            <comment id="12933238" author="tekkie" created="Wed, 17 Nov 2010 23:36:02 +0000"  >&lt;p&gt;Attaching a patch that includes a regression test for making sure the returned CID is the same as the user-specified CID.&lt;/p&gt;</comment>
                            <comment id="12934761" author="sgoeschl" created="Tue, 23 Nov 2010 07:27:56 +0000"  >&lt;p&gt;Hi Andrew, thanks for the patch ...&lt;/p&gt;</comment>
                            <comment id="12972216" author="sgoeschl" created="Thu, 16 Dec 2010 21:36:57 +0000"  >&lt;p&gt;This innocent change breaks actually the EmailLiveTests ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ... reopening to investigate the problem &lt;/p&gt;</comment>
                            <comment id="13212960" author="sgoeschl" created="Tue, 21 Feb 2012 21:17:55 +0000"  >&lt;p&gt;Updated patch (hackergarden vienna)&lt;/p&gt;</comment>
                            <comment id="13494749" author="tn" created="Sat, 10 Nov 2012 19:16:03 +0000"  >&lt;p&gt;Added an updated patch for the broken inline images. The cid has to be encoded properly (see &lt;a href=&quot;http://tools.ietf.org/html/rfc2392&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://tools.ietf.org/html/rfc2392&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13527414" author="tn" created="Sun, 9 Dec 2012 12:01:35 +0000"  >&lt;p&gt;Resolved in r1418897:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;added a EmailUtils.encodeUrl method (based on commons-codec)&lt;br/&gt;
   to url encode an input string according to rfc 2392&lt;/li&gt;
	&lt;li&gt;use the provided cid instead of generating a random one&lt;/li&gt;
	&lt;li&gt;update unit-tests &amp;amp; javadoc, as the returned cid will be url encoded&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12515487" name="EMAIL-101.patch" size="3863" author="sgoeschl" created="Tue, 21 Feb 2012 21:17:55 +0000"/>
                            <attachment id="12552990" name="EMAIL-101_encoding.patch" size="1535" author="tn" created="Sat, 10 Nov 2012 19:16:03 +0000"/>
                            <attachment id="12459843" name="HtmlEmail.patch" size="153" author="tekkie" created="Wed, 17 Nov 2010 23:17:34 +0000"/>
                            <attachment id="12459847" name="HtmlEmailTest.patch" size="1148" author="tekkie" created="Wed, 17 Nov 2010 23:36:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Nov 2010 07:27:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ftnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-96] Email.getMailSession() is a mess</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-96</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Email.getMailSession() is a mess&lt;/p&gt;

&lt;p&gt;This bug initially was going to address only the excessive permissions required by Email.getMailSession().  My examination of how this might best be remedied led me to the revelation that the problems with this method, and their effects on the entire class are quite extraordinary.  (To be fair, some of the blame should be placed squarely upon other members of this class.)&lt;/p&gt;

&lt;p&gt;Excess permission requirements&lt;br/&gt;
--------------------------------------------&lt;/p&gt;

&lt;p&gt;The Email.getMailSession() method, when running under a SecurityManager, requires permission to be granted to read and write ALL properties (java.util.PropertyPermission * read, write).  This, despite the fact that only a handful of properties are applicable to sending mail.&lt;/p&gt;

&lt;p&gt;The permission requirement stems from the following line:&lt;/p&gt;

&lt;p&gt;        Properties properties = new Properties(System.getProperties());&lt;/p&gt;

&lt;p&gt;As far as I can tell, Commons-Email reads only &quot;mail.smtp.from&quot; and &quot;mail.smtp.host&quot; from the system properties for use as default values.  Commons-Email does not appear to write any system properties.&lt;/p&gt;

&lt;p&gt;Therefore, something along these lines would greatly reduce the permissions required to send mail using Commons-Email:&lt;/p&gt;

&lt;p&gt;        Properties properties = new Properties();&lt;br/&gt;
        properties.setProperty(MAIL_SMTP_FROM, System.getProperty(MAIL_SMTP_FROM));&lt;br/&gt;
        properties.setProperty(MAIL_HOST, System.getProperty(MAIL_HOST));&lt;/p&gt;

&lt;p&gt;On top of all of this, getMailSession() does not use AccessController.doPrivileged() to isolate the code requiring the permission grants.&lt;/p&gt;

&lt;p&gt;My thought was to submit a patch refactoring the class, adding a createDefaultProperties() method to do all of this.&lt;/p&gt;

&lt;p&gt;But then...&lt;br/&gt;
--------------&lt;/p&gt;

&lt;p&gt;During my examination of the code, I noticed that getMailSession() is documented with the following JavaDoc comment:&lt;/p&gt;

&lt;p&gt;        Initialise a mailsession object&lt;/p&gt;

&lt;p&gt;That would be an appropriate description for an initMailSession() method.  For getMailSession(), I would have expected something more along the lines of:&lt;/p&gt;

&lt;p&gt;   Determines the Session used when sending this Email, creating the Session if necessary.&lt;/p&gt;

&lt;p&gt;(I would also refactor the class such that getMailSession() delegates creation and initialization of a mail Session to a createMailSession() method.)&lt;/p&gt;

&lt;p&gt;However, buildMimeMessage() &lt;b&gt;does&lt;/b&gt; treat getMailSession() as though it is initMailSession(), e.g.:&lt;/p&gt;

&lt;p&gt;        this.getMailSession();&lt;br/&gt;
        this.message = this.createMimeMessage(this.session);&lt;/p&gt;

&lt;p&gt;One might have expected a simple createMimeMessage(getMailSession()), rather than using getMailSession() for its side effect and then accessing the data member directly.  A bit confusing, but it got me thinking.&lt;/p&gt;

&lt;p&gt;Suppose I do something like this:&lt;/p&gt;

&lt;p&gt;        System.getProperties().setProperty(&quot;mail.smtp.host&quot;, &quot;smtp.example.com&quot;);&lt;br/&gt;
        Email email =new SimpleEmail();&lt;br/&gt;
        email.getMailSession();&lt;br/&gt;
        email.setHostName(&quot;mail.example.com&quot;);&lt;br/&gt;
        email.setSmtpPort(26);&lt;br/&gt;
        email.setSsl(true);&lt;br/&gt;
        email.addTo(&quot;someone@example.com&quot;, &quot;Someone&quot;);&lt;br/&gt;
        email.setFrom(&quot;me@example.com&quot;, &quot;Me&quot;);&lt;br/&gt;
        email.setSubject(&quot;Test&quot;);&lt;br/&gt;
        email.setMsg(&quot;This is a test.&quot;);&lt;br/&gt;
        email.send();&lt;/p&gt;

&lt;p&gt;Q. What SMTP server is contacted to relay the mail?&lt;br/&gt;
A. smtp.example.com&lt;/p&gt;

&lt;p&gt;Q. On what port is the SMTP server contacted?&lt;br/&gt;
A. 25&lt;/p&gt;

&lt;p&gt;Q. Is SSL used when communicating with the SMTP server?&lt;br/&gt;
A. No.&lt;/p&gt;

&lt;p&gt;Q. What mail host and port will be reported in any error message?&lt;br/&gt;
A. mail.example.com: 26&lt;/p&gt;

&lt;p&gt;The problems here are:&lt;br/&gt;
 a) The call to getMailSession() initializes the Session used by Email&lt;br/&gt;
 b) subsequent setXxxx() calls don&apos;t write through to the already-initialized Session&lt;br/&gt;
 c) any EmailException thrown by sendMimeMessage() uses values obtained from the getter methods, which prefer local data members rather than Session properties&lt;/p&gt;

&lt;p&gt;I suppose one could argue that getMailSession(), despite its misleading name, clearly states that it initializes the Session, thereby sealing the attributes despite subsequent setXxxx() calls.  In that case the JavaDoc comments should clearly note this.  That would leave Commons Email with a confusing and stinky API.  Problem &apos;c&apos; listed above would still need to be addressed.&lt;/p&gt;

&lt;p&gt;How truly fixable this class is without breaking the API is probably dependent upon whether javax.mail.Session accepts changes written to the Properties object returned by its getProperties() method.  The JavaMail API does not seem to specify that behavior.&lt;/p&gt;

&lt;p&gt;I will cheerfully accept any corrections, major or minor.  I imagine anyone reading this has spent far more time with the code involved than I have.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12468003">EMAIL-96</key>
            <summary>Email.getMailSession() is a mess</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="nc">NC</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Jun 2010 02:04:25 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:41 +0000</updated>
                            <resolved>Sun, 31 Oct 2010 16:24:43 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12893824" author="sgoeschl" created="Thu, 29 Jul 2010 21:10:07 +0000"  >&lt;p&gt;Well, the confusing and stinky API has hopefully some value ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;+) the assumption that javax.mail.session will honor those changes is risky &lt;br/&gt;
+) I will have a look at the remaining points in two weeks time&lt;/p&gt;</comment>
                            <comment id="12924727" author="sgoeschl" created="Mon, 25 Oct 2010 21:24:48 +0000"  >&lt;p&gt;It took more than two weeks but some points you mentioned are rather difficult&lt;/p&gt;

&lt;p&gt;+) The underlying JavaMail use more than the to system properties but the relevant properies are prefixed with &quot;mail&quot; - not sure if that helps your security manager problem - we are talking about thirty different properties and different mail providers might add their own.&lt;/p&gt;

&lt;p&gt;+) can you help with AccessController.doPrivileged()?!  I have no experience with that and also no way to test it&lt;/p&gt;

&lt;p&gt;+) I updated the javadoc of getMailSession()&lt;/p&gt;

&lt;p&gt;+) change MimeMessage creation to &quot;this.createMimeMessage(this.getMailSession())&quot;&lt;/p&gt;</comment>
                            <comment id="12926731" author="sgoeschl" created="Sun, 31 Oct 2010 16:23:56 +0000"  >&lt;p&gt;Throwing an IllegalStateException when the user tries to modify mai session settings when the mail session is already supplied or created. This might break invalid but existing code.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Jul 2010 21:10:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56895</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tmmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-95] content duplicated with UTF8 encoding</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-95</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I tooked original sample code and it worked fine. So I modified the text, set the encoding and ran it again - but the received email had each mime part twice.&lt;/p&gt;

&lt;p&gt;        HtmlEmail email = new HtmlEmail();&lt;br/&gt;
        email.setHostName(&quot;smtp&quot;);&lt;br/&gt;
        email.addTo(&quot;leos.literak@aaa&quot;, &quot;Leos&quot;);&lt;br/&gt;
        email.setFrom(&quot;leos.literak@aaa&quot;, &quot;Me&quot;);&lt;br/&gt;
        email.setSubject(&quot;Test email with inline image&quot;);&lt;br/&gt;
        URL url = new URL(&quot;http://www.abclinuxu.cz/images/clanky/watzke/unixove-nastroje-logo.png&quot;);&lt;br/&gt;
        String cid = email.embed(url, &quot;Apache logo&quot;);&lt;br/&gt;
        email.setCharset(&quot;UTF-8&quot;);&lt;br/&gt;
        email.setHtmlMsg(&quot;&amp;lt;html&amp;gt;&#382;lu&#357;ou&#269;k&#253; k&#367;&#328; - &amp;lt;img src=\&quot;cid:&quot; + cid + &quot;\&quot;&amp;gt;&amp;lt;/html&amp;gt;&quot;);&lt;br/&gt;
        email.setTextMsg(&quot;&#382;lu&#357;ou&#269;k&#253; k&#367;&#328;&quot;);&lt;/p&gt;

&lt;p&gt;Subject: Test email with inline image&lt;br/&gt;
MIME-Version: 1.0&lt;br/&gt;
Content-Type: multipart/mixed; &lt;br/&gt;
	boundary=&quot;----=_Part_0_17764792.1265348415830&quot;&lt;/p&gt;

&lt;p&gt;------=_Part_0_17764792.1265348415830&lt;br/&gt;
Content-Type: multipart/related; &lt;br/&gt;
	boundary=&quot;----=_Part_3_12227392.1265348415896&quot;&lt;/p&gt;

&lt;p&gt;------=_Part_3_12227392.1265348415896&lt;br/&gt;
Content-Type: multipart/alternative; &lt;br/&gt;
	boundary=&quot;----=_Part_4_18450577.1265348415896&quot;&lt;/p&gt;

&lt;p&gt;------=_Part_4_18450577.1265348415896&lt;br/&gt;
Content-Type: text/plain; charset=UTF-8&lt;br/&gt;
Content-Transfer-Encoding: base64&lt;/p&gt;

&lt;p&gt;xb5sdcWlb3XEjWvDvSBrxa/FiA==&lt;br/&gt;
------=_Part_4_18450577.1265348415896&lt;br/&gt;
Content-Type: text/html; charset=UTF-8&lt;br/&gt;
Content-Transfer-Encoding: quoted-printable&lt;/p&gt;

&lt;p&gt;&amp;lt;html&amp;gt;=C5=BElu=C5=A5ou=C4=8Dk=C3=BD k=C5=AF=C5=88 - &amp;lt;img src=3D&quot;cid:wddstqa=&lt;br/&gt;
bqx&quot;&amp;gt;&amp;lt;/html&amp;gt;&lt;br/&gt;
-----&lt;del&gt;=_Part_4_18450577.1265348415896&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;------=_Part_3_12227392.1265348415896&lt;br/&gt;
Content-Type: image/png; name=&quot;Apache logo&quot;&lt;br/&gt;
Content-Transfer-Encoding: base64&lt;br/&gt;
Content-Disposition: inline; filename=&quot;Apache logo&quot;&lt;br/&gt;
Content-ID: &amp;lt;wddstqabqx&amp;gt;&lt;/p&gt;

&lt;p&gt;iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz&lt;br/&gt;
AAAG7AAABuwBHnU4NQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAe7SURB&lt;br/&gt;
8csx12N60dP8NOIs8p6J+bS/hDjnMVyHWFVhAsgxj4I6fgsgJjch1pP2qVyhvxtMe1awQGUXwf/L&lt;br/&gt;
0ain9RibfyUJgOMcYg75ZgtQ0l8EKhtc5pkF8NJCFPF/AbzM8B8Xxxza+PCJaQAAAABJRU5ErkJg&lt;br/&gt;
gg==&lt;br/&gt;
-----&lt;del&gt;=_Part_3_12227392.1265348415896&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;------=_Part_0_17764792.1265348415830&lt;br/&gt;
Content-Type: multipart/related; &lt;br/&gt;
	boundary=&quot;----=_Part_1_16675983.1265348415831&quot;&lt;/p&gt;

&lt;p&gt;------=_Part_1_16675983.1265348415831&lt;br/&gt;
Content-Type: multipart/alternative; &lt;br/&gt;
	boundary=&quot;----=_Part_2_26644003.1265348415831&quot;&lt;/p&gt;

&lt;p&gt;------=_Part_2_26644003.1265348415831&lt;br/&gt;
Content-Type: text/plain; charset=UTF-8&lt;br/&gt;
Content-Transfer-Encoding: base64&lt;/p&gt;

&lt;p&gt;xb5sdcWlb3XEjWvDvSBrxa/FiA==&lt;br/&gt;
------=_Part_2_26644003.1265348415831&lt;br/&gt;
Content-Type: text/html; charset=UTF-8&lt;br/&gt;
Content-Transfer-Encoding: quoted-printable&lt;/p&gt;

&lt;p&gt;&amp;lt;html&amp;gt;=C5=BElu=C5=A5ou=C4=8Dk=C3=BD k=C5=AF=C5=88 - &amp;lt;img src=3D&quot;cid:wddstqa=&lt;br/&gt;
bqx&quot;&amp;gt;&amp;lt;/html&amp;gt;&lt;br/&gt;
-----&lt;del&gt;=_Part_2_26644003.1265348415831&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;------=_Part_1_16675983.1265348415831&lt;br/&gt;
Content-Type: image/png; name=&quot;Apache logo&quot;&lt;br/&gt;
Content-Transfer-Encoding: base64&lt;br/&gt;
Content-Disposition: inline; filename=&quot;Apache logo&quot;&lt;br/&gt;
Content-ID: &amp;lt;wddstqabqx&amp;gt;&lt;/p&gt;

&lt;p&gt;iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz&lt;br/&gt;
AAAG7AAABuwBHnU4NQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAe7SURB&lt;br/&gt;
0ain9RibfyUJgOMcYg75ZgtQ0l8EKhtc5pkF8NJCFPF/AbzM8B8Xxxza+PCJaQAAAABJRU5ErkJg&lt;br/&gt;
gg==&lt;br/&gt;
-----&lt;del&gt;=_Part_1_16675983.1265348415831&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;-----&lt;del&gt;=_Part_0_17764792.1265348415830&lt;/del&gt;-&lt;/p&gt;


&lt;p&gt;This is a blocker for me. I would be gratefull, if you could fix it today, otherwise I will have to abandon this library and implement its functionality myself. Thanks in advance.&lt;/p&gt;</description>
                <environment>&lt;p&gt;linux&lt;/p&gt;</environment>
        <key id="12455385">EMAIL-95</key>
            <summary>content duplicated with UTF8 encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="literakl">Leos Literak</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Feb 2010 05:50:11 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:43 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:29:05 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12829971" author="literakl" created="Fri, 5 Feb 2010 06:12:53 +0000"  >&lt;p&gt;Hmm, my fault probably. I was planning to export MimeMessage and work with it, so I tried to run buildMessage:&lt;/p&gt;

&lt;p&gt;        email.buildMimeMessage();&lt;br/&gt;
        MimeMessage message = email.getMimeMessage();&lt;br/&gt;
        // send the email&lt;br/&gt;
        String id = email.send();&lt;/p&gt;

&lt;p&gt;when I commented this line, email arrived correctly. Could you add some checks there to avoid this situation?&lt;/p&gt;</comment>
                            <comment id="12850523" author="sgoeschl" created="Sat, 27 Mar 2010 14:52:25 +0000"  >&lt;p&gt;Yes, a good idea - I have a look&lt;/p&gt;</comment>
                            <comment id="12867236" author="sgoeschl" created="Thu, 13 May 2010 20:14:06 +0000"  >&lt;p&gt;Throwing an IllegalStateException when buildMimeMessage() is invoked more than once. Having said that I&apos;m enforcing that an email can&apos;t be reused which could cause problems under rare circumstances.&lt;/p&gt;</comment>
                            <comment id="12924255" author="sgoeschl" created="Sat, 23 Oct 2010 22:28:42 +0000"  >&lt;p&gt;Reopening the issue because the correct state would be &quot;resolved&quot; and not &quot;closed&quot;&lt;/p&gt;</comment>
                            <comment id="12924256" author="sgoeschl" created="Sat, 23 Oct 2010 22:29:05 +0000"  >&lt;p&gt;Now it is in the state &quot;resolved&quot;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Mar 2010 14:52:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56896</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tmon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-94] how to remove mode rewrite module in apache server.</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-94</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;how to remove mode rewrite module in apache server.for more information &amp;lt;a href=&quot;http://www.techdwell.blogspot.com&quot;&amp;gt;Visit Techies Dwell&amp;lt;/a&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446888">EMAIL-94</key>
            <summary>how to remove mode rewrite module in apache server.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aravindbabi">aravindbabi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jan 2010 09:28:54 +0000</created>
                <updated>Sat, 6 Mar 2010 17:34:04 +0000</updated>
                            <resolved>Sat, 6 Mar 2010 17:34:04 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56897</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vnaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-93] A dot (&quot;.&quot;) is appended to some ULRs in the body of an Html type email. </title>
                <link>https://issues.apache.org/jira/browse/EMAIL-93</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I&apos;m using Apache Commons Email 1.2. I create an email using the class &quot;HtmlEmail&quot;. I have tried this both using charsets &quot;ISO_8859_1&quot; and &quot;us-ascii&quot;. &lt;br/&gt;
The body of the message I assign to the email includes the URL &quot;http://paradisedelivery.homeip.net/delivery/?file=TZC268X93337.zip&quot;. But when the email is sent, a dot is automatically inserted before the &quot;.zip&quot; part, so the final url is &quot;http://paradisedelivery.homeip.net/delivery/?file=TZC268X93337..zip&quot; (two dots before &quot;zip&quot;) which doesn&apos;t work obiously. The component is inserting this extra dot, I&apos;m sure of that.&lt;/p&gt;

&lt;p&gt;I think the sequence of characters in the URL makes the component fail. Some URLs are being respected, but this one is not.&lt;/p&gt;

&lt;p&gt;This is what the debug output shows in the last part, there you can see the double dots:&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------------------------------------------------------------&lt;br/&gt;
	Dan Dykes &amp;lt;asbbprefix-maasail@yahoo.com&amp;gt;&lt;br/&gt;
Subject: ManualsParadise.com Order # TZC268 download procedure&lt;br/&gt;
MIME-Version: 1.0&lt;br/&gt;
Content-Type: multipart/mixed; &lt;br/&gt;
	boundary=&quot;----=_Part_1_15190886.1263855298918&quot;&lt;/p&gt;

&lt;p&gt;------=_Part_1_15190886.1263855298918&lt;br/&gt;
Content-Type: text/html; charset=ISO-8859-1&lt;br/&gt;
Content-Transfer-Encoding: quoted-printable&lt;/p&gt;

&lt;p&gt;Dear Dan Dykes,&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;We have already sent you this email before, and on t=&lt;br/&gt;
ime. However, according to a recent email that you have sent us, it seems t=&lt;br/&gt;
hat you never received it.&lt;/p&gt;

&lt;p&gt;In order to download your order please click on the following link:&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;=&lt;br/&gt;
&amp;lt;a href=3D&quot;http://paradisedelivery.homeip.net/delivery/?file=3DTZC268X93337=&lt;br/&gt;
..zip&quot;&amp;gt;&lt;a href=&quot;http://paradisedelivery.homeip.net/delivery/?file=3DTZC268X93337.zip&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://paradisedelivery.homeip.net/delivery/?file=3DTZC268X93337.zip&lt;/a&gt;&amp;lt;=&lt;br/&gt;
/a&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;Customer satisfaction is very important for us. If for any reaso=&lt;br/&gt;
n you don&apos;t feel satisfied with your order, don&apos;t hesitate to contact us. I=&lt;br/&gt;
n order to do it, please &amp;lt;a href=3D&quot;http://www.ManualsParadise.com/Customer=&lt;br/&gt;
Support.do?issue=3D6&amp;amp;order=3DTZC268&quot;&amp;gt;click here&amp;lt;/a&amp;gt; rather than sending us =&lt;br/&gt;
an email. Doing so, you will significantly expedite the reception and proce=&lt;br/&gt;
ssing of your claim.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;In the other hand, if you are happy with our se=&lt;br/&gt;
rvice, could you please &amp;lt;a href=3D&quot;http://www.ManualsParadise.com/DisplayAd=&lt;br/&gt;
dTestimonial.do?clientID=3D93337&amp;amp;clientRandom=3D3595&quot;&amp;gt;leave a testimonial&amp;lt;/=&lt;br/&gt;
a&amp;gt;?&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;Please note that you may receive more than one copy of this emai=&lt;br/&gt;
l, specially if you provided us with more than one email address in your re=&lt;br/&gt;
gistration. If you do, it doesn&apos;t mean you where charged more than once.&amp;lt;br=&lt;br/&gt;
&amp;gt;&amp;lt;br&amp;gt;Thanks for your purchase!&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;Anthony Concha&amp;lt;br&amp;gt;Sales &amp;amp; Customer Se=&lt;br/&gt;
rvice&amp;lt;br&amp;gt;anthony@ManualsParadise.com&amp;lt;br&amp;gt;&amp;lt;a href=3D&quot;http://www.ManualsParadi=&lt;br/&gt;
se.com&quot;&amp;gt;&lt;a href=&quot;http://www.ManualsParadise.com&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.ManualsParadise.com&lt;/a&gt;&amp;lt;/a&amp;gt;&amp;lt;br&amp;gt;We speak English and Spanish&lt;br/&gt;
-----&lt;del&gt;=_Part_1_15190886.1263855298918&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;.&lt;br/&gt;
250 OK , completed&lt;br/&gt;
QUIT&lt;br/&gt;
---------------------------------------------------------------------------------------------------------------------&lt;/p&gt;</description>
                <environment>&lt;p&gt;jre1.6.0_06, Windows (maybe also Linux)&lt;/p&gt;</environment>
        <key id="12445875">EMAIL-93</key>
            <summary>A dot (&quot;.&quot;) is appended to some ULRs in the body of an Html type email. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="brianbraun">Brian Braun</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jan 2010 23:32:13 +0000</created>
                <updated>Fri, 14 May 2010 05:30:34 +0000</updated>
                            <resolved>Thu, 13 May 2010 20:24:57 +0000</resolved>
                                    <version>1.1</version>
                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12850522" author="sgoeschl" created="Sat, 27 Mar 2010 14:50:00 +0000"  >&lt;p&gt;Hi Brian,&lt;/p&gt;

&lt;p&gt;I had a look at the issue by adding a new test case to HtmlEmailTest (&quot;testAddZipUrl&quot;)  but I&apos;m unable to reproduce the problem. Can you have a look the latest code if I missed something obvious in reproducing the problem?&lt;/p&gt;</comment>
                            <comment id="12867158" author="sgoeschl" created="Thu, 13 May 2010 15:45:16 +0000"  >&lt;p&gt;Hi Brian,&lt;/p&gt;

&lt;p&gt;any feedback regarding this open issue ?!&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Siegfried Goeschl&lt;/p&gt;</comment>
                            <comment id="12867240" author="sgoeschl" created="Thu, 13 May 2010 20:24:57 +0000"  >&lt;p&gt;Added a test case (HtmlEmailTest#testAddZipUrl) but I&apos;m unable to reproduce the problem&lt;/p&gt;</comment>
                            <comment id="12867243" author="brianbraun" created="Thu, 13 May 2010 20:32:10 +0000"  >&lt;p&gt;Hi Siegfried,&lt;/p&gt;

&lt;p&gt;Thanks for the follow up. I have been busy, sorry for not responding you. I will get back now to this issue and hopefully we will be able to solve it.&lt;br/&gt;
Thanks again!&lt;/p&gt;

&lt;p&gt;Brian&lt;/p&gt;</comment>
                            <comment id="12867293" author="brianbraun" created="Thu, 13 May 2010 22:38:36 +0000"  >&lt;p&gt;Hi Sigfried,&lt;/p&gt;

&lt;p&gt;I SWEAR the bug was occuring! But now that I got back to the issue, it is working perfectly. Weird, very weird.&lt;br/&gt;
Shall the bug appear again, I will reopen the case. But for now (and maybe forever), I have closed the case now.&lt;/p&gt;

&lt;p&gt;THANKS A LOT for the time you spent.&lt;/p&gt;

&lt;p&gt;Brian&lt;/p&gt;
</comment>
                            <comment id="12867404" author="sgoeschl" created="Fri, 14 May 2010 05:30:34 +0000"  >&lt;p&gt;Hi Brian,&lt;/p&gt;

&lt;p&gt;your response is much appreciated ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Siegfried Goeschl&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Mar 2010 14:50:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vnif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-91] Incorrect SMTP Port number shown in error message when an email fails to send due to a blocked port and SSL is used.</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-91</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;An incorrect error message is being returned from the email class when a message fails to send due to a blocked port and SSL is specified.  Specificaly, the port number in the error message is incorrect; it will show the stmp port that is set on the object (normally 25), when it should be showing the port that was set in the session when the session was created &lt;span class=&quot;error&quot;&gt;&amp;#91;465 when SSL is used&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;This issue is only visible to the user if the email fails to send because the SSL port is blocked.&lt;/p&gt;

&lt;p&gt;The following code reproduces the issue:&lt;br/&gt;
	public void testErrorMessage(){&lt;br/&gt;
		HtmlEmail email = new HtmlEmail();&lt;br/&gt;
		try &lt;/p&gt;
{
			email.addTo(&quot;abc@d.com&quot;);
			email.setSubject(&quot;Testing Apache Error message &quot;);
			email.setFrom(&quot;abc@d.com&quot;);
			email.setMsg(&quot;Sending through gmail&quot;);
			email.setSSL(true);
			email.setHostName(&quot;anyhost.com&quot;);
			email.send();
		}
&lt;p&gt; catch (EmailException e) &lt;/p&gt;
{
			e.printStackTrace();
		}
&lt;p&gt;	}&lt;/p&gt;

&lt;p&gt;If port 465 is blocked, then you wil ge the following stacktrace:&lt;/p&gt;

&lt;p&gt;org.apache.commons.mail.EmailException: Sending the email to the following server failed : anyhost.com:25&lt;br/&gt;
	at org.apache.commons.mail.Email.sendMimeMessage(Email.java:1138)&lt;br/&gt;
	at org.apache.commons.mail.Email.send(Email.java:1163)&lt;br/&gt;
	at EmailTester.testErrorMessage(EmailTester.java:27)&lt;br/&gt;
	at EmailTester.main(EmailTester.java:14)&lt;br/&gt;
Caused by: javax.mail.MessagingException: Could not connect to SMTP host: anyhost.com, port: 465;&lt;br/&gt;
  nested exception is:&lt;br/&gt;
	java.net.ConnectException: Connection refused: connect&lt;br/&gt;
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)&lt;br/&gt;
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)&lt;br/&gt;
	at javax.mail.Service.connect(Service.java:288)&lt;br/&gt;
                      ...&lt;/p&gt;

&lt;p&gt;Note that the port is listed correctly in the inner exception, but it is incorrect in the topmost exception.&lt;/p&gt;

&lt;p&gt;I have fixed this issue in my sandbox, and will attach the patch to this issue.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, JRE 1.6.0_16, JavaMail 1.4.1, Commons Email 1.2 &lt;span class=&quot;error&quot;&gt;&amp;#91;latest from svn&amp;#93;&lt;/span&gt;, jaf 1.1.1&lt;/p&gt;</environment>
        <key id="12440113">EMAIL-91</key>
            <summary>Incorrect SMTP Port number shown in error message when an email fails to send due to a blocked port and SSL is used.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="kevin_lester">Kevin Lester</reporter>
                        <labels>
                    </labels>
                <created>Sun, 8 Nov 2009 00:59:20 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:40 +0000</updated>
                            <resolved>Thu, 13 May 2010 17:14:49 +0000</resolved>
                                    <version>1.0</version>
                    <version>1.1</version>
                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="12774699" author="kevin_lester" created="Sun, 8 Nov 2009 01:07:00 +0000"  >&lt;p&gt;This patch addresses this issue by modifying the getSmtpPort, getSslSmtpPort, and getHostName methods.  These methods currently look in the Email object&apos;s instance variables to get the port, ssl port, and hostname values.  If the values are not set in the instance variables, then it looks for them in the session.&lt;/p&gt;

&lt;p&gt;I have modified these methods to do the lookup in the reverse order: first they look in the session, then they look in the instance variables.  So these methods should now return the exact values that were used when the email tried to send.&lt;/p&gt;

&lt;p&gt;This patch was taken against the latest code, and all unit tests pass.&lt;/p&gt;</comment>
                            <comment id="12867180" author="sgoeschl" created="Thu, 13 May 2010 17:06:58 +0000"  >&lt;p&gt;Corrected patch (issue-91a_patch.txt)&lt;/p&gt;</comment>
                            <comment id="12867183" author="sgoeschl" created="Thu, 13 May 2010 17:14:49 +0000"  >&lt;p&gt;Applied the corrected patch and made local tests&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12624665">EMAIL-123</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12424277" name="issue-91_patch.txt" size="1962" author="kevin_lester" created="Sun, 8 Nov 2009 01:07:00 +0000"/>
                            <attachment id="12444407" name="issue-91a_patch.txt" size="2777" author="sgoeschl" created="Thu, 13 May 2010 17:06:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 May 2010 17:06:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56899</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tmzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-90] Email not working intermittently</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-90</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;We have an email message sent in HTMLMessage format.&lt;/p&gt;

&lt;p&gt;Sample code is given below:&lt;br/&gt;
*******************************&lt;/p&gt;

&lt;p&gt;	public static void sendEmail(String emailTo,String emailFrom, String emailCC, String hostName, int smptPort, String msg, String subject){&lt;br/&gt;
		log.info(Constants.ENTER);&lt;/p&gt;

&lt;p&gt;		// Create the email message&lt;br/&gt;
		HtmlEmail email = new HtmlEmail();&lt;br/&gt;
		email.setHostName(hostName);&lt;br/&gt;
		email.setSmtpPort(smptPort);&lt;/p&gt;


&lt;p&gt;		try {&lt;br/&gt;
			email.setDebug(true);&lt;br/&gt;
			String[] stArr = emailTo.split(&quot;,&quot;);&lt;br/&gt;
			for(int i=0; i&amp;lt; stArr.length; i++)&lt;/p&gt;
{
				log.info(&quot;stArr : &quot; + stArr[i]);
				email.addTo(stArr[i]);
			}
&lt;p&gt;			// email.addTo(emailTo, &quot;&quot;);&lt;br/&gt;
			email.addCc(emailCC);&lt;br/&gt;
			email.setFrom(emailFrom, &quot;&quot;);&lt;br/&gt;
			// email.setMsg(msg);&lt;br/&gt;
			email.setSubject(subject);&lt;br/&gt;
			email.setHtmlMsg(msg);&lt;br/&gt;
			email.send();&lt;br/&gt;
		} catch (EmailException e1) &lt;/p&gt;
{
//			log.error(e1);
			log.debug(e1);
		}
&lt;p&gt;		&lt;br/&gt;
		log.info(Constants.EXIT);&lt;br/&gt;
	}&lt;/p&gt;


&lt;p&gt;While sending email from Websphere 6.1, it is not working intermittently.&lt;/p&gt;

&lt;p&gt;I&apos;ve provided the log here while it is not working (our email hub server doesn&apos;t need any authentication, so authentication is not set within the process)&lt;br/&gt;
******************************************************************************************************************************************************************&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:534 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: JavaMail version 1.3.1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:534 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: java.io.FileNotFoundException: /opt/ibm/WebSphere/ESB/java/jre/lib/javamail.providers (No such file or directory)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:534 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: !anyLoaded&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:534 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: not loading resource: /META-INF/javamail.providers&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:535 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: successfully loaded resource: /META-INF/javamail.default.providers&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:535 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: Tables of loaded providers&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:564 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: Providers Listed By Class Name: &lt;/p&gt;
{com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Sun Microsystems, Inc], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc]}&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:564 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: Providers Listed By Protocol: {imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Sun Microsystems, Inc], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]}&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:564 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:565 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: !anyLoaded&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:565 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: not loading resource: /META-INF/javamail.address.map&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:565 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: java.io.FileNotFoundException: /opt/ibm/WebSphere/ESB/java/jre/lib/javamail.address.map (No such file or directory)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:575 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG: getProvider() returning javax.mail.Provider&lt;span class=&quot;error&quot;&gt;&amp;#91;TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/20/09 23:00:15:583 BST&amp;#93;&lt;/span&gt; 000004d6 SystemOut     O DEBUG SMTP: useEhlo true, useAuth true&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
I&apos;ve provided the log here while it is working fine&lt;br/&gt;
***************************************************&lt;br/&gt;
&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:841 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: JavaMail version 1.3.1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:841 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: java.io.FileNotFoundException: /opt/ibm/WebSphere/ESB/java/jre/lib/javamail.providers (No such file or directory)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:842 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: !anyLoaded&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:842 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: not loading resource: /META-INF/javamail.providers&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:843 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: successfully loaded resource: /META-INF/javamail.default.providers&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:843 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: Tables of loaded providers&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:843 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Sun Microsystems, Inc], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc]}
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:843 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: Providers Listed By Protocol: &lt;/p&gt;
{imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Sun Microsystems, Inc], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]}
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:843 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:844 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: !anyLoaded&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:844 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: not loading resource: /META-INF/javamail.address.map&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:844 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: java.io.FileNotFoundException: /opt/ibm/WebSphere/ESB/java/jre/lib/javamail.address.map (No such file or directory)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:852 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG: getProvider() returning javax.mail.Provider&lt;span class=&quot;error&quot;&gt;&amp;#91;TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:852 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG SMTP: useEhlo true, useAuth false&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:852 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG SMTP: trying to connect to host &quot;mailhub.tgb.toyota.co.uk&quot;, port 25&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:991 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O 220 mailgate1 ESMTP - Unauthorised use is forbidden&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:991 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O DEBUG SMTP: connected to host &quot;mailgate1&quot;, port: 25&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:02:991 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O EHLO wasserver1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10/21/09 15:32:03:032 BST&amp;#93;&lt;/span&gt; 00000046 SystemOut     O 250-mailgate1 Hello wasserver1 &lt;span class=&quot;error&quot;&gt;&amp;#91;112.11.11.111&amp;#93;&lt;/span&gt;, pleased to meet you&lt;br/&gt;
250-ENHANCEDSTATUSCODES&lt;br/&gt;
250-PIPELINING&lt;br/&gt;
250-8BITMIME&lt;br/&gt;
250-SIZE&lt;br/&gt;
250-DSN&lt;br/&gt;
250-DELIVERBY&lt;br/&gt;
250 HELP&lt;/p&gt;

&lt;p&gt;Can you please let me know what needs to be done to avoid this problem, every time whenever we had this issue, we restart the server, then it start working fine.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Kumar&lt;/p&gt;</description>
                <environment>&lt;p&gt;Websphere Enterprise Service Bus 6.1 (having WAS 6.1.15) on Windows &amp;amp; Redhat Linux OS&lt;/p&gt;</environment>
        <key id="12438718">EMAIL-90</key>
            <summary>Email not working intermittently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="kankumar">Kumar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Oct 2009 15:56:34 +0000</created>
                <updated>Thu, 13 May 2010 15:40:56 +0000</updated>
                            <resolved>Thu, 13 May 2010 15:40:56 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12850486" author="sgoeschl" created="Sat, 27 Mar 2010 07:48:53 +0000"  >&lt;p&gt;It looks that in the first case the email is simply not sent - is there any other indication in the websphere log? There are also some known problems if you of the geronim0-spec-javamail in your classpath.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Mar 2010 07:48:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vnfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182768</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-83] Problems using SMTP authentication with JavaMail 1.4.1</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-83</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I am trying to use SimpleEmail based off of the example on the Commons/Email site to send an email. I plan on probably going to an HtmlEmail, but I thought I would start out simple and basic. The code I am using is shown below. The problem I am running into is that my SMTP server requires authentication, so I added the Authenticator as shown below with a correct username and password (tested and known working). Unfortunately, my server keeps rejecting my authentication so in javax.mail.Transport.send() @line 188 it tries to connected, fails the authentication and then on the next line it tries to send the message which results in an exception because the server won&apos;t let it send. I have found that in the javax.mail.Service.connect() @line 206, it goes through the connect sequence which includes trying to find the user/pass through various means. When it gets to line 268 it hasn&apos;t gotten a password yet, and so tries to look it up on the session via javax.mail.Session.getPasswordAuthentication(). It uses the Service.getURLName() as the key to pass to the authTable (HashTable) which contains PasswordAuthentication. Unfortunately, the DefaultAuthenticator set as part of SimpleEmail.setAuthenticator() is in the variable authenticator in the Session, not in the authTable. &lt;/p&gt;

&lt;p&gt;I have also tried with JavaMail 1.4 and similar results, although I did not run in debug and step through it, I believe it performs the same behavior due to the 1.4.1 changes (&lt;a href=&quot;http://java.sun.com/products/javamail/CHANGES.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/products/javamail/CHANGES.txt&lt;/a&gt;) which say nothing about it.&lt;/p&gt;

&lt;p&gt;SimpleEmail email = new SimpleEmail();&lt;br/&gt;
email.setDebug(true);&lt;br/&gt;
email.setAuthenticator(new DefaultAuthenticator(&quot;&amp;lt;USERNAME&amp;gt;&quot;, &quot;&amp;lt;PASSWORD&amp;gt;&quot;));&lt;br/&gt;
email.setHostName(&quot;&amp;lt;SMTP HOST&amp;gt;&quot;);&lt;br/&gt;
email.setSmtpPort(587);&lt;br/&gt;
email.addTo(&quot;&amp;lt;TO EMAIL&amp;gt;&quot;, &quot;Test Person&quot;);&lt;br/&gt;
email.setFrom(&quot;&amp;lt;FROM EMAIL&amp;gt;&quot;);&lt;br/&gt;
email.setSubject(&quot;Test message&quot;);&lt;br/&gt;
email.setMsg(&quot;This is a simple test of commons-email&quot;);&lt;br/&gt;
email.send();&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java5, Netbeans 6.1, Commons/Email 1.1, JavaMail 1.4.1, JAF 1.1.1&lt;/p&gt;</environment>
        <key id="12407366">EMAIL-83</key>
            <summary>Problems using SMTP authentication with JavaMail 1.4.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="drizzt321">Aaron Baff</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Oct 2008 17:36:09 +0000</created>
                <updated>Sat, 27 Mar 2010 07:58:44 +0000</updated>
                            <resolved>Sat, 27 Mar 2010 07:58:44 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12650114" author="corsc" created="Mon, 24 Nov 2008 06:27:45 +0000"  >&lt;p&gt;Aaron,&lt;/p&gt;

&lt;p&gt;I have tried to replicate this error and have yet been unable to do so.&lt;br/&gt;
(My environment is: Eclipse 3.4,  java 1.6.0_07, Email (trunk), Java Mail 1.4.1, Mail server: James 2.3)&lt;/p&gt;

&lt;p&gt;It however sounds like you know what the problem is, is it possible for you to point me in the direction of the what you means by &quot;uses the Service.getURLName() as the key to pass to the authTable (HashTable)&quot;, so that I can look into a little more for you?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12695914" author="sgoeschl" created="Sun, 5 Apr 2009 20:59:08 +0000"  >&lt;p&gt;Hi Aaron - does this problem still exist?! If so some help from your side would be required to solve that issue ... &lt;/p&gt;</comment>
                            <comment id="12850487" author="sgoeschl" created="Sat, 27 Mar 2010 07:58:44 +0000"  >&lt;p&gt;We are not able to reproduce the problem and got no furhter feedback&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Nov 2008 06:27:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56901</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vnhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182779</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-82] Attaching .doc files with Greek Names (as filenames) and encoding of the name is wrong </title>
                <link>https://issues.apache.org/jira/browse/EMAIL-82</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I have a file located in my pc localy and i send it as an attachment from multipart mail..sending and attaching works good and file can be opened from mail account..The problem is with the filename for example the file is : &quot;&#932;&#959; &#949;&#947;&#947;&#961;&#945;&#966;&#972; &#956;&#959;&#965;.doc&quot; (&quot;My document.doc&quot;) and the result in attached file is something &lt;br/&gt;
like this:  &#912;&#177;&#912;&#177;&#913;&#905;&#177; &#908;&#177;&#189;&#916;&#911;.doc&lt;br/&gt;
if filename is in english i dont have problems..but for my business is essential to have attached documents with greek characters (i tried UTF-*8 as charset for multipart mail and greek iso charset as well but the problem remains...)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;windows xp service pack 2&lt;br/&gt;
Ibm Rational Software Development Platform&lt;/p&gt;</environment>
        <key id="12407102">EMAIL-82</key>
            <summary>Attaching .doc files with Greek Names (as filenames) and encoding of the name is wrong </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="beken">chris bek</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Oct 2008 16:22:53 +0000</created>
                <updated>Sat, 23 Oct 2010 22:25:51 +0000</updated>
                            <resolved>Thu, 29 Jul 2010 20:49:07 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12888205" author="sgoeschl" created="Wed, 14 Jul 2010 05:40:30 +0000"  >&lt;p&gt;I found the problem and it is not a bug but a feature - there is a System property &quot;mail.mime.encodefilename&quot; (see &lt;a href=&quot;http://java.sun.com/products/javamail/javadocs/javax/mail/internet/package-summary.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/products/javamail/javadocs/javax/mail/internet/package-summary.html&lt;/a&gt;). If set to &quot;true&quot; the property triggers an optional MIME encoding of the attachment name if it contains non-ASCII characters which in turn violates the MIME specification. Basically MimeUtility.encodeText(text, charset, encoding) is applied to the attachment name.&lt;/p&gt;

&lt;p&gt;I provided a test (EmailLiveTest.testCorrectCharacterEncoding) to demonstrate the problem.&lt;/p&gt;</comment>
                            <comment id="12893812" author="sgoeschl" created="Thu, 29 Jul 2010 20:49:07 +0000"  >&lt;p&gt;This was actually a javax.mail configuration problem not directly related to commons-email &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Jul 2010 05:40:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56902</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-80] Message incorrectly displayed on outlook and Outlook Web access</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-80</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Hello.&lt;/p&gt;

&lt;p&gt;I try to write HTML Email with version 1.1 and 1.0.&lt;br/&gt;
With version 1.1, I found that the email was not correctly display when there is no image embed into the mail content. Outlook web access only display the text message and the HTML content is attached as an attachment.&lt;br/&gt;
But, when there is at least one image, the message is corerctly displayed.&lt;/p&gt;

&lt;p&gt;This does not happends with version 1.0.&lt;/p&gt;

&lt;p&gt;Here is the source code used:&lt;/p&gt;

&lt;p&gt;HtmlEmail email = new HtmlEmail();&lt;br/&gt;
email.setHostName(&quot;192.32.16.76&quot;);&lt;br/&gt;
email.setFrom(&quot;user@domain.com&quot;);&lt;br/&gt;
email.addTo(&quot;user1@domain.com&quot;);&lt;/p&gt;

&lt;p&gt;String s_RessourceName = &quot;support.gif&quot;;&lt;br/&gt;
URL url = TestLoader.class.getResource(s_RessourceName);&lt;br/&gt;
StringBuffer sb_MsgContent = new StringBuffer();&lt;br/&gt;
sb_MsgContent.append(&quot;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;mon message pour voir ma classe sans image&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;&quot;);&lt;br/&gt;
sb_MsgContent.append(&quot;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;);&lt;br/&gt;
email.setHtmlMsg(sb_MsgContent.toString());&lt;/p&gt;

&lt;p&gt;email.setTextMsg(&quot;Your email client does not support HTML messages&quot;);&lt;br/&gt;
email.send();&lt;/p&gt;


&lt;p&gt;And with image&lt;/p&gt;

&lt;p&gt;HtmlEmail email = new HtmlEmail();&lt;br/&gt;
email.setHostName(&quot;192.32.16.76&quot;);&lt;br/&gt;
email.setFrom(&quot;user@domain.com&quot;);&lt;br/&gt;
email.addTo(&quot;user1@domain.com&quot;);&lt;/p&gt;

&lt;p&gt;String s_RessourceName = &quot;support.gif&quot;;&lt;br/&gt;
URL url = TestLoader.class.getResource(s_RessourceName);&lt;br/&gt;
String s_RessourceId = email.embed(url, &quot;Support logo&quot;);&lt;br/&gt;
StringBuffer sb_MsgContent = new StringBuffer();&lt;br/&gt;
sb_MsgContent.append(&quot;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;lt;center&amp;gt;&amp;lt;b&amp;gt;mon message pour voir ma classe sans image&amp;lt;/b&amp;gt;&amp;lt;/center&amp;gt;&quot;);&lt;br/&gt;
sb_MsgContent.append(&quot;&amp;lt;p&amp;gt;&amp;lt;img src=\&quot;cid:&quot;).append(s_RessourceId).append(&quot;\&quot;&amp;gt;&amp;lt;/p&amp;gt;&quot;);&lt;br/&gt;
sb_MsgContent.append(&quot;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;);&lt;br/&gt;
email.setHtmlMsg(sb_MsgContent.toString());&lt;/p&gt;

&lt;p&gt;email.setTextMsg(&quot;Your email client does not support HTML messages&quot;);&lt;br/&gt;
email.send();&lt;/p&gt;


&lt;p&gt;Regards&lt;/p&gt;

&lt;p&gt;Etienne Jouvin&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397396">EMAIL-80</key>
            <summary>Message incorrectly displayed on outlook and Outlook Web access</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="ejouvin">Etienne Jouvin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2008 17:24:15 +0000</created>
                <updated>Sat, 23 Oct 2010 22:15:04 +0000</updated>
                            <resolved>Thu, 5 Feb 2009 17:43:26 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12613681" author="smarkoff" created="Tue, 15 Jul 2008 18:03:30 +0000"  >&lt;p&gt;I am having the same problem and look forward to this bug being fixed. thanks.&lt;/p&gt;</comment>
                            <comment id="12662607" author="dayjah" created="Sat, 10 Jan 2009 02:29:15 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;This fixes the problem that you describe in GMail. I assume the problem is the same with outlook web access, if you could confirm that that would be great. The patch is for the trunk version of the library. Similar changes to the current 1.1 release were a slight PITA to work out (the trunk releases constructs all the parts in a more hierarchical fashion). &lt;/p&gt;</comment>
                            <comment id="12662699" author="sgoeschl" created="Sat, 10 Jan 2009 22:17:13 +0000"  >&lt;p&gt;Hi Michael, &lt;/p&gt;

&lt;p&gt;not sure if your patch is actually needed - did you test the most recent trunk with GMail? I applied a patch two weeks ago which should fix the problems (hopefully). I just sent you a few test emails to your gmail address and would be very happy if you could provide feedback.&lt;/p&gt;</comment>
                            <comment id="12662830" author="dayjah" created="Sun, 11 Jan 2009 22:31:54 +0000"  >&lt;p&gt;Hi Siegfried,&lt;/p&gt;

&lt;p&gt;I checked out trunk and I had the same issue. I can certainly re-verify this tomorrow. I can certainly verify that your tests work as I would expect them to (i.e. I can see the html).&lt;/p&gt;

&lt;p&gt;To verify, I should be using&lt;/p&gt;

&lt;p&gt;HtmlEmail.addHtmlMsg and HtmlEmail.addTextMsg to add html and text respectively? &lt;/p&gt;</comment>
                            <comment id="12663232" author="dayjah" created="Tue, 13 Jan 2009 05:15:37 +0000"  >&lt;p&gt;Hi Siegfried,&lt;/p&gt;

&lt;p&gt;You were right, the trunk version works correctly - I actually found out the issue when I was testing with the trunk copy was to do with my deploy environment. ZZZ, /me makes sure to check that stuff correctly next time!!&lt;/p&gt;

&lt;p&gt;Sorry for the noise, thanks for following up with me.&lt;/p&gt;

&lt;p&gt;Mike&lt;/p&gt;</comment>
                            <comment id="12670837" author="sgoeschl" created="Thu, 5 Feb 2009 17:43:26 +0000"  >&lt;p&gt;With the help of the commons community we did some field testing to verify that the HTMLEmail is properly created and displayed&lt;br/&gt;
Got positive feedback for&lt;/p&gt;

&lt;p&gt;+) Apple Mail 2.1.3 on Mac OS X 10.4&lt;br/&gt;
+) Thunderbird 2.0.0.19 on Mac OS X 10.5&lt;br/&gt;
+) Thunderbird 2.0.0.19 on Ubuntu 8.10&lt;br/&gt;
+) Outlook 2007 on Win XP Pro 64 bit&lt;br/&gt;
+) Evolution 2.24.2 on Ubuntu 8.10&lt;br/&gt;
+) OWA (full on IE 7, cut-down on Firefox)&lt;br/&gt;
+) GMail&lt;br/&gt;
+) Yahoo! Mail&lt;/p&gt;

&lt;p&gt;We have problems with 1.9.9 (KDE 3.5.9) but this could be a general issue with KMail&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Jul 2008 18:03:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmtr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-79] SimpleEmail#setMsg() with UTF-8 content honors correct charset in header, but doesn&apos;t encode the content correctly</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-79</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;When I create a new SimpleEmail and use setMsg(some-utf8-text), the Content-Type header of the generated email correctly changes to UTF-8, but the content is not encoded correctly.&lt;/p&gt;

&lt;p&gt;Adding setCharset(&quot;UTF-8&quot;) solves the problem, but that shouldn&apos;t be needed, as the change of Content-Type header indicates.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows Vista, JDK 1.6.0_06&lt;/p&gt;</environment>
        <key id="12396809">EMAIL-79</key>
            <summary>SimpleEmail#setMsg() with UTF-8 content honors correct charset in header, but doesn&apos;t encode the content correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="edvin">Edvin Syse</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 May 2008 13:36:11 +0000</created>
                <updated>Sat, 23 Oct 2010 22:25:50 +0000</updated>
                            <resolved>Sun, 5 Apr 2009 20:17:07 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12650445" author="corsc" created="Tue, 25 Nov 2008 02:16:15 +0000"  >&lt;p&gt;Edvin,&lt;/p&gt;

&lt;p&gt;I tried looking into this for you and were unable to come up with a test to prove this condition.&lt;br/&gt;
Could you please see if you can create one so I can move this forward for you?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="12650486" author="edvin" created="Tue, 25 Nov 2008 08:12:15 +0000"  >&lt;p&gt;Please se attached MailTest.java and message.eml and the resulting email when recieved. You need to put commons-email-1.1.jar and mail-1.4.jar on the classpath to run the test. As you see, the subject is encoded correctly, but the body is qp-encoded with latin-1 charset instead of UTF-8. I ran the program with -Dfile.encoding=&quot;UTF-8&quot;. It&apos;s easy to spot, since the each qp-encoded letter in the body only consist of one encoded one-byte sequence instead of two.&lt;/p&gt;</comment>
                            <comment id="12651277" author="corsc" created="Thu, 27 Nov 2008 08:03:08 +0000"  >&lt;p&gt;Edvin,&lt;/p&gt;

&lt;p&gt;I am not sure this is what you wanted but the changes contained are making the simple (and HTML) email classes utilize the charset and content type settings better than they were. (in some cases they werent being used previously)&lt;/p&gt;

&lt;p&gt;You still have to do a email.setCharset() call in order to ensure both the subject and message bodies have the encoding set but I personally feel this is acceptable.  Perhaps because I dont see how the encoding can be reliably determined dynamically or even if it could, it is in side the scope of this library.&lt;/p&gt;</comment>
                            <comment id="12651997" author="edvin" created="Mon, 1 Dec 2008 13:33:12 +0000"  >&lt;p&gt;Thanks, hopefully that will do the trick! I agree that one cannot always determine the correct encoding, but I think it is reasonable that the same encoding should be used in both subject and body even if you don&apos;t supply something explicitely, don&apos;t you agree?&lt;/p&gt;</comment>
                            <comment id="12652237" author="corsc" created="Tue, 2 Dec 2008 02:14:06 +0000"  >&lt;p&gt;That certainly seems logical. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12671232" author="sgoeschl" created="Fri, 6 Feb 2009 18:30:58 +0000"  >&lt;p&gt;I applied the patch but it is breaking a few tests&lt;/p&gt;

&lt;p&gt;  testSendNoAttachments(org.apache.commons.mail.SendWithAttachmentsTest)&lt;br/&gt;
  testSendWAttachments(org.apache.commons.mail.SendWithAttachmentsTest)&lt;br/&gt;
  testSend(org.apache.commons.mail.HtmlEmailTest)&lt;br/&gt;
  testSend2(org.apache.commons.mail.HtmlEmailTest)&lt;br/&gt;
  testHtmlMailMimeLayout(org.apache.commons.mail.EmailLiveTest)&lt;br/&gt;
  testSend(org.apache.commons.mail.MultiPartEmailTest)&lt;/p&gt;

&lt;p&gt;I try to commit my pending changes so that you can have a look at the problems&lt;/p&gt;</comment>
                            <comment id="12672499" author="corsc" created="Wed, 11 Feb 2009 04:07:03 +0000"  >&lt;p&gt;New version of the patch that replaces the earlier one.&lt;/p&gt;

&lt;p&gt;Tests against the current trunk are working again.&lt;/p&gt;</comment>
                            <comment id="12695907" author="sgoeschl" created="Sun, 5 Apr 2009 20:17:07 +0000"  >&lt;p&gt;Works now - thx&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399963" name="EMAIL-79-patch-v2.txt" size="4482" author="corsc" created="Wed, 11 Feb 2009 04:07:02 +0000"/>
                            <attachment id="12394818" name="EMAIL-79-patch.txt" size="3483" author="corsc" created="Thu, 27 Nov 2008 08:03:08 +0000"/>
                            <attachment id="12394636" name="EmailTest.zip" size="1199" author="edvin" created="Tue, 25 Nov 2008 08:12:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Nov 2008 02:16:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56904</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmtb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-77] HTML Email with attachment is broken on some mail clients (Thunderbird)</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-77</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;An HTML email created with attachments is not properly displayed on Thunderbird 2.0.0.12 but works with Outlook&lt;/p&gt;</description>
                <environment></environment>
        <key id="12394777">EMAIL-77</key>
            <summary>HTML Email with attachment is broken on some mail clients (Thunderbird)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="sgoeschl">Siegfried Goeschl</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Apr 2008 08:59:44 +0000</created>
                <updated>Sat, 23 Oct 2010 22:25:49 +0000</updated>
                            <resolved>Thu, 5 Feb 2009 17:40:28 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12592312" author="sgoeschl" created="Fri, 25 Apr 2008 09:01:39 +0000"  >&lt;p&gt;A good email created with an old snapshot of commons-email (2006-01-10)&lt;/p&gt;</comment>
                            <comment id="12592313" author="sgoeschl" created="Fri, 25 Apr 2008 09:02:26 +0000"  >&lt;p&gt;A broken email generated with commons-email-1.1 - no properly displayed with Thunderbird&lt;/p&gt;</comment>
                            <comment id="12592316" author="sgoeschl" created="Fri, 25 Apr 2008 09:05:43 +0000"  >&lt;p&gt;This is how the message is displayed in Thunderbird&lt;/p&gt;</comment>
                            <comment id="12670832" author="sgoeschl" created="Thu, 5 Feb 2009 17:40:28 +0000"  >&lt;p&gt;With the help of the commons community we did some field testing to verify that the HTMLEmail is properly created and displayed &lt;/p&gt;

&lt;p&gt;Got positive feedback for&lt;/p&gt;

&lt;p&gt;+) Apple Mail 2.1.3 on Mac OS X 10.4&lt;br/&gt;
+) Thunderbird 2.0.0.19 on Mac OS X 10.5&lt;br/&gt;
+) Thunderbird 2.0.0.19 on Ubuntu 8.10&lt;br/&gt;
+) Outlook 2007 on Win XP Pro 64 bit&lt;br/&gt;
+) Evolution 2.24.2 on Ubuntu  8.10&lt;br/&gt;
+) OWA (full on IE 7, cut-down on Firefox)&lt;br/&gt;
+) GMail&lt;br/&gt;
+) Yahoo! Mail &lt;/p&gt;

&lt;p&gt;We have problems with 1.9.9 (KDE 3.5.9) but this could be a general issue with KMail&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12380909" name="broken.eml" size="75673" author="sgoeschl" created="Fri, 25 Apr 2008 09:02:26 +0000"/>
                            <attachment id="12380910" name="broken.png" size="47601" author="sgoeschl" created="Fri, 25 Apr 2008 09:05:43 +0000"/>
                            <attachment id="12380908" name="good.eml" size="75853" author="sgoeschl" created="Fri, 25 Apr 2008 09:01:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-76] Some setters of class Email does not return &quot;this&quot;.</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-76</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Some setters of class Email return &quot;this&quot;, and some doesn&apos;t.&lt;br/&gt;
For the consistency, all the setters should return &quot;this&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393825">EMAIL-76</key>
            <summary>Some setters of class Email does not return &quot;this&quot;.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="yukoba">Yu Kobayashi</reporter>
                        <labels>
                    </labels>
                <created>Sun, 13 Apr 2008 06:44:11 +0000</created>
                <updated>Fri, 11 Jan 2013 15:47:41 +0000</updated>
                            <resolved>Fri, 15 Oct 2010 17:19:58 +0000</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12588367" author="yukoba" created="Sun, 13 Apr 2008 06:45:21 +0000"  >&lt;p&gt;I created a patch for this problem.&lt;/p&gt;</comment>
                            <comment id="12588369" author="yukoba" created="Sun, 13 Apr 2008 07:05:06 +0000"  >&lt;p&gt;I also created similar patch for the class MultiPartEmail.&lt;/p&gt;

&lt;p&gt;Original MultiPartEmail.addPart() downcasts the return value from MultiPartEmail to Email. This is not necessary. I change it to return MultiPartEmail.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12379992" name="EmailSetter.patch" size="8007" author="yukoba" created="Sun, 13 Apr 2008 06:45:21 +0000"/>
                            <attachment id="12379993" name="MultiPartEmailSetter.patch" size="2891" author="yukoba" created="Sun, 13 Apr 2008 07:05:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 24 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tn07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171036</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-75] Email.setFrom, addTo should use Email.charset</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-75</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Email.addTo() and setFrom() doesn&apos;t use Email.charset.&lt;/p&gt;

&lt;p&gt;Code should be as following.&lt;/p&gt;

&lt;p&gt;public Email setFrom(String email, String name)&lt;br/&gt;
    throws EmailException&lt;br/&gt;
{&lt;br/&gt;
    return setFrom(email, name, this.charset);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;public Email addTo(String email, String name)&lt;br/&gt;
    throws EmailException&lt;br/&gt;
{&lt;br/&gt;
    return addTo(email, name, this.charset);&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393721">EMAIL-75</key>
            <summary>Email.setFrom, addTo should use Email.charset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="yukoba">Yu Kobayashi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Apr 2008 05:47:51 +0000</created>
                <updated>Sat, 23 Oct 2010 22:25:49 +0000</updated>
                            <resolved>Sun, 5 Apr 2009 20:41:40 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12587877" author="bens" created="Fri, 11 Apr 2008 07:33:40 +0000"  >&lt;p&gt;Agree. Can you provide a patch against the trunk?&lt;/p&gt;</comment>
                            <comment id="12588357" author="yukoba" created="Sun, 13 Apr 2008 04:02:15 +0000"  >&lt;p&gt;I created a patch for this issue.&lt;/p&gt;</comment>
                            <comment id="12695912" author="sgoeschl" created="Sun, 5 Apr 2009 20:41:40 +0000"  >&lt;p&gt;Will be part of the 1.2 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12379989" name="EmailCharset.patch" size="7937" author="yukoba" created="Sun, 13 Apr 2008 04:02:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Apr 2008 07:33:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-73] Format generated by HtmlEmail component causing problem</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-73</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;We are facing some problems while we are using Apache HtmlEmail component for sending emails. &lt;/p&gt;

&lt;p&gt;The content of the email that we have as part of our application does not have any &amp;lt;pre&amp;gt; tags defined. The content defined is as below:&lt;/p&gt;

&lt;p&gt;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;&lt;br/&gt;
&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;&lt;br/&gt;
&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;font face=&quot;arial,helvetica,sans-serif&quot; size=&quot;2&quot;&amp;gt;13-03-2008 &amp;lt;br /&amp;gt;&lt;br/&gt;
&amp;lt;/font&amp;gt;&lt;br/&gt;
&amp;lt;/p&amp;gt;&lt;br/&gt;
Dear Sir/Madam, &amp;lt;br /&amp;gt;&lt;br/&gt;
&amp;lt;/font&amp;gt;&amp;lt;font face=&quot;arial,helvetica,sans-serif&quot; size=&quot;2&quot;&amp;gt;&lt;br/&gt;
&amp;lt;div align=&quot;center&quot;&amp;gt;&lt;br/&gt;
&amp;lt;strong&amp;gt;This is an test email&amp;lt;/strong&amp;gt;&lt;br/&gt;
&amp;lt;/div&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;&lt;br/&gt;
&amp;lt;br /&amp;gt;&lt;br/&gt;
This is to test the pre tags&amp;lt;br /&amp;gt;&lt;br/&gt;
&amp;lt;br /&amp;gt;&lt;br/&gt;
&amp;lt;/font&amp;gt;&amp;lt;font face=&quot;arial,helvetica,sans-serif&quot; size=&quot;2&quot;&amp;gt;Yours faithfully,&amp;lt;br /&amp;gt;&lt;br/&gt;
&amp;lt;img&amp;gt;&amp;lt;br /&amp;gt;&lt;br/&gt;
XYZ&amp;lt;/font&amp;gt;&lt;br/&gt;
&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;/font&amp;gt;&lt;br/&gt;
&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&lt;/p&gt;


&lt;p&gt;------------------------------------------------------------------------------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;But as soon as we are using the below code &lt;/p&gt;


&lt;p&gt;if (iataMail.isHtmlFormat()) {&lt;br/&gt;
   HtmlEmail htmlEmail = new HtmlEmail();&lt;br/&gt;
   if (StringUtils.isNotEmpty(iataMail.getMessage())) &lt;/p&gt;
{
    htmlEmail.setHtmlMsg(iataMail.getMessage());
   }
&lt;p&gt;   // set htmlEmail to email reference&lt;br/&gt;
   email = htmlEmail;&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;the email message is been wrapped with a &amp;lt;pre&amp;gt; tag which leads to the extra spaces in the email content when viewed through any mail client&lt;/p&gt;

&lt;p&gt;We need your help to find out if this is an issue with the Apache mailing component / something that we need to take care in order to resolve this.&lt;/p&gt;

&lt;p&gt;Please also find attached the content of the email been generated with and without pre tags &lt;/p&gt;</description>
                <environment></environment>
        <key id="12391402">EMAIL-73</key>
            <summary>Format generated by HtmlEmail component causing problem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="rajarshi_basak">Rajarshi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Mar 2008 03:35:22 +0000</created>
                <updated>Sat, 23 Oct 2010 22:25:48 +0000</updated>
                            <resolved>Thu, 13 May 2010 20:44:22 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12695915" author="sgoeschl" created="Sun, 5 Apr 2009 21:00:47 +0000"  >&lt;p&gt;Unfortunately I can&apos;t find any attachments .... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12728973" author="flatbot" created="Thu, 9 Jul 2009 00:18:52 +0000"  >&lt;p&gt;I have been hit with the same issue.  Our users are complaining that their emails aren&apos;t word-wrapping.  &lt;/p&gt;

&lt;p&gt;This is because when you send an email using the HTMLEmail class, Commons Email sticks a &amp;lt;pre&amp;gt; tag in the message&lt;/p&gt;

&lt;p&gt;Code from HTMLEmail.java:&lt;/p&gt;

&lt;p&gt;    /** prefix for default HTML mail */&lt;br/&gt;
    private static final String HTML_MESSAGE_START = &quot;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;lt;pre&amp;gt;&quot;;&lt;br/&gt;
    /** suffix for default HTML mail */&lt;br/&gt;
    private static final String HTML_MESSAGE_END = &quot;&amp;lt;/pre&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;;&lt;/p&gt;

&lt;p&gt;I don&apos;t see any reason there needs to be a &amp;lt;pre&amp;gt; tag stuck in there.  If you want one, you can always put one in yourself.&lt;/p&gt;

&lt;p&gt;I recommend this be taken out in the next version.&lt;/p&gt;</comment>
                            <comment id="12798231" author="centic" created="Fri, 8 Jan 2010 23:08:32 +0000"  >&lt;p&gt;Have you tried calling the method &quot;setHtmlMsg()&quot; instead of &quot;setMsg()&quot; for HTML emails? The HTML_MESSAGE_START is only used in &quot;setMsg&quot;, when I use &quot;setHtmlMsg&quot; (and &quot;setTextMsg&quot; when I want to have a text-only representation as well), everything is fine!&lt;/p&gt;</comment>
                            <comment id="12867245" author="sgoeschl" created="Thu, 13 May 2010 20:44:22 +0000"  >&lt;p&gt;Added a test case &quot;HtmlEmailTest#testSendWithPlainTextButNoHtmlContent&quot; but I&apos;m unable to reproduce the problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 5 Apr 2009 21:00:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56908</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vnhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182777</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-71] Email.getHostName() throws NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-71</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;If setHostName() has not been called, getHostName() tries to return this.session.getProperty(MAIL_HOST). If mail session has not been created yet, this will throw a NullPointerException. getHostName() should check that this.session is not null before trying to access it.&lt;/p&gt;

&lt;p&gt;The same applies to getSmtpPort() and getSslSmtpPort().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12384714">EMAIL-71</key>
            <summary>Email.getHostName() throws NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="teme">Teemu L&#229;ng</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 Dec 2007 00:08:49 +0000</created>
                <updated>Sat, 23 Oct 2010 22:25:48 +0000</updated>
                            <resolved>Tue, 24 Feb 2009 22:22:10 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12555264" author="bayard" created="Wed, 2 Jan 2008 08:00:12 +0000"  >&lt;p&gt;Confirmed - question being, return null or throw an IllegalStateException?&lt;/p&gt;</comment>
                            <comment id="12614399" author="cziegeler" created="Thu, 17 Jul 2008 15:41:49 +0000"  >&lt;p&gt;I ran into the same problem today &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I think it should return null as it&apos;s just a getter method.&lt;br/&gt;
I wanted to use this method to check, if someone else has already set the host name and if not apply a default.&lt;/p&gt;</comment>
                            <comment id="12676431" author="sgoeschl" created="Tue, 24 Feb 2009 22:22:10 +0000"  >&lt;p&gt;Reviews and applied the patch - thanks to Corey Scott again ...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12394544" name="EMAIL-71-patch.txt" size="1046" author="corsc" created="Mon, 24 Nov 2008 09:51:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Jan 2008 08:00:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-70] Email.setMailSession() discards provided session if using authentication</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-70</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The Email.setSession(Session aSession) method does NOT use the provided session value if the provided session is an authenticated session.  In that case, a new Session instance is created and used instead.  The newly created session uses a DefaultAuthenticator based on the username/password properties provided in the original session.&lt;/p&gt;

&lt;p&gt;This is a problem because the original session may have been created with a valid authenticator but without placing the password in the session properties.  In this case, the newly constructed session will not work.  Or, the original session may have been created with a custom authenticator, so again, the newly constructed session will not work.&lt;/p&gt;

&lt;p&gt;It seems to me that setSession() should simply set the provided session and not attempt to be smart about authentication.  However, for backward compatibility, an improvement would be to offer a setRawSession() that simply sets this.session.   Another improvement would be to also check for the presence of username and password properties before deciding to create a new session instance.  If either of those properties is missing, use the provided session as-is.&lt;/p&gt;</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12383006">EMAIL-70</key>
            <summary>Email.setMailSession() discards provided session if using authentication</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="faseidl">F. Andy Seidl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Nov 2007 19:33:36 +0000</created>
                <updated>Sat, 23 Oct 2010 22:25:47 +0000</updated>
                            <resolved>Mon, 29 Dec 2008 17:40:35 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12544583" author="bens" created="Wed, 21 Nov 2007 20:03:13 +0000"  >&lt;p&gt;Thanks for the report &amp;#8211; can you provide a test case and a patch? That&apos;ll make it much easier to get this addressed.&lt;/p&gt;</comment>
                            <comment id="12550882" author="bjorn" created="Wed, 12 Dec 2007 08:30:11 +0000"  >&lt;p&gt;I&apos;ve looked into this a bit, and it looks difficult to test. Andy, any chance you could provide a test?&lt;/p&gt;</comment>
                            <comment id="12659591" author="sgoeschl" created="Mon, 29 Dec 2008 17:40:35 +0000"  >&lt;p&gt;When mail authentication is required and no username/password is supplied than the provided mail session is used. If a username/password is found the implementation creates a new mail session and a DefaultAuthenticator as convinence implementation.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Nov 2007 20:03:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-69] HtmlEmail generated email don&apos;t display in Macos X Mail.app</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-69</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;The mail generated by HtmlEmail seems boggus in its mime layout.  Mail.app doesn&apos;t recognize and display the html part when you send a mail with a Html and Text part as alternative.&lt;br/&gt;
For example this email will only display the text part and not the html part on Mail.app:&lt;/p&gt;

&lt;p&gt;HtmlEmail htmlEmail = new HtmlEmail();&lt;br/&gt;
htmlEmail.setHtmlMsg(htmlMessage);&lt;br/&gt;
htmlEmail.setTextMsg(textMessage);			&lt;br/&gt;
email.setFrom(from,fromName);&lt;br/&gt;
email.addTo(to, toName);&lt;br/&gt;
email.setSubject(subject);&lt;br/&gt;
email.send();&lt;/p&gt;

&lt;p&gt;But this email will disply correctly the html in Mail.app:&lt;/p&gt;

&lt;p&gt;HtmlEmail htmlEmail = new HtmlEmail();&lt;br/&gt;
htmlEmail.setHtmlMsg(htmlMessage);&lt;br/&gt;
email.setFrom(from,fromName);&lt;br/&gt;
email.addTo(to, toName);&lt;br/&gt;
email.setSubject(subject);&lt;br/&gt;
email.send();&lt;/p&gt;

&lt;p&gt;The bug might be I think  in the mime layout, I looked at the raw email source and the mime layout is as follow:&lt;/p&gt;

&lt;p&gt;MIME-Version: 1.0&lt;br/&gt;
Content-Type: multipart/related; &lt;br/&gt;
	boundary=&quot;----=_Part_0_11727281.1194085710604&quot;&lt;/p&gt;


&lt;p&gt;------=_Part_0_11727281.1194085710604&lt;br/&gt;
Content-Type: text/plain; charset=UTF-8&lt;br/&gt;
Content-Transfer-Encoding: quoted-printable&lt;/p&gt;

&lt;p&gt;Ch=C3=A8re Mme Dupont ,=20&lt;/p&gt;

&lt;p&gt;Text Blah blah&lt;/p&gt;


&lt;p&gt;------=_Part_0_11727281.1194085710604&lt;br/&gt;
Content-Type: text/html; charset=UTF-8&lt;br/&gt;
Content-Transfer-Encoding: quoted-printable&lt;/p&gt;

&lt;p&gt;&amp;lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.=&lt;br/&gt;
w3.org/TR/html4/loose.dtd&quot;&amp;gt;&lt;br/&gt;
&amp;lt;html version=3D&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&amp;gt;&lt;br/&gt;
&amp;lt;head&amp;gt;&lt;br/&gt;
&amp;lt;meta name=3D&quot;generator&quot; content=3D&quot;Le-Voyage.com mail generator 1.0&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;meta http-equiv=3D&quot;Content-Type&quot; content=3D&quot;text/html; charset=3Dutf-8&quot; /&amp;gt;=&lt;br/&gt;
=20&lt;br/&gt;
=09 &amp;lt;title&amp;gt;My Email&amp;lt;/title&amp;gt;&lt;br/&gt;
&amp;lt;/head&amp;gt;&lt;br/&gt;
&amp;lt;body leftmargin=3D&quot;0&quot; topmargin=3D&quot;0&quot; marginwidth=3D&quot;0&quot; marginheight=3D&quot;0&quot;=&lt;br/&gt;
&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;b&amp;gt;Ch=C3=A8re Mme Dupont ,=20&amp;lt;/b&amp;gt;&lt;br/&gt;
&amp;lt;br/&amp;gt;&lt;br/&gt;
Blah Blah html content&lt;br/&gt;
&amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;/p&gt;

&lt;p&gt;-----&lt;del&gt;=_Part_0_11727281.1194085710604&lt;/del&gt;-&lt;/p&gt;




&lt;p&gt;This is wrong, I am not an expert but shouldn&apos;t it be multipart/alternative ?  In all other html email I have checked the mime layout uses multipart/alternative.&lt;br/&gt;
I hop there is a quick fix for this.&lt;br/&gt;
Thank you for your help.&lt;/p&gt;

&lt;p&gt;Numa&lt;/p&gt;</description>
                <environment>&lt;p&gt;Macos X 10.4 with Mail.app&lt;/p&gt;</environment>
        <key id="12381782">EMAIL-69</key>
            <summary>HtmlEmail generated email don&apos;t display in Macos X Mail.app</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="numito">Numa Schmeder</reporter>
                        <labels>
                    </labels>
                <created>Sat, 3 Nov 2007 10:48:07 +0000</created>
                <updated>Sat, 23 Oct 2010 22:25:46 +0000</updated>
                            <resolved>Thu, 5 Feb 2009 17:42:45 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12539928" author="numito" created="Sat, 3 Nov 2007 12:54:55 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;Actually I have tested the same operation with commons-email 1.0. The content type is correctly set to &quot;Content-Type: multipart/alternative;&quot; It works perfectly, the mail displays correctly the html part on Mail.app.  So this issue is new and has been introduced in version 1.1.  &lt;br/&gt;
I am going to see in the sources if I can find the problem.&lt;/p&gt;

&lt;p&gt;Numa&lt;/p&gt;</comment>
                            <comment id="12543845" author="tripod" created="Tue, 20 Nov 2007 10:20:32 +0000"  >&lt;p&gt;i guess the problem was introduced in issue &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-50&quot; title=&quot;[email] HTML Emails with images don&amp;#39;t display in Outlook 2000&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-50&quot;&gt;&lt;del&gt;EMAIL-50&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;suggest to use the &quot;alternative&quot; container not only if there are embedded images but also if both a html and text message are set, eg:&lt;/p&gt;

&lt;p&gt;        boolean useAlternative = this.inlineEmbeds.size() &amp;gt; 0&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; (EmailUtils.isNotEmpty(this.html) &amp;amp;&amp;amp; EmailUtils.isNotEmpty(this.text));&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;and then later:&lt;/p&gt;

&lt;p&gt;            msgText = new MimeBodyPart();&lt;br/&gt;
            if (useAlternative)&lt;/p&gt;
            {
                subContainer.addBodyPart(msgText);
            }
&lt;p&gt;            else&lt;/p&gt;
            {
                container.addBodyPart(msgText);
            }
</comment>
                            <comment id="12544120" author="bens" created="Tue, 20 Nov 2007 23:45:11 +0000"  >&lt;p&gt;I&apos;m on vacation this week, so I can&apos;t get to this before the beginning of December. Could someone supply a patch and unit test? That would make it go quite a bit faster.&lt;/p&gt;</comment>
                            <comment id="12544133" author="bjorn" created="Wed, 21 Nov 2007 01:20:19 +0000"  >&lt;p&gt;I&apos;ll see what I can do. Hope vacation&apos;s going well. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12550735" author="bjorn" created="Tue, 11 Dec 2007 22:33:42 +0000"  >&lt;p&gt;Unit test and potential fix for this issue.&lt;/p&gt;</comment>
                            <comment id="12568431" author="drchris32" created="Wed, 13 Feb 2008 05:18:20 +0000"  >&lt;p&gt;Sadly, patch is incomplete: now it is broken when you have an embed&apos;ded image ...&lt;/p&gt;

&lt;p&gt;            email.setHostName(&quot;smtp-server....&quot;);&lt;br/&gt;
            email.addTo(&quot;chris@...&quot;, &quot;John Doe&quot;);&lt;br/&gt;
            email.setFrom(&quot;me@apache.org&quot;, &quot;Me&quot;);&lt;br/&gt;
            email.setSubject(&quot;Test email with inline image&quot;);&lt;/p&gt;

&lt;p&gt;            URL    url = new URL(&quot;http://www.apache.org/images/asf_logo_wide.gif&quot;);&lt;br/&gt;
            String cid = email.embed(url, &quot;Apache logo&quot;);&lt;/p&gt;

&lt;p&gt;            email.setHtmlMsg(&quot;&amp;lt;html&amp;gt;TESTING&amp;lt;br&amp;gt;TESTING&amp;lt;br&amp;gt;The apache logo - &amp;lt;img src=\&quot;cid:&quot; + cid + &quot;\&quot;&amp;gt;&amp;lt;/html&amp;gt;&quot;);&lt;/p&gt;

&lt;p&gt;            email.setTextMsg(&quot;Your email client does not support HTML messages&quot;);&lt;/p&gt;

&lt;p&gt;            email.send();&lt;/p&gt;

&lt;p&gt;This will display the Apache logo all by itself (since we have a multipart/alternative FIRST).&lt;/p&gt;

&lt;p&gt;Assignment of  boolean in the patch should read:&lt;br/&gt;
        boolean useAlternative = (EmailUtils.isNotEmpty(this.html) &lt;br/&gt;
                               &amp;amp;&amp;amp; EmailUtils.isNotEmpty(this.text)&lt;br/&gt;
                               &amp;amp;&amp;amp; (this.inlineEmbeds.size() == 0)                    // This was lost from Tobias&apos;s post&lt;br/&gt;
                               );&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;i.e., use alternative when we have text AND html but NO embed (if embed, then it is covered by the sub-container) &amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12568820" author="bens" created="Thu, 14 Feb 2008 07:02:25 +0000"  >&lt;p&gt;Bjorn, can you throw a fix in for this?&lt;/p&gt;</comment>
                            <comment id="12571440" author="ticheler" created="Fri, 22 Feb 2008 15:21:53 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
I face the same problem. I found a description of the potential problem that may be of interest to you here: &lt;br/&gt;
&lt;a href=&quot;http://mtrr.org/blog/?p=88&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mtrr.org/blog/?p=88&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Looking forward to a fix &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Greetings,&lt;br/&gt;
Jeroen&lt;/p&gt;</comment>
                            <comment id="12585366" author="odamp" created="Fri, 4 Apr 2008 01:22:09 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Not sure if it is related to the issue raised here or not. I&apos;ve found that not all html based emails created with this commons module display inline in the thunderbird mail client. From taking a quick look at the message source this is presumably because the content disposition field is left out so the mail client makes a best guess, in the cases where thunderbird decides to display the html as an attachment to the email microsoft outlook goes ahead and displays the html inline.&lt;/p&gt;

&lt;p&gt;From what I can gather calls to HTMLEmail.setHtmlMsg need to result in the generated email including Content-Disposition: inline for that part of the email.&lt;/p&gt;

&lt;p&gt;If this issue should be raised as a separate issue just say so, and if greater is required let me know.&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;

&lt;p&gt;Phillip&lt;/p&gt;</comment>
                            <comment id="12611250" author="adhamh" created="Mon, 7 Jul 2008 17:27:04 +0000"  >&lt;p&gt;Attaching a patch that fixes this issue.  Its just the original patch plus the required changes.&lt;/p&gt;</comment>
                            <comment id="12670835" author="sgoeschl" created="Thu, 5 Feb 2009 17:42:45 +0000"  >&lt;p&gt;With the help of the commons community we did some field testing to verify that the HTMLEmail is properly created and displayed&lt;br/&gt;
Got positive feedback for&lt;/p&gt;

&lt;p&gt;+) Apple Mail 2.1.3 on Mac OS X 10.4&lt;br/&gt;
+) Thunderbird 2.0.0.19 on Mac OS X 10.5&lt;br/&gt;
+) Thunderbird 2.0.0.19 on Ubuntu 8.10&lt;br/&gt;
+) Outlook 2007 on Win XP Pro 64 bit&lt;br/&gt;
+) Evolution 2.24.2 on Ubuntu 8.10&lt;br/&gt;
+) OWA (full on IE 7, cut-down on Firefox)&lt;br/&gt;
+) GMail&lt;br/&gt;
+) Yahoo! Mail&lt;/p&gt;

&lt;p&gt;We have problems with 1.9.9 (KDE 3.5.9) but this could be a general issue with KMail&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12371465" name="EMAIL-69-fix.patch" size="859" author="bjorn" created="Tue, 11 Dec 2007 22:33:42 +0000"/>
                            <attachment id="12371464" name="EMAIL-69-test.patch" size="2229" author="bjorn" created="Tue, 11 Dec 2007 22:33:42 +0000"/>
                            <attachment id="12385423" name="mail.app.patch" size="794" author="adhamh" created="Mon, 7 Jul 2008 17:27:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Nov 2007 10:20:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56911</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vman:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182585</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-66] to create web mail in James</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-66</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;hello,&lt;br/&gt;
i&apos;m wany, i have to problem to create web mail in James.&lt;br/&gt;
anyone can help me to create web mail in James to send email.&lt;br/&gt;
please help me..............&lt;/p&gt;</description>
                <environment>&lt;p&gt;Wins Server 2003, James 2.3.0, MySQL Server 4.1,Java 2 RE 1.4&lt;/p&gt;</environment>
        <key id="12368825">EMAIL-66</key>
            <summary>to create web mail in James</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="bens">Ben Speakmon</assignee>
                                    <reporter username="wany">wany</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 May 2007 09:09:54 +0000</created>
                <updated>Wed, 6 Jun 2007 20:33:58 +0000</updated>
                            <resolved>Wed, 6 Jun 2007 20:33:58 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12494273" author="germuska" created="Tue, 8 May 2007 12:05:09 +0000"  >&lt;p&gt;This is not the appropriate place or style for your question.  It doesn&apos;t appear that you are trying to use the commons-email library to solve a problem; James is something else.  Furthermore, this system is for use in tracking bugs and feature enhancements, not for seeking help.&lt;/p&gt;

&lt;p&gt;If you are just trying to send mail, you don&apos;t necessarily need James, and comons-email may be a good tool for you to use.  If that&apos;s the case, you should check out the Jakarta Commons User email list: &lt;a href=&quot;http://jakarta.apache.org/site/mail2.html#Commons&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/site/mail2.html#Commons&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you are trying to use James to run a Java based email server, you should look at that project&apos;s own mailing lists: &lt;a href=&quot;http://james.apache.org/mail.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://james.apache.org/mail.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This ticket should be closed.&lt;/p&gt;</comment>
                            <comment id="12502084" author="bens" created="Wed, 6 Jun 2007 20:33:58 +0000"  >&lt;p&gt;Closing as invalid.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 May 2007 12:05:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vn9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182742</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-65] MIME layout generated by HtmlEmail causes trouble</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-65</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Previous bugs (e.g. &lt;a href=&quot;http://issues.apache.org/jira/browse/EMAIL-50&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/EMAIL-50&lt;/a&gt; ) raised against commons-email version 1.0 have complained about Outlook not being able to properly display multipart emails generated by HtmlEmail. While this issue is resolved as of rev 510708, I believe there a several issues regarding MIME layout, that still cause trouble to email clients.&lt;/p&gt;

&lt;p&gt;In the current codebase, a multipart email containing: plaintext part, html part, inline images and attachments, is constructed (to the best of my knowledge) with a MIME layout like this:&lt;/p&gt;

&lt;p&gt;Generated by HtmlEmail. Contains parts: plaintext, html, embedded inline img, attach&lt;br/&gt;
PART#, MIME_TYPE, (COMMENTS) &lt;br/&gt;
1 multipart/related&lt;br/&gt;
1.1 multipart/alternative&lt;br/&gt;
1.1.1 text/plain (the plaintext content) &lt;br/&gt;
1.1.2 text/html (the html content with cid: references to embedded images) &lt;br/&gt;
1.2+ &lt;b&gt;/&lt;/b&gt; (attachment) &lt;br/&gt;
1.3+ image/* (embedded image, referenced by 1.1.2) &lt;/p&gt;

&lt;p&gt;(&quot;+&quot; above indicates that multiple (1..n) parts may be included)&lt;/p&gt;

&lt;p&gt;The above structure may cause email clients to display embedded images as attachments, even though they are semantically part of the text/html content.&lt;/p&gt;

&lt;p&gt;Furthermore, the current codebase (as documented in the HtmlEmail.setMsg() JavaDoc) synthesizes a html part by &amp;lt;pre&amp;gt;...&amp;lt;/pre&amp;gt; wrapping the plaintext part, thus generating a bloated (double size) message, for no apparent reason. In my opinion, HtmlEmail should degrade to the mime layout of Email, if no html part is available.&lt;/p&gt;


&lt;p&gt;Proposed MIME layout&lt;br/&gt;
------------------------------&lt;/p&gt;

&lt;p&gt;To the best of my knowledge, a multipart email containing: plaintext part, html part, inline images and attachments, should be constructed like so:&lt;/p&gt;

&lt;p&gt;PART#, MIME_TYPE, (COMMENTS)&lt;br/&gt;
1. multipart/mixed&lt;br/&gt;
1.1 multipart/related&lt;br/&gt;
1.1.1 multipart/alternative&lt;br/&gt;
1.1.1.1 text/plain (the plaintext content)&lt;br/&gt;
1.1.1.2 text/html (the HTML content with cid: references to embedded images)&lt;br/&gt;
1.1.2+ image/* (embedded image, referenced by 1.1.1.2)&lt;br/&gt;
1.2+ &lt;b&gt;/&lt;/b&gt; (attachment)&lt;/p&gt;


&lt;p&gt;The following simplifications of the above structure may be applied:&lt;br/&gt;
a. If no embedded images are included, items 1.1.2+ and 1.1 are removed.&lt;br/&gt;
b. if no text/html part is included, items 1.1.1.2 and 1.1.1 are removed&lt;br/&gt;
c. if no attachments are included, items 1.2+ and 1 are removed&lt;/p&gt;

&lt;p&gt;Incidentially, this MIME layout is used by GMail, which is an indication that it is the &quot;proper&quot; way.&lt;/p&gt;

&lt;p&gt;I seriously believe that this issue should be investigated and resolved, if at all possible, as part of version 1.1.&lt;/p&gt;

&lt;p&gt;I may be able to supply a patch to HtmlEmail.java in the April/May 2007 timeframe, but I am not prepared to put any body parts on the block on that one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I welcome any comments!&lt;/p&gt;

&lt;p&gt;Morten Hattesen&lt;/p&gt;



&lt;p&gt;References:&lt;br/&gt;
See &lt;a href=&quot;http://en.wikipedia.org/wiki/MIME&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/MIME&lt;/a&gt; for additional information and references&lt;/p&gt;</description>
                <environment></environment>
        <key id="12364816">EMAIL-65</key>
            <summary>MIME layout generated by HtmlEmail causes trouble</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="mortenhattesen">Morten Hattesen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Mar 2007 13:48:55 +0000</created>
                <updated>Sat, 23 Oct 2010 22:25:46 +0000</updated>
                            <resolved>Mon, 29 Dec 2008 17:47:17 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12480523" author="bens" created="Tue, 13 Mar 2007 19:20:43 +0000"  >&lt;p&gt;I like the MIME structure you propose.&lt;/p&gt;

&lt;p&gt;I&apos;m not aware of any popular email client that handles the current structure incorrectly, and without a clear breakage the amount of testing required to prove this change seems onerous. If you can show me a test case for one, I&apos;d be happy to work with you to figure out what&apos;s going on; otherwise, in the interest of getting the important 1.1 fixes out the door ASAP, I view this as more of an enhancement request. (Disclaimer: I&apos;m not a committer and only a committer&apos;s opinion is binding on release issues.)&lt;/p&gt;

&lt;p&gt;Creating an HTML part (when none is explicitly specified) is expected behavior. If you want plaintext only or plaintext with attachments, I&apos;d say you should use SimpleEmail or MultiPartEmail directly. Changing this would mean changing the API contract, and I don&apos;t think that&apos;s something we should do for this release. (See previous disclaimer.)&lt;/p&gt;</comment>
                            <comment id="12480565" author="mortenhattesen" created="Tue, 13 Mar 2007 22:30:42 +0000"  >&lt;p&gt;After a careful review of the current codebase (HtmlEmail.java rev 511673, MultiPartEmail.java rev 517714), I have discovered, that the MIME layout generated is not quite as described in my previous posting.&lt;/p&gt;

&lt;p&gt;In many circumstances both HtmlEmail and MultiPartEmail generates MIME structures that do not conform to MIME recommendations. &lt;/p&gt;

&lt;p&gt;Below, I have listed the MIME structures generated, as well as how I believe they should have been.&lt;/p&gt;

&lt;p&gt;Example 1:&lt;br/&gt;
Generated by HtmlEmail. Contains parts: plaintext&lt;br/&gt;
PART#, MIME_TYPE, (COMMENTS) &lt;br/&gt;
1 multipart/related (WRONG!)&lt;br/&gt;
1.1 text/plain (the plaintext content) &lt;/p&gt;

&lt;p&gt;Should have been:&lt;br/&gt;
PART#, MIME_TYPE, (COMMENTS) &lt;br/&gt;
1 text/plain (the plaintext content) &lt;/p&gt;


&lt;p&gt;Example 2:&lt;br/&gt;
Generated by HtmlEmail. Contains parts: plaintext, html&lt;br/&gt;
PART#, MIME_TYPE, (COMMENTS) &lt;br/&gt;
1 multipart/related (WRONG!)&lt;br/&gt;
1.1 text/plain (the plaintext content) &lt;br/&gt;
1.2 text/html (the html content) &lt;/p&gt;

&lt;p&gt;Should have been:&lt;br/&gt;
PART#, MIME_TYPE, (COMMENTS) &lt;br/&gt;
1 multipart/alternative&lt;br/&gt;
1.1 text/plain (the plaintext content) &lt;br/&gt;
1.2 text/html (the html content) &lt;/p&gt;


&lt;p&gt;Example 3:&lt;br/&gt;
Generated by HtmlEmail. Contains parts: plaintext, html, embedded inline img, attach&lt;br/&gt;
PART#, MIME_TYPE, (COMMENTS) &lt;br/&gt;
1 multipart/related&lt;br/&gt;
1.1 multipart/alternative&lt;br/&gt;
1.1.1 text/plain (the plaintext content) &lt;br/&gt;
1.1.2 text/html (the html content with cid: references to embedded images) &lt;br/&gt;
1.2+ &lt;b&gt;/&lt;/b&gt; (attachment) &lt;br/&gt;
1.3+ image/* (embedded image, referenced by 1.1.2) &lt;/p&gt;

&lt;p&gt;should have been:&lt;br/&gt;
PART#, MIME_TYPE, (COMMENTS)&lt;br/&gt;
1. multipart/mixed&lt;br/&gt;
1.1 multipart/related&lt;br/&gt;
1.1.1 multipart/alternative&lt;br/&gt;
1.1.1.1 text/plain (the plaintext content)&lt;br/&gt;
1.1.1.2 text/html (the HTML content with cid: references to embedded images)&lt;br/&gt;
1.1.2+ image/* (embedded image, referenced by 1.1.1.2)&lt;br/&gt;
1.2+ &lt;b&gt;/&lt;/b&gt; (attachment)&lt;/p&gt;


&lt;p&gt;Example 4:&lt;br/&gt;
Generated by MultiPartEmail. Contains parts: plaintext&lt;br/&gt;
MultiPartEmail: plaintext&lt;br/&gt;
PART#, MIME_TYPE, (COMMENTS) &lt;br/&gt;
1 multipart/mixed (WRONG!)&lt;br/&gt;
1.1 text/plain (the plaintext content) &lt;/p&gt;

&lt;p&gt;should have been:&lt;br/&gt;
PART#, MIME_TYPE, (COMMENTS) &lt;br/&gt;
1 text/plain (the plaintext content) &lt;/p&gt;


&lt;p&gt;Example 5:&lt;br/&gt;
Generated by MultiPartEmail. Contains parts: plaintext, attach&lt;br/&gt;
PART#, MIME_TYPE, (COMMENTS) &lt;br/&gt;
1 multipart/mixed&lt;br/&gt;
1.1 text/plain (the plaintext content) &lt;br/&gt;
1.2+ &lt;b&gt;/&lt;/b&gt; (attachment)&lt;/p&gt;

&lt;p&gt;This one is well-structured!&lt;/p&gt;



&lt;p&gt;Conclusion:&lt;/p&gt;

&lt;p&gt;With regards to the automatically generated text/html part, based on the text/plain part, I concede that this is part of the API contract (specified in JavaDoc of HtmlEmail.setMsg(String) ), although I still believe that generating redundant data is silly.&lt;/p&gt;

&lt;p&gt;It is fairly easy to show email clients choking on the above MIME structures, one example being embedded images being displayed as attachments by virtually any clients.&lt;/p&gt;

&lt;p&gt;I agree that the current codebase is an improvement on version 1.0, but I think making the 1.1 release at this stage with MIME structures that violates even the most basic MIME recommendations (see examples above) would be wrong.&lt;/p&gt;

&lt;p&gt;One alternative possibility would be planning a version 1.2 with a (thoroughly tested) restructuring of the MIME generation.&lt;/p&gt;</comment>
                            <comment id="12480692" author="bens" created="Wed, 14 Mar 2007 08:48:01 +0000"  >&lt;p&gt;What clients, specifically, do you see choking? I&apos;ll take a closer look. Your MIME structures also look correct in the examples you give.&lt;/p&gt;

&lt;p&gt;Regarding a 1.1 release: when I started working on this, I noticed quickly that there were some design choices that I didn&apos;t agree with. For example, I&apos;m not particularly happy with the inheritance hierarchy; I see no reason for HtmlEmail to extend MultiPartEmail, since the former does not have an is-a relationship with the latter. However, I figured that it could be made to work in the current incarnation, and since there are already people using this library, maintaining the API contract and avoiding breaking changes wherever possible was the most important consideration. Unfortunately, this makes it tricky to address situations like this where the objectively best solution is to refactor.&lt;/p&gt;

&lt;p&gt;I hope it&apos;s easier to see where I&apos;m coming from now...&lt;/p&gt;

&lt;p&gt;In Examples 1 and 4, if you just want to send a plaintext email, then use SimpleEmail; that&apos;s what it&apos;s for. While you could certainly argue that HtmlEmail should know how to reshape its MIME structure to handle a plaintext email, you could also make the same argument that MultiPartEmail should know how to handle HTML text without attachments in the same way. And also for SimpleEmail to handle HTML text, and so on. Suddenly there are three classes that have the exact same functionality, so naturally you refactor them into one class or start abstracting out interfaces and concrete classes... but doing that breaks the API contract, and you&apos;re back to square one. &lt;/p&gt;

&lt;p&gt;The least evil solution I can see is getting the existing classes to work as well as possible while maintaining the contracts and then helping users to understand that they need to use the right class for the right task. To that end, it&apos;s probably a good idea to try to fix examples 2 and 3. I&apos;ll take a look this week and see what I can do.&lt;/p&gt;</comment>
                            <comment id="12480753" author="mortenhattesen" created="Wed, 14 Mar 2007 12:58:50 +0000"  >&lt;p&gt;I have a couple of comments...&lt;/p&gt;

&lt;p&gt;The API contract for HtmlEmail &lt;a href=&quot;http://jakarta.apache.org/commons/email/api-release/org/apache/commons/mail/HtmlEmail.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/commons/email/api-release/org/apache/commons/mail/HtmlEmail.html&lt;/a&gt; states that ...&lt;br/&gt;
&quot;Either the text or HTML can be omitted, in which case the &quot;main&quot; part of the multipart becomes whichever is supplied rather than a multipart/alternative.&quot;&lt;br/&gt;
... which is in violation with the currently generated MIME structure (see example 1), which builds a multipart/related container, even though no &quot;related&quot; (i.e. embedded inline) MIME parts are available.&lt;/p&gt;

&lt;p&gt;If HtmlEmail does not support generating messages with a single text/plain MIME part, by gracefully degrading to content resembling that generated by SimpleEmail/MultiPartEmail, then it should throw an IllegalStateException (possibly wrapped in an EmailException), rather than generating a fundamentally flawed MIME structure.&lt;/p&gt;

&lt;p&gt;With regards to my example 3, the argument is that the currently generated MIME structure, with attachments inside a multipart/related container does not follow MIME recommendations nor does it resemble the structure generated by other popular smtp clients. Attachments should be contained in a multipart/mixed container. &lt;br/&gt;
References:&lt;br/&gt;
+  multipart/mixed - &lt;a href=&quot;http://tools.ietf.org/html/rfc2046#section-5.1.3&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://tools.ietf.org/html/rfc2046#section-5.1.3&lt;/a&gt; &quot;The &quot;mixed&quot; subtype of &quot;multipart&quot; is intended for use when the body parts are independent and need to be bundled in a particular order.&quot;&lt;br/&gt;
+  multipart/related - &lt;a href=&quot;http://tools.ietf.org/html/rfc2387&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://tools.ietf.org/html/rfc2387&lt;/a&gt; &quot;The Multipart/Related content-type provides a common mechanism for representing objects that are aggregates of related MIME body parts.&quot;&lt;br/&gt;
My interpretation of the above standards is that multipart/related should be used for mail body with inline parts, which should be treated as a whole (compound), whereas multipart/mixed is used for parts which may be used in isolation (mail body and attachments). If we are forced to use only one MIME type for both situations, it should be multipart/mixed.&lt;/p&gt;

&lt;p&gt;I may not be able to provide concrete proof of email clients that will choke on the current MIME structure (although I will do my best to do so), but that should not be used as an excuse to continue to generate flawed MIME structure. I do, however recognise the need for thorough testing prior to any major change being made, as well as the &quot;if it ain&apos;t broke, don&apos;t fix it&quot; paradigm.&lt;/p&gt;


&lt;p&gt;My final argument is, that since the principal role of commons-email is to provide a simple API facade on top of the complex JavaMail API, it should always generate MIME structures that adapts to the actual contents. In other words, the client-programmer need not concern himself with having to choose a &quot;lesser&quot; Email subclass just because a certain email instance does not contain one of the allowed content types. In other words, I feel that the only reason not to always choose HtmlEmail to generate emails, is when the client programmer never requires facilities offered by HtmlEmail, and wishes a simpler API (MultiPartEmail or SimpleEmail).&lt;br/&gt;
If this structure should be reflected by the type hierarch of Email, the hierarchy should look like so:&lt;br/&gt;
Email (might as well be made abstract)&lt;br/&gt;
  +-- SimpleEmail&lt;br/&gt;
    +-- MultiPartEmail&lt;br/&gt;
      +-- HtmlEmail&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;mind you, to maintain API backwards compatability, I am in no way suggesting such a type hierarchy change for version 1.x&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I will be happy to contribute code, and/or testing effort on this issue, please let me know if I can be of any assistance.&lt;/p&gt;
</comment>
                            <comment id="12480765" author="mortenhattesen" created="Wed, 14 Mar 2007 13:34:14 +0000"  >&lt;p&gt;For a thorough (although non-authoritative) explanation of MIME multipart subtypes, see &lt;a href=&quot;http://en.wikipedia.org/wiki/Multipurpose_Internet_Mail_Extensions#Multipart_Subtypes&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Multipurpose_Internet_Mail_Extensions#Multipart_Subtypes&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="12521600" author="bens" created="Tue, 21 Aug 2007 21:30:36 +0000"  >&lt;p&gt;The current plan is to try to implement and test cases 2 and 3 above. Hopefully I&apos;ll get to it soon &amp;#8211; this is the last thing blocking a 1.1 release.&lt;/p&gt;</comment>
                            <comment id="12526936" author="bens" created="Wed, 12 Sep 2007 23:11:07 +0000"  >&lt;p&gt;I can&apos;t really do any of these cases without rewriting HtmlEmail and I really don&apos;t see the need to get this into 1.1. Pushing back to 2.0 for revisiting then.&lt;/p&gt;</comment>
                            <comment id="12536949" author="martinlau" created="Tue, 23 Oct 2007 09:14:13 +0000"  >&lt;p&gt;I&apos;m pretty sure I&apos;m jumping the gun here and I shouldn&apos;t be posting this here, but after a morning with Google searches I&apos;ve been unable to find any real solution for the messed up mime types.&lt;/p&gt;

&lt;p&gt;So, my afternoon has been spent writing something that at least fixes the issues I&apos;ve been facing with the MIME types mentioned above. As far as I can tell, my abuse of the standard HtmlEmail class should work for variations of:&lt;/p&gt;

&lt;p&gt;    text + html + attachment + inline &lt;a href=&quot;#3&quot;&gt;Example #3&lt;/a&gt;&lt;br/&gt;
    text + html + attachment &lt;br/&gt;
    text + html + inline&lt;br/&gt;
    text + html &lt;a href=&quot;#2&quot;&gt;Example #2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The only significant changes are in the build() method, but I&apos;m still pretty sure I would&apos;ve broken something else (time limitations mean I can&apos;t really give it a good going over - it works for my use cases), but this might help someone else who has the same problem...&lt;/p&gt;</comment>
                            <comment id="12651738" author="nmccloud" created="Sat, 29 Nov 2008 18:11:11 +0000"  >&lt;p&gt;Since this has not been solved, I was wondering if I could put forth some code for evaluation and feedback.  Martin is right, only the build() method in HtmlEmail must be fixed to properly handle text/html, inline images, and attachments.  The quick solution would be to rewrite it so that the multiparts look something like this:&lt;/p&gt;

&lt;p&gt;Content-Type: multipart/mixed; boundary=&quot;attachment&quot;&lt;/p&gt;

&lt;p&gt;--attachment&lt;br/&gt;
Content-Type: multipart/related; boundary=&quot;html-inline&quot;&lt;/p&gt;

&lt;p&gt;--html-inline&lt;br/&gt;
Content-Type: multipart/alternative; boundary=&quot;text-andor-html&quot;&lt;/p&gt;

&lt;p&gt;--text-andor-html&lt;br/&gt;
Content-Type: text/plain;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Textual representation of message&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;--text-andor-html&lt;br/&gt;
Content-Type: text/html;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;HTML representation of message with inline images&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;-&lt;del&gt;text-andor-html&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;--html-inline&lt;br/&gt;
Content-Type: image/jpeg; &lt;br/&gt;
Content-ID: image1&lt;/p&gt;

&lt;p&gt;--html-inline&lt;br/&gt;
Content-Type: image/jpeg; &lt;br/&gt;
Content-ID: imageN&lt;/p&gt;

&lt;p&gt;-&lt;del&gt;html-inline&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;--attachment&lt;/p&gt;

&lt;p&gt;Content-Type: &lt;span class=&quot;error&quot;&gt;&amp;#91;some type&amp;#93;&lt;/span&gt;; name=file1.zip&lt;/p&gt;

&lt;p&gt;--attachment&lt;/p&gt;

&lt;p&gt;Content-Type: &lt;span class=&quot;error&quot;&gt;&amp;#91;some type&amp;#93;&lt;/span&gt;; name=fileN.zip&lt;/p&gt;

&lt;p&gt;-&lt;del&gt;attachment&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;Ken&lt;/p&gt;

&lt;p&gt;See the HtmlEmail.java attachment&lt;/p&gt;</comment>
                            <comment id="12657583" author="sgoeschl" created="Wed, 17 Dec 2008 22:18:05 +0000"  >&lt;p&gt;Kenneth, I&apos;m currently integrating your patch .... do you have some more regression tests by accident?&lt;/p&gt;</comment>
                            <comment id="12659552" author="sgoeschl" created="Mon, 29 Dec 2008 14:55:37 +0000"  >&lt;p&gt;Moved to 1.2 release&lt;/p&gt;</comment>
                            <comment id="12659592" author="sgoeschl" created="Mon, 29 Dec 2008 17:47:17 +0000"  >&lt;p&gt;Used Kenneth&apos;s implementation of HtmlEmail.buildMimeMessage() and did some field testing (Outlook, Outlook WebAccess, GMX WebMail, Apple Mail, Thunderbird) - it looks good. The other guys are much more knowledgeable regarding mail spec ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ... so I hope this solves the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12368203" name="CustomHtmlEmail.java" size="14306" author="martinlau" created="Tue, 23 Oct 2007 09:14:13 +0000"/>
                            <attachment id="12394933" name="HtmlEmail.java" size="24315" author="nmccloud" created="Sat, 29 Nov 2008 18:11:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Mar 2007 19:20:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vm6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-62] [email] Build patches to enforce source 1.4 and target 1.4 when compiling</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-62</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Maven and Ant patches. Ant patch suppresses spurious 1.5 type safety warnings when building commons-email on JDK &amp;gt;= 1.5.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12362246">EMAIL-62</key>
            <summary>[email] Build patches to enforce source 1.4 and target 1.4 when compiling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bens">Ben Speakmon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Feb 2007 20:43:26 +0000</created>
                <updated>Sat, 23 Oct 2010 22:20:00 +0000</updated>
                            <resolved>Thu, 22 Feb 2007 23:27:36 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12471462" author="bens" created="Thu, 8 Feb 2007 19:39:25 +0000"  >&lt;p&gt;Changing summary since I&apos;m about to attach another patch to enforce 1.4 source/target in the Maven build...&lt;/p&gt;</comment>
                            <comment id="12471463" author="bens" created="Thu, 8 Feb 2007 19:40:55 +0000"  >&lt;p&gt;Oops. Maybe I&apos;ll attach the patch instead of the whole file. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12472428" author="diongillard" created="Mon, 12 Feb 2007 21:40:35 +0000"  >&lt;p&gt;So this means that commons-email is now JDK 1.4+.&lt;/p&gt;

&lt;p&gt;Has anyone surveyed the users and seen if we still have any on 1.3 that can&apos;t stay on email 1.0?&lt;/p&gt;</comment>
                            <comment id="12472592" author="ottuzzi@gmail.com" created="Tue, 13 Feb 2007 09:34:31 +0000"  >&lt;p&gt;Hi Dion, all,&lt;/p&gt;

&lt;p&gt;commons-email 1.0 is quite broken and I think we need to move forward and release something working: the actual version has many problems and holding on a release for a JDK1.3 compatibility it seems overkill to me.&lt;/p&gt;

&lt;p&gt;Just my idea...&lt;br/&gt;
Bye&lt;br/&gt;
Piero&lt;/p&gt;</comment>
                            <comment id="12472839" author="bens" created="Tue, 13 Feb 2007 19:22:12 +0000"  >&lt;p&gt;I&apos;m with Dion 100% on meeting the needs of users, but as I said on the list, I consider the benefits of using 1.4 &amp;#8211; allowing us to use the latest javamail/activation versions, much better charset support, etc. &amp;#8211; outweigh the new dependencies. It&apos;s better than asking users to stick with the known bugs of javamail 1.3.1 and being forced to reimplement the charset code in 1.3 when the majority of people using it are on at least 1.4.&lt;/p&gt;

&lt;p&gt;It&apos;s not my project, though, and if 1.4 is unacceptable for some other reason, we&apos;ll think of something clever. As Piero says, the important thing is to get fixes out for what&apos;s not working.&lt;/p&gt;</comment>
                            <comment id="12472986" author="diongillard" created="Wed, 14 Feb 2007 05:09:43 +0000"  >&lt;p&gt;Does anyone know why we&apos;re patching a Maven-generated build.xml file instead of just regenerating it?&lt;/p&gt;

&lt;p&gt;Doesn&apos;t the maven ant plugin generate a build file with the correct javac task attributes?&lt;/p&gt;</comment>
                            <comment id="12472996" author="bens" created="Wed, 14 Feb 2007 06:30:13 +0000"  >&lt;p&gt;I didn&apos;t know how to generate a build.xml from maven at the time. I have no idea if it would work given a correct project (or pom). &lt;/p&gt;

&lt;p&gt;I have zero objection to regenerating it.&lt;/p&gt;</comment>
                            <comment id="12474625" author="bayard" created="Wed, 21 Feb 2007 01:26:09 +0000"  >&lt;p&gt;It doesn&apos;t seem to get included. I changed the project.properties to 1.4 target, and ran maven ant. There&apos;s no occurrence of 1.4 or maven.compile.source in the build.xml.&lt;/p&gt;

&lt;p&gt;Personally - I think the build.xml should be removed, it only has value when we were trying to build 1.3 specific builds.&lt;/p&gt;</comment>
                            <comment id="12475195" author="diongillard" created="Thu, 22 Feb 2007 23:27:36 +0000"  >&lt;p&gt;Patches applied - thanks guys!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12350591" name="build.xml.patch" size="1165" author="bens" created="Wed, 7 Feb 2007 20:44:16 +0000"/>
                            <attachment id="12350692" name="project.properties" size="2799" author="bens" created="Thu, 8 Feb 2007 19:39:41 +0000"/>
                            <attachment id="12350693" name="project.properties.patch" size="753" author="bens" created="Thu, 8 Feb 2007 19:40:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 12 Feb 2007 21:40:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44592</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vls7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182502</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-61] [email] Fixed build.xml</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-61</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I&apos;m attaching a patch to the current build.xml which does the following:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;synchronizes the dependency versions to those in project.xml&lt;/li&gt;
	&lt;li&gt;enforces JDK 1.3 as the source and target version for javac&lt;/li&gt;
	&lt;li&gt;changes the generated jar file to commons-email-1.1-SNAPSHOT.jar, which is what project.xml uses&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With these changes, it&apos;s now possible to compile, package, and run all existing junit tests from ant (all of which pass &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12359159">EMAIL-61</key>
            <summary>[email] Fixed build.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bens">Ben Speakmon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Dec 2006 22:46:35 +0000</created>
                <updated>Thu, 21 Dec 2006 07:49:16 +0000</updated>
                            <resolved>Thu, 21 Dec 2006 07:49:16 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12460174" author="bayard" created="Thu, 21 Dec 2006 07:49:16 +0000"  >&lt;p&gt;svn ci -m &quot;Applying patch from Ben Speakmon (#&lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-61&quot; title=&quot;[email] Fixed build.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-61&quot;&gt;&lt;del&gt;EMAIL-61&lt;/del&gt;&lt;/a&gt;), bringing the build.xml up to date with the project.xml&quot; build.xml &lt;/p&gt;

&lt;p&gt;Sending        build.xml&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 489278.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12347616" name="build.patch" size="5147" author="bens" created="Wed, 20 Dec 2006 22:47:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Dec 2006 07:49:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vl6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182406</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-43] [email] updates to tests, etc.</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-43</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;here is the updated tests.&lt;/p&gt;

&lt;p&gt;I think I have finally conquered dumbster.  (Basically the problem was waiting &lt;br/&gt;
for the dumbster thread to start up properly)&lt;/p&gt;

&lt;p&gt;There are a few other issues, style complaints, etc. changed as well.&lt;/p&gt;

&lt;p&gt;I have tested applying it, and it ran fine.&lt;/p&gt;

&lt;p&gt;Any problems please let me know.&lt;/p&gt;

&lt;p&gt;PS.  If we are all happy with this, then I will add futher validation of the &lt;br/&gt;
sent emails as we have previously discussed.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341843">EMAIL-43</key>
            <summary>[email] updates to tests, etc.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="corsc">Corey Scott</reporter>
                        <labels>
                    </labels>
                <created>Sat, 30 Oct 2004 00:55:08 +0000</created>
                <updated>Sat, 23 Oct 2010 22:19:51 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:19:51 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407919" author="corsc" created="Sat, 30 Oct 2004 00:55:40 +0000"  >&lt;p&gt;Created an attachment (id=13263)&lt;br/&gt;
pls see bug desc&lt;/p&gt;</comment>
                            <comment id="12407920" author="dep4b" created="Mon, 1 Nov 2004 21:52:01 +0000"  >&lt;p&gt;Ok, I realized half the patch issues are the weird non unicode formatted&lt;br/&gt;
characters in the array.  I could apply everything but that!  In the future,&lt;br/&gt;
send me that directly in an email, maybe that way will apply better?  Not sure...&lt;/p&gt;

&lt;p&gt;At any rate, everything went in.  I am down to two errors, which are related to&lt;br/&gt;
the aforementioned issue.  Check it out!&lt;/p&gt;</comment>
                            <comment id="12407921" author="corsc" created="Tue, 2 Nov 2004 15:56:07 +0000"  >&lt;p&gt;Created an attachment (id=13303)&lt;br/&gt;
new patch, includes missing pieces from previous and extended tests for testing receved email contents&lt;/p&gt;</comment>
                            <comment id="12407922" author="corsc" created="Tue, 2 Nov 2004 15:58:35 +0000"  >&lt;p&gt;last patch should get us down to 8 checkstyle complaints, I dont know what to &lt;br/&gt;
do with these, any ideas?&lt;/p&gt;

&lt;p&gt;all unicode issues should be resolved.  &lt;br/&gt;
the dumbster start up problem, part of &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-17&quot; title=&quot;[email] dumpster bogus smtp server fails on tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-17&quot;&gt;&lt;del&gt;COM-1693&lt;/del&gt;&lt;/a&gt; is still not resolved, the &lt;br/&gt;
other 2 errors should be fixed by this patch and the previous one.&lt;/p&gt;</comment>
                            <comment id="12407923" author="dep4b" created="Tue, 2 Nov 2004 19:12:43 +0000"  >&lt;p&gt;Heck yeah!  It all worked.   It is clearly the unicode problem messing up all&lt;br/&gt;
the patches!   Now that you changed the characters used, I think we are beyond&lt;br/&gt;
that.  If we aren&apos;t, then I will move those characters to a seperate Interface.  &lt;/p&gt;

&lt;p&gt;Very happy to report every test passed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333203" name="ASF.LICENSE.NOT.GRANTED--patch_all.txt" size="62305" author="corsc" created="Sat, 30 Oct 2004 00:55:40 +0000"/>
                            <attachment id="12333204" name="ASF.LICENSE.NOT.GRANTED--patch_extended_tests.txt" size="33407" author="corsc" created="Tue, 2 Nov 2004 15:56:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Nov 2004 21:52:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vm27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182547</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-42] [email] All exceptions seem to be thrown as messagingExceptions</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-42</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Pretty much all the exceptions are thrown as newly constructed messagingExceptions. &lt;/p&gt;

&lt;p&gt;Not sure what to do about this, but having an AddressException or other exception thrown by the &lt;br/&gt;
javamail itself would be argueably useful. &lt;/p&gt;

&lt;p&gt;Throwing unsupported char set when setting charset would be better than waiting unit other setters are &lt;br/&gt;
called for example. &lt;/p&gt;

&lt;p&gt;Anyone know if there&apos;s a general preference to throw JavaMail exceptions or have commons email &lt;br/&gt;
implement its own?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341856">EMAIL-42</key>
            <summary>[email] All exceptions seem to be thrown as messagingExceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark.lowe@boxstuff.com">Mark Lowe</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Nov 2004 02:49:50 +0000</created>
                <updated>Sat, 23 Oct 2010 22:19:51 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:19:51 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407967" author="mark.lowe@boxstuff.com" created="Sun, 7 Nov 2004 04:19:00 +0000"  >&lt;p&gt;Created an attachment (id=13346)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;emai&amp;#93;&lt;/span&gt; addTo, setFrom, addReplyto, addCc and addBcc throws AddressException&lt;/p&gt;</comment>
                            <comment id="12407968" author="mark.lowe@boxstuff.com" created="Sun, 7 Nov 2004 04:20:30 +0000"  >&lt;p&gt;Created an attachment (id=13347)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; changed to test cases to prove the correct exceptions patch works&lt;/p&gt;</comment>
                            <comment id="12407969" author="corsc" created="Sun, 7 Nov 2004 13:21:16 +0000"  >&lt;p&gt;I think you might find that the Unsupport charset exception is not thrown &lt;br/&gt;
until a bad charset is used in the setter.  I am pretty sure that the only &lt;br/&gt;
set/Add address methods throw this exception and it doesnt seem to have much &lt;br/&gt;
to do with the setCharset operations&lt;/p&gt;</comment>
                            <comment id="12407970" author="dep4b" created="Mon, 15 Nov 2004 02:29:59 +0000"  >&lt;p&gt;Interesting..  I like the addressexception idea.  However, I don&apos;t like that&lt;br/&gt;
adding this starts causing us to throw UnsupportedEncodingException everywhere.&lt;br/&gt;
 The idea of commons-email is to hide the details.&lt;/p&gt;

&lt;p&gt;What do you think of introcucing an org.apache.commons.email.EmailException and&lt;br/&gt;
AddressException extending EmailException?  EmailException could extend&lt;br/&gt;
NestableException, and then anything we need would be put in there.  Regardless&lt;br/&gt;
of wether its an javax.mail.internet.AddressException,&lt;br/&gt;
javax.mail.MessagingException, or UnsupportedEncodingException.  &lt;/p&gt;

&lt;p&gt;If you care about what the underlying exception is, then you can dig it out of&lt;br/&gt;
the  NestableException.  Really, the only exceptions I can see most users&lt;br/&gt;
wanting are 1) a bad addresss, 2) some sort of smtp error.  and you could just&lt;br/&gt;
througw EmailException, and then dig the details out if you cared from there..&lt;/p&gt;

&lt;p&gt;ERic&lt;/p&gt;</comment>
                            <comment id="12407971" author="mark.lowe@boxstuff.com" created="Mon, 29 Nov 2004 22:59:16 +0000"  >&lt;p&gt;Created an attachment (id=13577)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; EmailException src file. &lt;/p&gt;</comment>
                            <comment id="12407972" author="mark.lowe@boxstuff.com" created="Mon, 29 Nov 2004 23:01:07 +0000"  >&lt;p&gt;Created an attachment (id=13578)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; Email class that throws EmailException. &lt;/p&gt;</comment>
                            <comment id="12407973" author="mark.lowe@boxstuff.com" created="Mon, 29 Nov 2004 23:02:43 +0000"  >&lt;p&gt;Created an attachment (id=13579)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; EmailExceptionTest class&lt;/p&gt;</comment>
                            <comment id="12407974" author="mark.lowe@boxstuff.com" created="Mon, 29 Nov 2004 23:08:18 +0000"  >&lt;p&gt;Created an attachment (id=13580)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; tests with try catches not to test for MessagingException&lt;/p&gt;

&lt;p&gt;IMHO having tests that test functionlity should throw exception, and exception&lt;br/&gt;
test in a specialised test case. Not because this is a matter of style, but&lt;br/&gt;
because it doesn&apos;t create a maintaince nightmare. Adding a new exception to the&lt;br/&gt;
package shouldn&apos;t involve addressing a zillion build errors in the standard&lt;br/&gt;
test cases. &lt;/p&gt;</comment>
                            <comment id="12407975" author="dep4b" created="Tue, 30 Nov 2004 02:44:22 +0000"  >&lt;p&gt;All applied.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333219" name="ASF.LICENSE.NOT.GRANTED--EmailException.java" size="1091" author="mark.lowe@boxstuff.com" created="Mon, 29 Nov 2004 22:59:16 +0000"/>
                            <attachment id="12333221" name="ASF.LICENSE.NOT.GRANTED--EmailExceptionTest.java" size="3415" author="mark.lowe@boxstuff.com" created="Mon, 29 Nov 2004 23:02:43 +0000"/>
                            <attachment id="12333220" name="ASF.LICENSE.NOT.GRANTED--Using_EmailException.patch" size="11789" author="mark.lowe@boxstuff.com" created="Mon, 29 Nov 2004 23:01:07 +0000"/>
                            <attachment id="12333218" name="ASF.LICENSE.NOT.GRANTED--correct-exceptions-with-tests.patch" size="125441" author="mark.lowe@boxstuff.com" created="Sun, 7 Nov 2004 04:20:30 +0000"/>
                            <attachment id="12333217" name="ASF.LICENSE.NOT.GRANTED--correct-exceptions.patch" size="11374" author="mark.lowe@boxstuff.com" created="Sun, 7 Nov 2004 04:19:00 +0000"/>
                            <attachment id="12333222" name="ASF.LICENSE.NOT.GRANTED--fixed_tests_emailexception.patch" size="17944" author="mark.lowe@boxstuff.com" created="Mon, 29 Nov 2004 23:08:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 7 Nov 2004 13:21:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vld3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-41] [email] Problems with GUMP builds and other tests during compile</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-41</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I have noticed some people have been experiencing problems with &lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt;&apos;s &lt;br/&gt;
tests when compiling. And there has been some GUMP issues as well.&lt;/p&gt;

&lt;p&gt;Unfortunately I have not been able to replicate these problems.&lt;br/&gt;
Can anyone please explain to me any problems you have been having so we can &lt;br/&gt;
get them fixed for you?&lt;br/&gt;
Thanks.&lt;/p&gt;

&lt;p&gt;PS.  Please make sure you have upgraded your Dumbster to v1.5 before replying &lt;br/&gt;
to this message&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342069">EMAIL-41</key>
            <summary>[email] Problems with GUMP builds and other tests during compile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="corsc">Corey Scott</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Feb 2005 18:23:33 +0000</created>
                <updated>Sat, 23 Oct 2010 22:19:50 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:19:50 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408762" author="dep4b" created="Fri, 25 Feb 2005 09:47:59 +0000"  >&lt;p&gt;Not sure about this bug..  There was an issue with Dumbster making the method&lt;br/&gt;
isStopped private, which broke Gump, but I talked to the developer and he made&lt;br/&gt;
isStopped public again, and now Gump builds Dumbster.&lt;/p&gt;</comment>
                            <comment id="12408763" author="dep4b" created="Fri, 25 Feb 2005 09:51:44 +0000"  >&lt;p&gt;I have checked and it looks like the issues with the nightlies have been fixed:&lt;br/&gt;
&lt;a href=&quot;http://cvs.apache.org/builds/jakarta-commons/nightly/commons-email/?C=M;O=D&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cvs.apache.org/builds/jakarta-commons/nightly/commons-email/?C=M;O=D&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;I also checked GUMP, and that looks good as well:&lt;br/&gt;
&lt;a href=&quot;http://brutus.apache.org/gump/public/jakarta-commons/commons-email/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://brutus.apache.org/gump/public/jakarta-commons/commons-email/index.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I am going to close this for now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Feb 2005 09:47:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56915</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182537</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-40] [email] HtmlEmail chopping off the end of the document</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-40</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;This is a bizarre one. If I &lt;/p&gt;

&lt;p&gt;HtmlEmail email = new HtmlEmail();&lt;br/&gt;
email.setHtmlMsg(&quot;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;\n&amp;lt;p&amp;gt;\u0093hello\u0094&amp;lt;/p&amp;gt;\n&quot; +&lt;br/&gt;
&quot;customerz and offers a wide range of financial products across lending &lt;br/&gt;
(e.g.\n&quot; +&lt;br/&gt;
&quot;credit cards and personal loans), savings (e.g. deposits, investments).\n&quot; +&lt;br/&gt;
&quot;&amp;lt;/body&amp;gt;&quot; +&lt;br/&gt;
&quot;&amp;lt;/html&amp;gt;&quot;);&lt;/p&gt;

&lt;p&gt;Then everything after the first &quot;(e.g&quot; is not sent to my email! Why is this?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341339">EMAIL-40</key>
            <summary>[email] HtmlEmail chopping off the end of the document</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kane.marshall@waymaker.co.uk">Kane Marshall</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Mar 2004 18:19:55 +0000</created>
                <updated>Sat, 23 Oct 2010 22:19:50 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:19:50 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406246" author="dep4b" created="Mon, 25 Oct 2004 00:51:32 +0000"  >&lt;p&gt;Not sure about this issue..  However, could be something about the \n in the&lt;br/&gt;
text?  Could you supply a unit test demonstrating this?&lt;/p&gt;
</comment>
                            <comment id="12406247" author="dep4b" created="Wed, 27 Oct 2004 17:16:20 +0000"  >&lt;p&gt;I am going to close this as it&apos;s pretty old.  Please reopen if this bug persists&lt;br/&gt;
with the latest and greatest.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27699</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Oct 2004 00:51:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56916</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vncv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182757</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-39] [email] Style only changes</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-39</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;There were inconsistencies in the style (a lot caused by my unit &lt;br/&gt;
tests...sorry).  All changes provided are style only no functionality changes.&lt;/p&gt;

&lt;p&gt;The style applied is Turbine (as much as possible)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341830">EMAIL-39</key>
            <summary>[email] Style only changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="corsc">Corey Scott</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Oct 2004 22:18:21 +0000</created>
                <updated>Sat, 23 Oct 2010 22:19:49 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:19:49 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407870" author="corsc" created="Mon, 25 Oct 2004 22:19:08 +0000"  >&lt;p&gt;Created an attachment (id=13214)&lt;br/&gt;
style only changes (deprecated class have been ignored)&lt;/p&gt;</comment>
                            <comment id="12407871" author="corsc" created="Mon, 25 Oct 2004 22:21:07 +0000"  >&lt;p&gt;Created an attachment (id=13215)&lt;br/&gt;
Incase anyone else uses eclipse and wants the style file (and doesnt already have one, here it is)&lt;/p&gt;</comment>
                            <comment id="12407872" author="dep4b" created="Mon, 25 Oct 2004 23:22:03 +0000"  >&lt;p&gt;I just want to reconfirm that this is the standard &quot;sun&quot; format?  And, have you&lt;br/&gt;
tried to run the checkstyle report?  I just reactivated it..  It should report&lt;br/&gt;
no results too...&lt;/p&gt;</comment>
                            <comment id="12407873" author="dep4b" created="Mon, 25 Oct 2004 23:24:05 +0000"  >&lt;p&gt;also, not sure you did it quite against CVS HEAD.  Most applies, but not all!&lt;/p&gt;</comment>
                            <comment id="12407874" author="dep4b" created="Mon, 25 Oct 2004 23:34:49 +0000"  >&lt;p&gt;Okay, I committed what applied.   From 800 and some odd errors to 300 and some odd!&lt;/p&gt;</comment>
                            <comment id="12407875" author="corsc" created="Tue, 26 Oct 2004 00:18:53 +0000"  >&lt;p&gt;I checkout against the HEAD and then applied the changes.&lt;/p&gt;

&lt;p&gt;I didnt use the Sun style, I used the Turbine style as stated in the previous &lt;br/&gt;
message.  I also have attached to this bug a style document for checkstyle for &lt;br/&gt;
the Turbine standard.  There should only be about 20 odd violations, I am &lt;br/&gt;
happy to change these as well but some changes will amount to &apos;refactoring&apos; &lt;br/&gt;
small chunks of code.  &lt;br/&gt;
There is one that concerns the amount of params to a method (max 7 says the &lt;br/&gt;
checker), I am not sure what to do about this.&lt;br/&gt;
There is another that is a line longer than 80 chars, this one I cant find &lt;br/&gt;
anyway to reformat as its a CVS header (i think)&lt;/p&gt;

&lt;p&gt;Please let me know what more you would like to do to get us to where we need &lt;br/&gt;
to be.  Thanks&lt;/p&gt;</comment>
                            <comment id="12407876" author="corsc" created="Wed, 27 Oct 2004 01:31:43 +0000"  >&lt;p&gt;Created an attachment (id=13224)&lt;br/&gt;
style only changes for deprecated class ByteArrayDataSouce&lt;/p&gt;</comment>
                            <comment id="12407877" author="corsc" created="Wed, 27 Oct 2004 01:32:10 +0000"  >&lt;p&gt;Changes for last attachment (10/26/04 18:31)&lt;br/&gt;
ByteArrayDataSource&lt;br/&gt;
---------------------&lt;br/&gt;
-Minor style changes&lt;br/&gt;
-Removed redunant try/catch blocks from:&lt;br/&gt;
	byteArrayDataSource(InputStream aIs, String aType)&lt;br/&gt;
	ByteArrayDataSource(byte[] data, String aType)&lt;br/&gt;
	ByteArrayDataSource(String data, String aType)&lt;br/&gt;
-Changed the empty catch (UnsupportedEncodingException uex),&lt;br/&gt;
which is an coding style violation, to throw an IOException&lt;br/&gt;
-Changed the line &quot;byte[] buffer = new byte&lt;span class=&quot;error&quot;&gt;&amp;#91;512&amp;#93;&lt;/span&gt;;&quot;&lt;br/&gt;
in byteArrayDataSource(InputStream aIs, String aType) to a static property&lt;br/&gt;
again to conform to the coding style&lt;/p&gt;</comment>
                            <comment id="12407878" author="dep4b" created="Wed, 27 Oct 2004 17:14:50 +0000"  >&lt;p&gt;Corey,  I think I had previously applied this patch for ByteArrayDataSource.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333189" name="ASF.LICENSE.NOT.GRANTED--ApacheTurbineCheckStyle.xml" size="10015" author="corsc" created="Mon, 25 Oct 2004 22:21:07 +0000"/>
                            <attachment id="12333188" name="ASF.LICENSE.NOT.GRANTED--style_only_patch.txt" size="109135" author="corsc" created="Mon, 25 Oct 2004 22:19:08 +0000"/>
                            <attachment id="12333190" name="ASF.LICENSE.NOT.GRANTED--style_only_patch_for_ByteArrayDataSouce.txt" size="7078" author="corsc" created="Wed, 27 Oct 2004 01:31:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31881</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Oct 2004 23:22:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56917</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vl8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-38] [Email] Add Email to Component List in Bugzilla</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-38</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;As email has now moved to Commons proper, can someone with the appropriate &lt;br/&gt;
access please add it to the component list here in bugzilla?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341903">EMAIL-38</key>
            <summary>[Email] Add Email to Component List in Bugzilla</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="corsc">Corey Scott</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Nov 2004 21:51:29 +0000</created>
                <updated>Sat, 23 Oct 2010 22:19:49 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:19:49 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32446</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56918</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vl93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-37] [email] commons-email does not work using mailSession in tomcat</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-37</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;If you provide a mailSession in tomcat you cannot send email using&lt;br/&gt;
commons-email: the problem is mainly caused by typos or missing constant&lt;br/&gt;
declaration.&lt;br/&gt;
The attached patch fixes these problems.&lt;/p&gt;

&lt;p&gt;Bye&lt;br/&gt;
Piero&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342913">EMAIL-37</key>
            <summary>[email] commons-email does not work using mailSession in tomcat</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ottuzzi@gmail.com">Piero Ottuzzi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Feb 2006 21:52:34 +0000</created>
                <updated>Sat, 23 Oct 2010 22:19:49 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:19:49 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411431" author="ottuzzi@gmail.com" created="Wed, 15 Feb 2006 21:53:09 +0000"  >&lt;p&gt;Created an attachment (id=17702)&lt;br/&gt;
Patch to fix the bug&lt;/p&gt;</comment>
                            <comment id="12411432" author="diongillard" created="Thu, 16 Feb 2006 06:53:27 +0000"  >&lt;p&gt;Fixed in SVN.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12334029" name="ASF.LICENSE.NOT.GRANTED--Email-MailSession.java.patch" size="2663" author="ottuzzi@gmail.com" created="Wed, 15 Feb 2006 21:53:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Feb 2006 06:53:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56919</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vltr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182509</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-36] [email] exception testing in unit test better in a ExceptionTestCase</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-36</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Most of the existing test methods use try catches to test exceptions. &lt;/p&gt;

&lt;p&gt;I&apos;m attatching an initial ExceptionTestCase to have exceptions cases added, before i submit a patch for &lt;br/&gt;
the rest of the test cases that does nothing more that tidy Corey&apos;s test cases up.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341854">EMAIL-36</key>
            <summary>[email] exception testing in unit test better in a ExceptionTestCase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark.lowe@boxstuff.com">Mark Lowe</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Nov 2004 23:04:35 +0000</created>
                <updated>Sat, 23 Oct 2010 22:19:48 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:19:48 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407958" author="mark.lowe@boxstuff.com" created="Sat, 6 Nov 2004 23:05:17 +0000"  >&lt;p&gt;Created an attachment (id=13344)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; see description&lt;/p&gt;</comment>
                            <comment id="12407959" author="dep4b" created="Mon, 15 Nov 2004 02:12:19 +0000"  >&lt;p&gt;Shouldn&apos;t this then be asserting the comments of the exception?  &lt;/p&gt;</comment>
                            <comment id="12407960" author="mark.lowe@boxstuff.com" created="Mon, 15 Nov 2004 02:14:55 +0000"  >&lt;p&gt;What do you mean?&lt;/p&gt;

&lt;p&gt;I just moved exception testing into a specialsed test for doing so.. Tell me what you need and i&apos;ll &lt;br/&gt;
submit it. &lt;/p&gt;</comment>
                            <comment id="12407961" author="corsc" created="Sun, 28 Nov 2004 21:15:49 +0000"  >&lt;p&gt;I am sorry, but I do not see what value this approach brings. Other than IMHO &lt;br/&gt;
making it harder to locate the test that relate to a particular class/method.&lt;/p&gt;

&lt;p&gt;I am happy to hear if this is wrong, if so, then can we please get this &lt;br/&gt;
finished and applied?&lt;/p&gt;</comment>
                            <comment id="12407962" author="mark.lowe@boxstuff.com" created="Sun, 28 Nov 2004 23:40:17 +0000"  >&lt;p&gt;It provides no advantage in terms of output but separates the exception testing from testing the &lt;br/&gt;
functionality of the componant being tested. Just a house keeping exercise, the value it would bring &lt;br/&gt;
would merely be new patches can be submitted and the submitter knows where to put the exception &lt;br/&gt;
test. Surely it no that hard to understand. &lt;/p&gt;
</comment>
                            <comment id="12407963" author="corsc" created="Sun, 28 Nov 2004 23:46:56 +0000"  >&lt;p&gt;Its not an issue of understanding, its just our different styles and &lt;br/&gt;
preferences &apos;butting heads&apos; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333214" name="ASF.LICENSE.NOT.GRANTED--EmailExceptionTest.java" size="1678" author="mark.lowe@boxstuff.com" created="Sat, 6 Nov 2004 23:05:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 15 Nov 2004 02:12:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56920</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vn13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-35] [email] Embedding raw DataSource Attachments</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-35</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I kick myself for not submitting this prior to 1.0.  An important feature&lt;br/&gt;
missing from org.apache.commons.mail.HtmlEmail is the ability to embed an&lt;br/&gt;
arbitrary DataSource object.  The current API only allows you to embed from a&lt;br/&gt;
URL.  My usage of CommonsEmail often includes the generation of image data&lt;br/&gt;
on-the-fly, where it does not exist at a pre-defined URL.  &lt;/p&gt;

&lt;p&gt;I propose the addition of a key method:&lt;/p&gt;

&lt;p&gt;public String embed(DataSource datasource, String name, String cid) throws&lt;br/&gt;
EmailException&lt;/p&gt;

&lt;p&gt;This will allow us to attach our own datasources in addition to defining our own&lt;br/&gt;
content-ids.  Helper methods can be created to auto-generate CIDs when needed&lt;br/&gt;
and allow for backwards compatability.  I&apos;ve found that being able to provide my&lt;br/&gt;
own defined CIDs has been very helpful in referencing them in my velocity email&lt;br/&gt;
templates.&lt;/p&gt;

&lt;p&gt;I will attach the current EnhancedHtmlEmail class that I have been using for a&lt;br/&gt;
year or so.  It extends HtmlEmail to provide the methods explained above.  I&lt;br/&gt;
would hope to have this capability introduced into the HtmlEmail class.&lt;/p&gt;

&lt;p&gt;Feel free to contact me to discuss further!  Thanks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342585">EMAIL-35</key>
            <summary>[email] Embedding raw DataSource Attachments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bens">Ben Speakmon</assignee>
                                    <reporter username="wolfeb@mitre.org">Brandon Wolfe</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Sep 2005 23:07:01 +0000</created>
                <updated>Sat, 9 Jun 2007 23:48:56 +0000</updated>
                            <resolved>Sat, 9 Jun 2007 23:48:56 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12410484" author="wolfeb@mitre.org" created="Wed, 28 Sep 2005 23:09:55 +0000"  >&lt;p&gt;Created an attachment (id=16543)&lt;br/&gt;
Proposed enhancement methods for HtmlEmail class.  Integrate into the API...&lt;/p&gt;</comment>
                            <comment id="12410485" author="diongillard" created="Sun, 12 Feb 2006 20:38:48 +0000"  >&lt;p&gt;This requires an extra dependency on commons-lang which I&apos;d prefer not to have,&lt;br/&gt;
if possible.&lt;/p&gt;

&lt;p&gt;Got another simpler way of getting the cid?&lt;/p&gt;</comment>
                            <comment id="12410486" author="ottuzzi@gmail.com" created="Mon, 13 Feb 2006 20:58:18 +0000"  >&lt;p&gt;(In reply to comment #2)&lt;br/&gt;
&amp;gt; This requires an extra dependency on commons-lang which I&apos;d prefer not to have,&lt;br/&gt;
&amp;gt; if possible.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Got another simpler way of getting the cid?&lt;/p&gt;

&lt;p&gt;You can use EmailUtils.randomAlphabetic() to get what you are looking for.&lt;/p&gt;</comment>
                            <comment id="12461874" author="bens" created="Wed, 3 Jan 2007 00:19:55 +0000"  >&lt;p&gt;I&apos;m attaching a patch against the current HtmlEmail.java that adds Brandon&apos;s changes as well as some added documentation. There&apos;s also a patch for HtmlEmailTest updating testEmbed() to exercise the new embed() methods.&lt;/p&gt;</comment>
                            <comment id="12480073" author="mortenhattesen" created="Mon, 12 Mar 2007 12:54:54 +0000"  >&lt;p&gt;Any chance this patch could be applied sometime soon, so a version 1.1 could be made available?&lt;/p&gt;</comment>
                            <comment id="12503128" author="bens" created="Sat, 9 Jun 2007 23:48:56 +0000"  >&lt;p&gt;I just got in a fix for this. In addition to embedding plain DataSources, you can also now embed Files directly.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12343044">EMAIL-22</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12333824" name="ASF.LICENSE.NOT.GRANTED--EnhancedHtmlEmail.java" size="2976" author="wolfeb@mitre.org" created="Wed, 28 Sep 2005 23:09:55 +0000"/>
                            <attachment id="12348179" name="HtmlEmail.patch" size="5962" author="bens" created="Wed, 3 Jan 2007 00:19:22 +0000"/>
                            <attachment id="12348180" name="HtmlEmailTest.patch" size="1352" author="bens" created="Wed, 3 Jan 2007 00:19:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 12 Feb 2006 20:38:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vm9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-34] [email] Allow access to MimeMessage from Email class</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-34</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Hi Dion,&lt;/p&gt;

&lt;p&gt;a few months ago I had a chat with Eric Pugh to improve the&lt;br/&gt;
commons-email library and I sent Eric the diffs but they got never&lt;br/&gt;
applied. And I used the updated version already for for a Fulcrum&lt;br/&gt;
Commons EMail Service&lt;br/&gt;
(&lt;a href=&quot;http://jakarta.apache.org/turbine/fulcrum/fulcrum-commonsemail/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/turbine/fulcrum/fulcrum-commonsemail/index.html&lt;/a&gt;)&lt;br/&gt;
and in production for my company.&lt;/p&gt;

&lt;p&gt;So the questions remains if this would be a contribution suitable for&lt;br/&gt;
commons-email .... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; Hi Eric,&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; long story - since I&apos;m in the middle of migrating my old Turbine&lt;br/&gt;
&amp;gt; application to CVS HEAD I stumbled across commons-email and I&apos;m&lt;br/&gt;
&amp;gt; currently migrating a very old Turbine service for sending emails to&lt;br/&gt;
&amp;gt; use commons-email to a Fulcrum service and having a few problems, and&lt;br/&gt;
&amp;gt; .....&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Since the mailing list does not respond to my subscription and you are&lt;br/&gt;
&amp;gt; the main committer .... I need to patch the existing code to fulfill&lt;br/&gt;
&amp;gt; some basic requirements&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; 1) having a few getters for basic properties of EMail would be nice&lt;br/&gt;
&amp;gt; (subject, fromAddress) to enable some diagnostic ouptut if anything&lt;br/&gt;
&amp;gt; goes wrong while creating the MimeMessage. Having said that a&lt;br/&gt;
&amp;gt; toString() implementation would not be bad either.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; 2) more significant I need to seperate the creation of the underlying&lt;br/&gt;
&amp;gt; MimeMessage from actually sending it, e.g. I do a lot of stuff with&lt;br/&gt;
&amp;gt; SMIME signature where you build the MimeMessage and then sign it.&lt;br/&gt;
&amp;gt; Building the MimeMessage (the hard part) is already done by&lt;br/&gt;
&amp;gt; commons-email but it would be useful to intercept the actual sending&lt;br/&gt;
&amp;gt; to provide more flexibility. I think of&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; public final MimeMessage getMimeMessage();&lt;br/&gt;
&amp;gt; public void buildMimeMessage() throws EmailException;&lt;br/&gt;
&amp;gt; public void sendMimeMessage() throws EmailException;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; public void send() throws EmailException&lt;br/&gt;
&amp;gt; &lt;/p&gt;
{
&amp;gt;    this.buildMimeMessage();
&amp;gt;    // now it is possible to call getMimeMessage()
&amp;gt;    this.sendMimeMessage();
&amp;gt; }
&lt;p&gt;&amp;gt;&lt;br/&gt;
&amp;gt; 3) access to the MimeMessage allows to retrieve the message id - the&lt;br/&gt;
&amp;gt; only way to keep track of message sent by the SMPT server&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; I hope my comments make sense - could you forward the message to the&lt;br/&gt;
&amp;gt; mailing list  ... as always I have little time to wait for the outcome&lt;br/&gt;
&amp;gt; of lenghty discussion so I start doing the work tommorrow ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Cheers,&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Siegfried Goeschl&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342401">EMAIL-34</key>
            <summary>[email] Allow access to MimeMessage from Email class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="diongillard">dion gillard</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jul 2005 06:30:02 +0000</created>
                <updated>Sat, 23 Oct 2010 22:19:48 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:19:48 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409907" author="diongillard" created="Wed, 27 Jul 2005 06:32:09 +0000"  >&lt;p&gt;Created an attachment (id=15789)&lt;br/&gt;
Fix from Sigfried&lt;/p&gt;</comment>
                            <comment id="12409908" author="dep4b" created="Wed, 10 Aug 2005 10:29:38 +0000"  >&lt;p&gt;Siegfried,  I tried to apply the patch in this email but no joy.  Can you double check that since moving to &lt;br/&gt;
SVN for commons-email, nothing has changed?&lt;/p&gt;</comment>
                            <comment id="12409909" author="dep4b" created="Thu, 25 Aug 2005 06:10:43 +0000"  >&lt;p&gt;I had to apply it by hand, so there may be some minor formatting changes, but&lt;br/&gt;
everything works.&lt;/p&gt;

&lt;p&gt;Eric Pugh&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333644" name="ASF.LICENSE.NOT.GRANTED--email.patch" size="6835" author="diongillard" created="Wed, 27 Jul 2005 06:32:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35881</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Aug 2005 10:29:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56921</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vljr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182464</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-33] Unit tests and some minor code improvements to [email] project</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-33</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Available at the following URL is a JAR file containing minor code &lt;br/&gt;
enhancements (mainly in terms of input checking and so forth) and basic units &lt;br/&gt;
tests.  Also included is an ANT build file (no using MAVEN...sorry).&lt;br/&gt;
Using EMMA (&lt;a href=&quot;http://emma.sourceforge.net&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://emma.sourceforge.net&lt;/a&gt;) the test coverage with this tests is &lt;br/&gt;
90%+  although I will admit these tests are not as though as they could be.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://202.189.48.58:85/corsc/commons-email-1.0.1-dev.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://202.189.48.58:85/corsc/commons-email-1.0.1-dev.jar&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If this post is incorrect please let me know ( this is my first time :-D )&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341811">EMAIL-33</key>
            <summary>Unit tests and some minor code improvements to [email] project</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="corsc">Corey Scott</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Oct 2004 00:57:00 +0000</created>
                <updated>Sat, 23 Oct 2010 22:19:48 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:19:48 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407808" author="corsc" created="Tue, 19 Oct 2004 00:57:35 +0000"  >&lt;p&gt;sorry ... added the URL to the wrong place before&lt;/p&gt;</comment>
                            <comment id="12407809" author="dep4b" created="Tue, 19 Oct 2004 02:26:18 +0000"  >&lt;p&gt;Hi Scott, thanks for the post.  Typically when contibutiong, please send in a&lt;br/&gt;
patch file..  most IDE&apos;s will create this.  Here are some links: &lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://james.apache.org/contribute.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://james.apache.org/contribute.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://help.eclipse.org/help30/index.jsp?topic=/org.eclipse.platform.doc.user/tasks/tasks-68c.htm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://help.eclipse.org/help30/index.jsp?topic=/org.eclipse.platform.doc.user/tasks/tasks-68c.htm&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://httpd.apache.org/dev/patches.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://httpd.apache.org/dev/patches.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12407810" author="corsc" created="Tue, 19 Oct 2004 03:34:56 +0000"  >&lt;p&gt;ok, thanks for the links.&lt;/p&gt;

&lt;p&gt;I have generated a patch file using eclipse, I dont know if I have done this &lt;br/&gt;
if not please let me know.&lt;/p&gt;

&lt;p&gt;thx&lt;/p&gt;

&lt;p&gt;URLS: &lt;br/&gt;
Patch: &lt;a href=&quot;http://202.189.48.58:85/corsc/patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://202.189.48.58:85/corsc/patch.txt&lt;/a&gt;&lt;br/&gt;
JAR: &lt;a href=&quot;http://202.189.48.58:85/corsc/commons-email-1.0.1-dev.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://202.189.48.58:85/corsc/commons-email-1.0.1-dev.jar&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12407811" author="corsc" created="Tue, 19 Oct 2004 03:37:12 +0000"  >&lt;p&gt;Created an attachment (id=13132)&lt;br/&gt;
patch file generated with eclipse&lt;/p&gt;</comment>
                            <comment id="12407812" author="dep4b" created="Tue, 19 Oct 2004 04:04:12 +0000"  >&lt;p&gt;Corey..  I was so excited to see unit tests that I went and committed some&lt;br/&gt;
stuff.   I didn&apos;t see your patch unforutnantly...  \&lt;/p&gt;

&lt;p&gt;Take a look at the changes.  instead of using the hardcoded d:\ directory, I am&lt;br/&gt;
just using File.createTempfile(), its a nice trick!&lt;/p&gt;

&lt;p&gt;Also, to get around the hardcoded smpt server.. have you looked at dumbster?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://quintanasoft.com/dumbster&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://quintanasoft.com/dumbster&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I can&apos;t seem to get it to build under Ant (I&apos;m a Maven guy), but it might be the&lt;br/&gt;
solution..  let me know...&lt;/p&gt;

&lt;p&gt;THe patch file does look right though..  I&apos;ll use it for your next one!&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;

</comment>
                            <comment id="12407813" author="corsc" created="Tue, 19 Oct 2004 20:01:56 +0000"  >&lt;p&gt;Created an attachment (id=13140)&lt;br/&gt;
conversion of tests to include dumbster and minor code changes with better input checking&lt;/p&gt;</comment>
                            <comment id="12407814" author="corsc" created="Tue, 19 Oct 2004 20:02:15 +0000"  >&lt;p&gt;New patch file for unit tests&lt;/p&gt;

&lt;p&gt;Includes:&lt;br/&gt;
-Minor code changes to improve input checking&lt;br/&gt;
-Use of Dumbster to replace the need for an email server to run the tests&lt;br/&gt;
-Reset of the formatting for the tests (back to same style as the original &lt;br/&gt;
code)&lt;/p&gt;</comment>
                            <comment id="12407815" author="dep4b" created="Wed, 20 Oct 2004 04:52:01 +0000"  >&lt;p&gt;Can you email me the jar for dumbster?  Unforutnantly, I can&apos;t get it to build.&lt;br/&gt;
 Also, have you looked at Maven?  Without going into an major discussion, Maven&lt;br/&gt;
does everything that your build.xml does..  A lot of the commons projects use it&lt;br/&gt;
as well.&lt;/p&gt;</comment>
                            <comment id="12407816" author="corsc" created="Sun, 24 Oct 2004 18:33:43 +0000"  >&lt;p&gt;Created an attachment (id=13209)&lt;br/&gt;
updated tests (see other comments for details)&lt;/p&gt;</comment>
                            <comment id="12407817" author="corsc" created="Sun, 24 Oct 2004 18:33:59 +0000"  >&lt;p&gt;new patch improvements:&lt;br/&gt;
-better integration with Dumbster(v1.3)&lt;br/&gt;
-externalized the test config&lt;br/&gt;
-formatting changes to original style&lt;/p&gt;</comment>
                            <comment id="12407818" author="dep4b" created="Mon, 25 Oct 2004 00:11:19 +0000"  >&lt;p&gt;I had to apply the fixes by hand.  I didn&apos;t apply the ant build script, since&lt;br/&gt;
you said you where getting up to speed on Maven, and I rather support only one&lt;br/&gt;
build.  I also didn&apos;t apply all of the externalized test config.  You forgot to&lt;br/&gt;
supply the actual singleton file!  So I tossed in my own.  Unless there is a&lt;br/&gt;
reason that you would want to change externally the test config, I don&apos;t see a&lt;br/&gt;
reason to use it.  It just adds more complexity to the test process.  &lt;/p&gt;

&lt;p&gt;Also, as far as the reformatting goes, please send that in as a totally seperate&lt;br/&gt;
bug.  It needs to be a seperate patch completely because of the noise issue in&lt;br/&gt;
the CVS diff log.  also, at this point what I have committed I think has&lt;br/&gt;
diveraged significantly from what you have &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;Thanks for the work, and I&apos;ll plow through the other issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333177" name="ASF.LICENSE.NOT.GRANTED--patch.txt" size="167430" author="corsc" created="Tue, 19 Oct 2004 20:01:56 +0000"/>
                            <attachment id="12333176" name="ASF.LICENSE.NOT.GRANTED--patch.txt" size="81738" author="corsc" created="Tue, 19 Oct 2004 03:37:12 +0000"/>
                            <attachment id="12333178" name="ASF.LICENSE.NOT.GRANTED--patch_tests_updated.txt" size="157627" author="corsc" created="Sun, 24 Oct 2004 18:33:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31762</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Oct 2004 02:26:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56922</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vldj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182436</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-32] [email] tests fail on Unix c/o port settings</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-32</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;this bug was patched and has sneaked in again. Port testings during tests weren&apos;t being set to the &lt;br/&gt;
values set in EmailConfiguration. Submitting a patch that fixes this.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Mac OS X 10.0&lt;br/&gt;
Platform: Macintosh&lt;/p&gt;</environment>
        <key id="12341898">EMAIL-32</key>
            <summary>[email] tests fail on Unix c/o port settings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark.lowe@boxstuff.com">Mark Lowe</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Nov 2004 19:12:25 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:11 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:11 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408188" author="mark.lowe@boxstuff.com" created="Sat, 27 Nov 2004 19:13:34 +0000"  >&lt;p&gt;Created an attachment (id=13554)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; smtp port setting *nix during tests&lt;/p&gt;</comment>
                            <comment id="12408189" author="corsc" created="Sun, 28 Nov 2004 21:01:09 +0000"  >&lt;p&gt;Created an attachment (id=13569)&lt;br/&gt;
Changes the port number to 2500 from 25 (as this is reserved on unix)&lt;/p&gt;</comment>
                            <comment id="12408190" author="corsc" created="Sun, 28 Nov 2004 21:20:36 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-17&quot; title=&quot;[email] dumpster bogus smtp server fails on tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-17&quot;&gt;&lt;del&gt;COM-1693&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12408191" author="corsc" created="Sun, 28 Nov 2004 21:53:19 +0000"  >&lt;p&gt;Created an attachment (id=13571)&lt;br/&gt;
previous patch was invalid, resubmitting&lt;/p&gt;</comment>
                            <comment id="12408192" author="dep4b" created="Mon, 29 Nov 2004 18:48:14 +0000"  >&lt;p&gt;Okay, I&apos;ve applied this patch.  When CVS is working I&apos;ll commit it.&lt;/p&gt;</comment>
                            <comment id="12408193" author="dep4b" created="Tue, 30 Nov 2004 02:45:21 +0000"  >&lt;p&gt;Committed.  Can someone test this and verify the fix?&lt;/p&gt;</comment>
                            <comment id="12408194" author="germuska" created="Tue, 30 Nov 2004 03:17:53 +0000"  >&lt;p&gt;I have run the tests on Mac OS X and verified that they work without being &apos;root&apos;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333261" name="ASF.LICENSE.NOT.GRANTED--patch_bug32410_response.txt" size="5422" author="corsc" created="Sun, 28 Nov 2004 21:53:19 +0000"/>
                            <attachment id="12333260" name="ASF.LICENSE.NOT.GRANTED--patch_bug32410_response.txt" size="706" author="corsc" created="Sun, 28 Nov 2004 21:01:09 +0000"/>
                            <attachment id="12333259" name="ASF.LICENSE.NOT.GRANTED--unix_smtp_port_fix.patch" size="10450" author="mark.lowe@boxstuff.com" created="Sat, 27 Nov 2004 19:13:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 28 Nov 2004 21:01:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182530</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-31] [email] updates to tests, to run with dumpster 1.0.3</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-31</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;mock emails created using a createInstance method return a email object with the hostname and port &lt;br/&gt;
number as the same in Config values.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341851">EMAIL-31</key>
            <summary>[email] updates to tests, to run with dumpster 1.0.3</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark.lowe@boxstuff.com">Mark Lowe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Nov 2004 01:16:23 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:10 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:10 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407952" author="mark.lowe@boxstuff.com" created="Fri, 5 Nov 2004 01:18:24 +0000"  >&lt;p&gt;Created an attachment (id=13330)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; see description&lt;/p&gt;</comment>
                            <comment id="12407953" author="corsc" created="Fri, 5 Nov 2004 02:38:38 +0000"  >&lt;p&gt;Mark,&lt;/p&gt;

&lt;p&gt;I like it, just one thing... It clashes with the patch i just submitted, but &lt;br/&gt;
only slightly.  I have proposed the addition of a boolean switch to indicate &lt;br/&gt;
the use of dumbster or not.  This is mainly due to validate and close/stop &lt;br/&gt;
mail servrt methods will fail on non-dumbster mail servers.&lt;/p&gt;

&lt;p&gt;But I really like the new code, what do you think about merging the two?&lt;/p&gt;</comment>
                            <comment id="12407954" author="corsc" created="Sun, 28 Nov 2004 21:13:15 +0000"  >&lt;p&gt;I think we should revist this issue a fresh (if need be) with the latest &lt;br/&gt;
version of dumbster.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333212" name="ASF.LICENSE.NOT.GRANTED--unittest-updates.patch" size="12152" author="mark.lowe@boxstuff.com" created="Fri, 5 Nov 2004 01:18:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32061</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 5 Nov 2004 02:38:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56924</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vn07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-30] [email] Unit tests a tricky to modify and see whats going on</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-30</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I&apos;ve gone through the existing test cases, and re worked them, most the tests are the same but I &lt;br/&gt;
hopfully cleaned up the great work corey did. There could be a few methods that need putting in, but it &lt;br/&gt;
should be easier to manage. &lt;/p&gt;

&lt;p&gt;In addition the EmailExceptionTest should provide a clear demarcation between standard tests and &lt;br/&gt;
exception tests.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341855">EMAIL-30</key>
            <summary>[email] Unit tests a tricky to modify and see whats going on</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark.lowe@boxstuff.com">Mark Lowe</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Nov 2004 23:28:04 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:10 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:10 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407964" author="mark.lowe@boxstuff.com" created="Sat, 6 Nov 2004 23:28:30 +0000"  >&lt;p&gt;Created an attachment (id=13345)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; see description&lt;/p&gt;</comment>
                            <comment id="12407965" author="corsc" created="Mon, 21 Feb 2005 17:51:55 +0000"  >&lt;p&gt;Created an attachment (id=14328)&lt;br/&gt;
minor comment and style changes&lt;/p&gt;

&lt;p&gt;attached are some minor comment and style changes most changes apply to&lt;br/&gt;
recently added code.  no functionality changes&lt;/p&gt;</comment>
                            <comment id="12407966" author="dep4b" created="Fri, 25 Feb 2005 09:46:48 +0000"  >&lt;p&gt;Okay, I have applied this fix as well as changing ArrayList to List where possible.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333215" name="ASF.LICENSE.NOT.GRANTED--cleaned-tests.patch" size="126153" author="mark.lowe@boxstuff.com" created="Sat, 6 Nov 2004 23:28:30 +0000"/>
                            <attachment id="12333216" name="ASF.LICENSE.NOT.GRANTED--comments_style_only.txt" size="15165" author="corsc" created="Mon, 21 Feb 2005 17:51:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32093</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Feb 2005 17:51:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56925</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vm13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-29] [email] HTML email uses wrong MIME type?</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-29</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Here&apos;s another commons email question:  in the change of HtmlEmail from 1.5 to 1.6, the content subtype of the main body of the email was change from &lt;span class=&quot;error&quot;&gt;&amp;#91;multipart/&amp;#93;&lt;/span&gt;alternative to &lt;span class=&quot;error&quot;&gt;&amp;#91;multipart/&amp;#93;&lt;/span&gt;related.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure of the rationale for this, or if it was just an oversight.  Most clients display all of the parts in a related email &amp;#8211; at least, I&apos;ve tested with Eudora (Mac OS X 5.2), Hotmail, and the ATTBI.com web email client.  &lt;/p&gt;

&lt;p&gt;However, Hotmail and ATTBI discard all but one of the parts in multipart/alternative.  This is in keeping with the semantics of multipart/alternative  (see &lt;a href=&quot;http://www.freesoft.org/CIE/RFC/1521/18.htm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.freesoft.org/CIE/RFC/1521/18.htm&lt;/a&gt;) but it means that attachments included with the embed(URL, String) method are discarded also.  It&apos;s my uncertainty about how to handle this that keeps me from just submitting a patch that switches the subtype back from &quot;related&quot; to &quot;alternative&quot;  You might be able to use containers for each of the HTML and text parts, and then include the images in them as multipart-related; you wouldn&apos;t want to embed the images twice, but I don&apos;t know how to use references in MIME just yet &amp;#8211; I think it&apos;s possible somehow.&lt;/p&gt;

&lt;p&gt;One other note: RFC1521 says that alternative parts should appear from least attractive to most attractive, which suggests that HtmlEmail should change the order in which it puts together the HtmlEmail.  It seems that Hotmail obeys this specification, as my text message is all that showed up there, while Eudora and ATTBI.com each give text/html preference even though it appears first in the message.&lt;/p&gt;

&lt;p&gt;Do any MIME experts have suggestions about how to handle embedded attachments together with multipart/alternative text/* parts?  I haven&apos;t had much call to use them before, so I&apos;m reluctant to forge ahead implementing any particular solution.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340660">EMAIL-29</key>
            <summary>[email] HTML email uses wrong MIME type?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="germuska">Joseph Lad Germuska</reporter>
                        <labels>
                    </labels>
                <created>Sat, 12 Apr 2003 03:17:03 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:09 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:09 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12404077" author="corsc" created="Sun, 24 Oct 2004 18:37:46 +0000"  >&lt;p&gt;Created an attachment (id=13210)&lt;br/&gt;
patches for bugs 18971, 30973, 30634&lt;/p&gt;</comment>
                            <comment id="12404078" author="corsc" created="Sun, 24 Oct 2004 18:42:25 +0000"  >&lt;p&gt;Bug fixes for bugs:&lt;br/&gt;
(related bugs, 18971, 30973)&lt;br/&gt;
18971: &lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; HTML email uses wrong MIME type?&lt;br/&gt;
30973: &lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;patch&amp;#93;&lt;/span&gt; HTML email with plain text alternative and attachments&lt;/p&gt;

&lt;p&gt;(Previously submitted but not committed)&lt;br/&gt;
30634: &lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; Issue with cid URLs generated by .embed(...) in HtmlEmail.java&lt;/p&gt;</comment>
                            <comment id="12404079" author="germuska" created="Sun, 24 Oct 2004 19:58:54 +0000"  >&lt;p&gt;I don&apos;t see anything in the logs which explains the change, but I think you are quite right in suggesting &lt;br/&gt;
that the mime type should be &quot;multipart/alternative&quot;, not &quot;multipart/related&quot;.  That is, for the text and &lt;br/&gt;
html parts.  And yes, the text part should be rendered first.  &lt;/p&gt;

&lt;p&gt;If one wants to use &quot;bundling&quot;, then presumably the mime type of the non-plaintext part should be &lt;br/&gt;
&quot;multipart/related&quot;, not &quot;text/html&quot;, and then that part itself should include one part (the &apos;root&apos;) of type &lt;br/&gt;
&quot;text/html&quot; as well as many parts of other mime types as relevant.  &lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;http://www.ietf.org/rfc/rfc2387.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.ietf.org/rfc/rfc2387.txt&lt;/a&gt;  for a few examples of Multipart/Related data.  I wonder if &lt;br/&gt;
it might not be better to subclass HtmlEmail to handle multipart/related HTML content, rather than add &lt;br/&gt;
complexity to the more basic (and probably more commonly used) HtmlEmail.&lt;/p&gt;</comment>
                            <comment id="12404080" author="corsc" created="Sun, 24 Oct 2004 21:05:34 +0000"  >&lt;p&gt;sorry, all changes where made in regard to the recommendations from the link &lt;br/&gt;
originally provided (by Joe ... thx).&lt;/p&gt;

&lt;p&gt;I will look into your suggestions regarding the &apos;multipart/related&apos; content &lt;br/&gt;
and see what I(we) can come up with.&lt;/p&gt;

&lt;p&gt;I agree with your prinicple suggestion that the class should be kept as simple &lt;br/&gt;
as possible.&lt;/p&gt;</comment>
                            <comment id="12404081" author="dep4b" created="Mon, 25 Oct 2004 00:21:23 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 20973 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12404082" author="dep4b" created="Mon, 25 Oct 2004 00:28:33 +0000"  >&lt;p&gt;Argh!  Typed the wrong bug id..  this is a duplicate of ***&lt;b&gt;30973&lt;/b&gt;****, not 20973.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332233" name="ASF.LICENSE.NOT.GRANTED--patch_bug_patches.txt" size="7962" author="corsc" created="Sun, 24 Oct 2004 18:37:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 24 Oct 2004 18:37:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56926</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vn87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-28] [email] Problems with HTML emails with attachments and embedded images</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-28</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I have three problems that are probably related. The results are using Mozilla&lt;br/&gt;
Thunderbird.&lt;/p&gt;

&lt;p&gt;1. When I send an HtmlEmail with attachments, embedded images, an HTML body and&lt;br/&gt;
an alternative text body both the alternative text and the HTML are displayed.&lt;/p&gt;

&lt;p&gt;2. When I send an HtmlEmail with embedded images, no attachments, an HTML body&lt;br/&gt;
and I do not provide an alternative text body, the HTML body is not displayed.&lt;/p&gt;

&lt;p&gt;3. When I send an HtmlEmail with attachments, embedded images, an HTML body and&lt;br/&gt;
I do not provide an alternative text, everything works almost fine. The only&lt;br/&gt;
problem is that when the SMTP server is sending emails outside its domain it&lt;br/&gt;
adds a disclaimer. The addition of this disclaimer means that only the&lt;br/&gt;
disclaimer is displayed. This does not happend when using Javamail.&lt;/p&gt;

&lt;p&gt;Below is the class that I used for my tests.&lt;/p&gt;



&lt;p&gt;import java.net.MalformedURLException;&lt;br/&gt;
import java.net.URL;&lt;/p&gt;

&lt;p&gt;import org.apache.commons.mail.EmailAttachment;&lt;br/&gt;
import org.apache.commons.mail.EmailException;&lt;br/&gt;
import org.apache.commons.mail.HtmlEmail;&lt;/p&gt;

&lt;p&gt;public class CommonsEmailTest {&lt;/p&gt;

&lt;p&gt;	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@param args&lt;br/&gt;
	 */&lt;br/&gt;
	public static void main(String[] args) 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {		try {
			testHtmlEmailWithAttachmentsAndEmbeddedImages();
			testHtmlEmailWithoutAttachmentsOrText();
			testHtmlEmailWithAttachmentsAndEmbeddedImagesNoText();
		} catch (MalformedURLException e) {
			e.printStackTrace();
		} catch (EmailException e) {			e.printStackTrace();		}	}&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;This method sends an HTML email with attachments, embedded images,&lt;/li&gt;
	&lt;li&gt;an HTML body and an alternative text body. The result is that both&lt;/li&gt;
	&lt;li&gt;the HTML and the text are displayed.&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;@throws EmailException&lt;/li&gt;
	&lt;li&gt;@throws MalformedURLException&lt;br/&gt;
	 */&lt;br/&gt;
	public static void testHtmlEmailWithAttachmentsAndEmbeddedImages() throws&lt;br/&gt;
EmailException, MalformedURLException	
{
		
		// Create the email message
		HtmlEmail email = new HtmlEmail();
		email.setHostName(&quot;smtp.capgemini.fr&quot;);
		email.addTo(&quot;pbrether@capgemini.fr&quot;, &quot;You&quot;);
		email.setFrom(&quot;philip.bretherton@capgemini.fr&quot;, &quot;Me&quot;);
		email.setSubject(&quot;Test email with inline image and attachment&quot;);
		
		// Create the attachment
		EmailAttachment attachment = new EmailAttachment();
		attachment.setPath(&quot;D:/temp/mypic.jpg&quot;);
		attachment.setDisposition(EmailAttachment.ATTACHMENT);
		attachment.setDescription(&quot;A picture&quot;);
		attachment.setName(&quot;Thingy&quot;);
		
		email.attach(attachment);

		// embed the image and get the content id
		URL url = new URL(&quot;http://www.apache.org/images/asf_logo_wide.gif&quot;);
		String cid = email.embed(url, &quot;Apache logo&quot;);

		// set the html message
		email.setHtmlMsg(&quot;&amp;lt;html&amp;gt;The apache logo - &amp;lt;img src=\&quot;cid:&quot;+cid+&quot;\&quot;&amp;gt;&amp;lt;/html&amp;gt;&quot;);

		// set the alternative message
		email.setTextMsg(&quot;Your email client does not support HTML messages&quot;);

		// send the email
		email.send();		
	}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;This method sends an HTML email with embedded images,&lt;/li&gt;
	&lt;li&gt;an HTML body and no alternative text body. The result is that both&lt;/li&gt;
	&lt;li&gt;the HTML is not displayed.&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;@throws EmailException&lt;/li&gt;
	&lt;li&gt;@throws MalformedURLException&lt;br/&gt;
	 */&lt;br/&gt;
	public static void testHtmlEmailWithoutAttachmentsOrText() throws&lt;br/&gt;
EmailException, MalformedURLException	
{
		
		// Create the email message
		HtmlEmail email = new HtmlEmail();
		email.setHostName(&quot;smtp.capgemini.fr&quot;);
		email.addTo(&quot;pbrether@capgemini.fr&quot;, &quot;You&quot;);
		email.setFrom(&quot;philip.bretherton@capgemini.fr&quot;, &quot;Me&quot;);
		email.setSubject(&quot;Test email with inline image and no alternative text&quot;);
		
		// embed the image and get the content id
		URL url = new URL(&quot;http://www.apache.org/images/asf_logo_wide.gif&quot;);
		String cid = email.embed(url, &quot;Apache logo&quot;);

		// set the html message
		email.setHtmlMsg(&quot;&amp;lt;html&amp;gt;The apache logo - &amp;lt;img src=\&quot;cid:&quot;+cid+&quot;\&quot;&amp;gt;&amp;lt;/html&amp;gt;&quot;);

		// send the email
		email.send();		
	}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;This method sends an HTML email with attachments, embedded images,&lt;/li&gt;
	&lt;li&gt;an HTML body and no alternative text body. The normal result is that&lt;/li&gt;
	&lt;li&gt;everything is displayed as expected. However, if the SMTP server&lt;/li&gt;
	&lt;li&gt;adds a disclaimer, the disclaimer is the only thing displayed.&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;@throws EmailException&lt;/li&gt;
	&lt;li&gt;@throws MalformedURLException&lt;br/&gt;
	 */&lt;br/&gt;
	public static void testHtmlEmailWithAttachmentsAndEmbeddedImagesNoText() throws&lt;br/&gt;
EmailException, MalformedURLException	
{
		
		// Create the email message
		HtmlEmail email = new HtmlEmail();
		email.setHostName(&quot;smtp.capgemini.fr&quot;);
		email.addTo(&quot;pbretherton@gmail.com&quot;, &quot;You&quot;);
		email.setFrom(&quot;philip.bretherton@capgemini.fr&quot;, &quot;Me&quot;);
		email.setSubject(&quot;Test email with disclaimer&quot;);
		
		// Create the attachment
		EmailAttachment attachment = new EmailAttachment();
		attachment.setPath(&quot;D:/temp/mypic.jpg&quot;);
		attachment.setDisposition(EmailAttachment.ATTACHMENT);
		attachment.setDescription(&quot;A picture&quot;);
		attachment.setName(&quot;Thingy&quot;);
		
		email.attach(attachment);

		// embed the image and get the content id
		URL url = new URL(&quot;http://www.apache.org/images/asf_logo_wide.gif&quot;);
		String cid = email.embed(url, &quot;Apache logo&quot;);

		// set the html message
		email.setHtmlMsg(&quot;&amp;lt;html&amp;gt;The apache logo - &amp;lt;img src=\&quot;cid:&quot;+cid+&quot;\&quot;&amp;gt;&amp;lt;/html&amp;gt;&quot;);

		// send the email
		email.send();		
	}&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342646">EMAIL-28</key>
            <summary>[email] Problems with HTML emails with attachments and embedded images</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pbrether@capgemini.fr">Phil Bretherton</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Oct 2005 19:05:35 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:09 +0000</updated>
                            <resolved>Thu, 22 Feb 2007 23:37:05 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12471553" author="bens" created="Fri, 9 Feb 2007 01:37:40 +0000"  >&lt;p&gt;After doing some digging, it&apos;s clear that this and &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-50&quot; title=&quot;[email] HTML Emails with images don&amp;#39;t display in Outlook 2000&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-50&quot;&gt;&lt;del&gt;EMAIL-50&lt;/del&gt;&lt;/a&gt; are two symptoms of the same problem.&lt;/p&gt;</comment>
                            <comment id="12471894" author="bens" created="Sat, 10 Feb 2007 01:52:36 +0000"  >&lt;p&gt;I&apos;ve submitted a new patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-50&quot; title=&quot;[email] HTML Emails with images don&amp;#39;t display in Outlook 2000&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-50&quot;&gt;&lt;del&gt;EMAIL-50&lt;/del&gt;&lt;/a&gt; that fixes this issue as well.&lt;/p&gt;</comment>
                            <comment id="12475199" author="diongillard" created="Thu, 22 Feb 2007 23:37:05 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-50&quot; title=&quot;[email] HTML Emails with images don&amp;#39;t display in Outlook 2000&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-50&quot;&gt;&lt;del&gt;EMAIL-50&lt;/del&gt;&lt;/a&gt;. Go Ben!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12342675">EMAIL-50</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Feb 2007 01:37:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44599</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-27] [email] further improvements to test code and removal of emails validation</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-27</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Changes list:&lt;/p&gt;

&lt;p&gt;Email&lt;br/&gt;
---------------------&lt;br/&gt;
-Removed Email validation&lt;br/&gt;
-changed (back) to getInstance due to security exceptions caused when testing &lt;br/&gt;
using maven&lt;br/&gt;
-In setFrom(String email, String name) changed the checking to &lt;br/&gt;
StringUtils.isNotEmpty&lt;br/&gt;
-Fixed some incorrect logic in testing for charset in:&lt;br/&gt;
	addTo(String email, String name)&lt;br/&gt;
	addCc(String email, String name)&lt;br/&gt;
	addBcc(String email, String name)&lt;br/&gt;
	addReplyTo(String email, String name)&lt;/p&gt;

&lt;p&gt;Mulitpart Email&lt;br/&gt;
---------------------&lt;br/&gt;
-Corrected style errors involving imports&lt;br/&gt;
-Added validation to disallow null message contents in setMsg(String msg)&lt;br/&gt;
-Removed redundant if statment from send() to streamline the function&lt;br/&gt;
-Added validation to disallow null attachements to attach(EmailAttachment &lt;br/&gt;
attachment)&lt;br/&gt;
-Added URL validation for attach(URL url, String name, String description, &lt;br/&gt;
String disposition)&lt;br/&gt;
-Added Datasource validation for attach( DataSource ds, String name, String &lt;br/&gt;
description)&lt;br/&gt;
-Removed redundant if statement from getPrimaryBodyPart() as the code was a &lt;br/&gt;
duplicate of code inside init()&lt;/p&gt;

&lt;p&gt;EmailAttachmentTest&lt;br/&gt;
---------------------&lt;br/&gt;
-Coding style changes only&lt;/p&gt;

&lt;p&gt;EmailTest&lt;br/&gt;
---------------------&lt;br/&gt;
-Added test for the Get/Set session&lt;br/&gt;
-Minor Coding style changes&lt;br/&gt;
-Added exception test for the person param to all relevant address functions&lt;br/&gt;
-Added the server port as a configurable var and added it as a static property&lt;br/&gt;
-Added code to set the configured port during tests&lt;/p&gt;

&lt;p&gt;HtmlEmailTest&lt;br/&gt;
---------------------&lt;br/&gt;
-Minor Coding style changes&lt;br/&gt;
-Added the server port as a configurable var and added it as a static property&lt;br/&gt;
-Added code to set the configured port during tests&lt;/p&gt;

&lt;p&gt;MulitpartEmailTest&lt;br/&gt;
---------------------&lt;br/&gt;
-Minor Coding style changes&lt;br/&gt;
-Added the server port as a configurable var and added it as a static property&lt;br/&gt;
-Added code to set the configured port during tests&lt;br/&gt;
-Removed the hard coded test url and added reference to the configuration &lt;br/&gt;
class instead&lt;br/&gt;
-Added test for init&lt;/p&gt;

&lt;p&gt;SimpleEmailTest&lt;br/&gt;
---------------------&lt;br/&gt;
-added apache license&lt;br/&gt;
-Minor Coding style changes&lt;br/&gt;
-Added the server port as a configurable var and added it as a static property&lt;br/&gt;
-Added code to set the configured port during tests&lt;/p&gt;

&lt;p&gt;EmailConfiguration&lt;br/&gt;
---------------------&lt;br/&gt;
-added apache license&lt;br/&gt;
-Minor Coding style changes&lt;br/&gt;
-changed the test url to a active url&lt;/p&gt;

&lt;p&gt;MockEmailConcrete&lt;br/&gt;
---------------------&lt;br/&gt;
-added apache license&lt;br/&gt;
-Minor Coding style changes&lt;br/&gt;
-added function to help test get/set session&lt;/p&gt;

&lt;p&gt;MockHtmlEmailConcrete&lt;br/&gt;
---------------------&lt;br/&gt;
-added apache license&lt;/p&gt;

&lt;p&gt;MockMulitPartEmailConcrete&lt;br/&gt;
---------------------&lt;br/&gt;
-added apache license&lt;br/&gt;
-added test for init function&lt;/p&gt;

&lt;p&gt;MockHtmlEmailConcrete&lt;br/&gt;
---------------------&lt;br/&gt;
-added apache license&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341833">EMAIL-27</key>
            <summary>[email] further improvements to test code and removal of emails validation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="corsc">Corey Scott</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Oct 2004 02:23:02 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:08 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:08 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407882" author="corsc" created="Wed, 27 Oct 2004 02:23:37 +0000"  >&lt;p&gt;Created an attachment (id=13225)&lt;br/&gt;
patch as described in bug&lt;/p&gt;</comment>
                            <comment id="12407883" author="corsc" created="Wed, 27 Oct 2004 11:39:33 +0000"  >&lt;p&gt;Created an attachment (id=13231)&lt;br/&gt;
this patch is cumlative of all other recently submitted patches&lt;/p&gt;</comment>
                            <comment id="12407884" author="corsc" created="Wed, 27 Oct 2004 11:41:15 +0000"  >&lt;p&gt;there was something wrong with the previously posted patches submitted for &lt;br/&gt;
this and the style only bug.&lt;/p&gt;

&lt;p&gt;I have regenerated the patch and tested applying it, it all appears to work &lt;br/&gt;
this time.  I am not sure what was causing the problems with this before but I &lt;br/&gt;
hope it is fixed now.&lt;/p&gt;

&lt;p&gt;Sorry for any inconvenence caused.&lt;/p&gt;</comment>
                            <comment id="12407885" author="dep4b" created="Wed, 27 Oct 2004 16:58:03 +0000"  >&lt;p&gt;We are getting there!  I have gone ahead and integrated our own checkstyle config, &lt;br/&gt;
based on the config used by commons configuration.  Your fixes reduced the&lt;br/&gt;
errors to 309, but the errors where bogus about varialbe names..  By putting our&lt;br/&gt;
own in, we are down to 74.  Can you run &quot;maven site&quot; and verify the same?&lt;/p&gt;

&lt;p&gt;Also, I am getting some unit test failures out of EmailTest.  &lt;/p&gt;

&lt;p&gt;Lastly, almost everything applied except for a couple changes.  Resync, and you&lt;br/&gt;
should see where it didn&apos;t apply.  &lt;/p&gt;</comment>
                            <comment id="12407886" author="corsc" created="Wed, 27 Oct 2004 21:40:05 +0000"  >&lt;p&gt;Created an attachment (id=13234)&lt;br/&gt;
style changes and a few minor mods (should get style conflicts down to 4 and all tests passing again)&lt;/p&gt;</comment>
                            <comment id="12407887" author="corsc" created="Wed, 27 Oct 2004 21:41:42 +0000"  >&lt;p&gt;please refer to my posting on the dev list as to why the tests where failing.&lt;/p&gt;

&lt;p&gt;Eric,&lt;br/&gt;
Can you please tell me why my patches arent applying correctly for you, so &lt;br/&gt;
that I can make your life easier please correcting whatever is wrong.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Corey&lt;/p&gt;</comment>
                            <comment id="12407888" author="scott@minutestopost.com" created="Fri, 29 Oct 2004 00:38:59 +0000"  >&lt;p&gt;Regarding the MultipartEmail patch:&lt;br/&gt;
The duplicate code in init() and getPrimaryBodyPart() was a result of the patch&lt;br/&gt;
in &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-23&quot; title=&quot;[email] [patch] HTML email with plain text alternative and attachments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-23&quot;&gt;&lt;del&gt;COM-1526&lt;/del&gt;&lt;/a&gt; not being entirely applied. It should be removed from init() and&lt;br/&gt;
included back in getPrimaryBodyPart(). I&apos;d be happy to supply a patch if its&lt;br/&gt;
helpful.&lt;/p&gt;</comment>
                            <comment id="12407889" author="dep4b" created="Fri, 29 Oct 2004 17:34:40 +0000"  >&lt;p&gt;Okay, I moved the code..  Unit tests still fail in the same places as before, so&lt;br/&gt;
nothign broke worse!  Please double check and reopen if I made a mess again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333193" name="ASF.LICENSE.NOT.GRANTED--patch_all.txt" size="81216" author="corsc" created="Wed, 27 Oct 2004 11:39:33 +0000"/>
                            <attachment id="12333194" name="ASF.LICENSE.NOT.GRANTED--style_only_patch_again.txt" size="38394" author="corsc" created="Wed, 27 Oct 2004 21:40:05 +0000"/>
                            <attachment id="12333192" name="ASF.LICENSE.NOT.GRANTED--test_upgrades_etc_patch.txt" size="66092" author="corsc" created="Wed, 27 Oct 2004 02:23:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31901</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Oct 2004 16:58:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56927</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-26] [email] Bad Exception message when using a supplied MailSession</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-26</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I create a MultiPartEmail object and supply a javax.mail.Session as a param to &lt;br/&gt;
the setMailSession() method.  I do not explicitly set the hostname or port.  &lt;br/&gt;
After stting the rest of the desired/required fields, I call send().&lt;/p&gt;

&lt;p&gt;I happened to have a javax.mail.MessagingException get thrown which was caught &lt;br/&gt;
in Email, specifically, sendMimeMessage().  What I noticed was that the &lt;br/&gt;
stacktrace in my log read the following:&lt;/p&gt;

&lt;p&gt;org.apache.commons.mail.EmailException: Sending the email to the following &lt;br/&gt;
server failed : null:25&lt;br/&gt;
	at org.apache.commons.mail.Email.sendMimeMessage(Email.java:873)&lt;br/&gt;
	at org.apache.commons.mail.Email.send(Email.java:898)&lt;br/&gt;
	at com.csc.aims.util.jobs.SendMailJob.sendEmail(SendMailJob.java:219)&lt;br/&gt;
	at com.csc.aims.util.jobs.SendMailJob.execute(SendMailJob.java:186)&lt;br/&gt;
	at org.quartz.core.JobRunShell.run(JobRunShell.java:195)&lt;br/&gt;
	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run&lt;br/&gt;
(SimpleThreadPool.java:520)&lt;br/&gt;
Caused by: javax.mail.MessagingException: Could not connect to SMTP host: &lt;br/&gt;
smtp.server.address, port: 25;&lt;br/&gt;
  nested exception is:&lt;br/&gt;
	java.net.ConnectException: Connection refused: connect&lt;br/&gt;
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1213)&lt;br/&gt;
	at com.sun.mail.smtp.SMTPTransport.protocolConnect&lt;br/&gt;
(SMTPTransport.java:311)&lt;br/&gt;
	at javax.mail.Service.connect(Service.java:233)&lt;br/&gt;
	at javax.mail.Service.connect(Service.java:134)&lt;br/&gt;
	at javax.mail.Service.connect(Service.java:86)&lt;br/&gt;
	at com.sun.mail.smtp.SMTPTransport.connect(SMTPTransport.java:144)&lt;br/&gt;
	at javax.mail.Transport.send0(Transport.java:150)&lt;br/&gt;
	at javax.mail.Transport.send(Transport.java:80)&lt;br/&gt;
	at org.apache.commons.mail.Email.sendMimeMessage(Email.java:863)&lt;br/&gt;
	... 5 more&lt;/p&gt;

&lt;p&gt;As can be seen, the MessagingException knows the hostname (hostname changed to &lt;br/&gt;
protect the innocent &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, yet the EmailException does not.  After taking a &lt;br/&gt;
closer look, the str that is generated for the Exception message uses the &lt;br/&gt;
hostname property, yet upon tracing the code, the hostname never gets set by &lt;br/&gt;
this code execution path.  &lt;/p&gt;

&lt;p&gt;My expectation was that since I supplied a valid Session object (with &lt;br/&gt;
hostname) that the Email class would be able to extract that info back out of &lt;br/&gt;
it.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342888">EMAIL-26</key>
            <summary>[email] Bad Exception message when using a supplied MailSession</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cdeal@csc.com">Charles Deal</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Feb 2006 05:56:46 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:08 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:08 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411371" author="diongillard" created="Thu, 16 Feb 2006 06:55:04 +0000"  >&lt;p&gt;Fixed with patch to 38656. Please let us know if this is still an issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38538</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Feb 2006 06:55:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-25] [email] Address char-set can not be individually set</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-25</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The commons-email-1.0 release API has a critical flaw: you can&apos;t specify char-&lt;br/&gt;
set for individual addresses. This is the case with some Japanese mail systems.&lt;/p&gt;

&lt;p&gt;Currently, org.apache.commons.mail.Email class only has methods like&lt;/p&gt;

&lt;p&gt;   addXXXX(String email, String name);&lt;/p&gt;

&lt;p&gt;but no such methods:&lt;/p&gt;

&lt;p&gt;   addXXX(String email, String name, String charset);&lt;/p&gt;

&lt;p&gt;In addition, I believe the API should allow&lt;/p&gt;

&lt;p&gt;   addXXX(javax.mail.internt.InternetAddress);&lt;/p&gt;

&lt;p&gt;If you want to hide InternetAddress, I don&apos;t mind to even have a addXXX(Object).&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-James Huang&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342679">EMAIL-25</key>
            <summary>[email] Address char-set can not be individually set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="judoscript@hotmail.com">James Huang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Nov 2005 08:31:07 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:07 +0000</updated>
                            <resolved>Thu, 22 Feb 2007 23:58:40 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410756" author="dep4b" created="Tue, 29 Nov 2005 23:36:56 +0000"  >&lt;p&gt;Would you like to submit a patch and a unit test?  Basically, what this allows you to do is send a single &lt;br/&gt;
email to multiple recipients, and each recipient gets their own charset for their email?&lt;/p&gt;</comment>
                            <comment id="12471455" author="bens" created="Thu, 8 Feb 2007 19:33:29 +0000"  >&lt;p&gt;I&apos;ve submitted a patch for this issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-54&quot; title=&quot;[email] Add new class Charset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-54&quot;&gt;&lt;del&gt;EMAIL-54&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12475204" author="diongillard" created="Thu, 22 Feb 2007 23:58:40 +0000"  >&lt;p&gt;Fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-54&quot; title=&quot;[email] Add new class Charset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-54&quot;&gt;&lt;del&gt;EMAIL-54&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12342937">EMAIL-54</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37363</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Nov 2005 23:36:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44600</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vl73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182407</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-24] [email][PATCH] Refactor Hashtable usage to Map</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-24</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;This patch refactors the usage of Hashtable to the Map interface. Coding to&lt;br/&gt;
interfaces as opposed to implementations is considered a best practice and this&lt;br/&gt;
will also remove two errors from the Checkstyle report.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Eric Spiegelberg&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342244">EMAIL-24</key>
            <summary>[email][PATCH] Refactor Hashtable usage to Map</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lists@spiegs.com">Eric Spiegelberg</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 May 2005 09:35:05 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:07 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:07 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409355" author="lists@spiegs.com" created="Sun, 15 May 2005 09:38:42 +0000"  >&lt;p&gt;Created an attachment (id=15031)&lt;br/&gt;
Refactors Hashtable usage to Map &lt;/p&gt;

&lt;p&gt;I agree with you that breaking existing API&apos;s is a bad thing. However, the&lt;br/&gt;
project is currently at 1.0-dev and the main page itself states:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The code is unreleased&lt;/li&gt;
	&lt;li&gt;Methods and classes can and will appear and disappear without warning&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;While changing the API at this point is less than ideal, most people would&lt;br/&gt;
accept that there exists a potential of change between 1.0-dev and 1.0. When it&lt;br/&gt;
comes down to it, all we&apos;re talking about is changing a public method&apos;s return&lt;br/&gt;
object from a Hashtable to a Map. This is likely the last opportunity to make&lt;br/&gt;
this (trivial) change before the v1.0 release and it would then have to be&lt;br/&gt;
postponed until 1.1 (or whatever). I think changing it now is in everyone&apos;s&lt;br/&gt;
best interest.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Eric&lt;/p&gt;

&lt;p&gt;Eric Spiegelberg wrote:&lt;/p&gt;

&lt;p&gt;&amp;gt; Matt Benson wrote:&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;I just joined the list myself... (for sandbox&lt;br/&gt;
&amp;gt;&amp;gt;commons-pgp) but I noticed that in the non-checkstyle&lt;br/&gt;
&amp;gt;&amp;gt;changes from this patch, the signature of a public&lt;br/&gt;
&amp;gt;&amp;gt;method is modified in at least one place. This will&lt;br/&gt;
&amp;gt;&amp;gt;break already-compiled code running against the&lt;br/&gt;
&amp;gt;&amp;gt;library.  Over in Ant-land we consider that bad; I can&lt;br/&gt;
&amp;gt;&amp;gt;only assume the same would be true in Jakarta commons.&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;$0.02,&lt;br/&gt;
&amp;gt;&amp;gt;Matt&lt;/p&gt;</comment>
                            <comment id="12409356" author="skitching" created="Sun, 15 May 2005 16:15:27 +0000"  >&lt;p&gt;Is Email intended to support v1.1 JVMs? If so, Map is not an option.&lt;/p&gt;</comment>
                            <comment id="12409357" author="dgraham@apache.org" created="Mon, 16 May 2005 00:07:21 +0000"  >&lt;p&gt;Other projects like Validator and BeanUtils have learned the hard way that&lt;br/&gt;
exposing concrete implementation classes in public API is very hard to change&lt;br/&gt;
once released.  Hashtable has been effectively deprecated for many years now. &lt;br/&gt;
Converting those references to Map is an easy and obvious change.&lt;/p&gt;</comment>
                            <comment id="12409358" author="diongillard" created="Wed, 22 Jun 2005 22:50:51 +0000"  >&lt;p&gt;Committed to SVN&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333517" name="ASF.LICENSE.NOT.GRANTED--Hashtable_to_Map_Refactor.patch" size="3437" author="lists@spiegs.com" created="Sun, 15 May 2005 09:38:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34919</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 15 May 2005 16:15:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-23] [email] [patch] HTML email with plain text alternative and attachments</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-23</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;With the current MultiPartEmail class, you currently cannot properly create a&lt;br/&gt;
message that contains an html part, a text alternative, and attachments. The&lt;br/&gt;
current HtmlEmail will not properly create such a message either. The attached&lt;br/&gt;
patch to MultiPartEmail allows you to do this, e.g.:&lt;br/&gt;
MultiPartEmail email = new MultiPartEmail();&lt;br/&gt;
email.setFrom(&quot;me@mydomain.com&quot;);&lt;br/&gt;
email.addTo(&quot;you@yourdomain.com&quot;);&lt;br/&gt;
email.setSubject(&quot;message subject&quot;);&lt;br/&gt;
email.setSubType(&quot;mixed&quot;);&lt;/p&gt;

&lt;p&gt;MimeMultipart multiPart = new MimeMultipart(&quot;alternative&quot;);&lt;/p&gt;

&lt;p&gt;// text alternative&lt;br/&gt;
MimeBodyPart bodyPart1 = new MimeBodyPart();&lt;br/&gt;
bodyPart1.setContent(&quot;Text message&quot;, &quot;text/plain&quot;);&lt;br/&gt;
multiPart.addBodyPart(bodyPart1);&lt;/p&gt;

&lt;p&gt;// html alternative&lt;br/&gt;
MimeBodyPart bodyPart2 = new MimeBodyPart();&lt;br/&gt;
bodyPart2.setContent(&quot;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;lt;p&amp;gt;html message&amp;lt;/p&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;, &quot;text/html&quot;);&lt;br/&gt;
multiPart.addBodyPart(bodyPart2);&lt;/p&gt;

&lt;p&gt;email.addPart(multiPart);&lt;br/&gt;
// add attachments&lt;br/&gt;
email.send()&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341678">EMAIL-23</key>
            <summary>[email] [patch] HTML email with plain text alternative and attachments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scott@minutestopost.com">Scott</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Sep 2004 03:51:24 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:07 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:07 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407413" author="scott@minutestopost.com" created="Wed, 1 Sep 2004 03:53:59 +0000"  >&lt;p&gt;Created an attachment (id=12585)&lt;br/&gt;
MultiPartEmail patch&lt;/p&gt;</comment>
                            <comment id="12407414" author="corsc" created="Sun, 24 Oct 2004 18:44:15 +0000"  >&lt;p&gt;please refer to patch submitted for bug: 18971.&lt;/p&gt;

&lt;p&gt;This bug and 18971 are actually caused by the same problem.&lt;/p&gt;</comment>
                            <comment id="12407415" author="dep4b" created="Mon, 25 Oct 2004 00:18:48 +0000"  >&lt;p&gt;I have applied the patch by hand, please double check it.  Unforutnantly, I&lt;br/&gt;
can&apos;t get the unit tests to run..  I&apos;m getting relay errors..  Not sure, but&lt;br/&gt;
dumbster doesn&apos;t seem tob e the SMTP server, I think I may have one running&lt;br/&gt;
locally or something...&lt;/p&gt;</comment>
                            <comment id="12407416" author="scott@minutestopost.com" created="Mon, 25 Oct 2004 05:07:25 +0000"  >&lt;p&gt;The patch was not completely applied, below is the missing part. I&apos;m also unable&lt;br/&gt;
to get the test cases working, but after removing the four lines below, things&lt;br/&gt;
appear to work fine. Thanks.&lt;/p&gt;

&lt;p&gt;Index: MultiPartEmail.java&lt;br/&gt;
===================================================================&lt;br/&gt;
RCS file:&lt;br/&gt;
/home/cvspublic/jakarta-commons-sandbox/email/src/java/org/apache/commons/mail/MultiPartEmail.java,v&lt;br/&gt;
retrieving revision 1.7&lt;br/&gt;
diff -u -r1.7 MultiPartEmail.java&lt;br/&gt;
&amp;#8212; MultiPartEmail.java 24 Oct 2004 17:27:21 -0000      1.7&lt;br/&gt;
+++ MultiPartEmail.java 24 Oct 2004 22:00:58 -0000&lt;br/&gt;
@@ -122,10 +122,6 @@&lt;br/&gt;
         container = new MimeMultipart();&lt;br/&gt;
         super.setContent(container);&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;// Add the first body part to the message.  The fist body part must be&lt;/li&gt;
	&lt;li&gt;primaryBodyPart = new MimeBodyPart();&lt;/li&gt;
	&lt;li&gt;container.addBodyPart(primaryBodyPart);&lt;br/&gt;
-&lt;br/&gt;
         initialized = true;&lt;br/&gt;
     }&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12407417" author="dep4b" created="Fri, 29 Oct 2004 01:48:48 +0000"  >&lt;p&gt;Hi..  I tried removing the lines like you suggested, and that made&lt;br/&gt;
MultipartEmailTest fail!  &lt;/p&gt;

&lt;p&gt;I think what happened is that the order of patches got messed up, which is why&lt;br/&gt;
some of them apply and some didn&apos;t apply cleanly.&lt;/p&gt;

&lt;p&gt;I am going to try and get the other patches in, and then see about removin these&lt;br/&gt;
lines...&lt;/p&gt;</comment>
                            <comment id="12407418" author="scott@minutestopost.com" created="Fri, 29 Oct 2004 02:25:16 +0000"  >&lt;p&gt;This is likely because the patch on this issue moves the initialization of&lt;br/&gt;
primaryBodyPart from init() to getPrimaryBodyPart(). Because the patch wasn&apos;t&lt;br/&gt;
entirely applied (code not removed from init()), this code was duplicated in two&lt;br/&gt;
places.&lt;/p&gt;

&lt;p&gt;Then, over at &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-27&quot; title=&quot;[email] further improvements to test code and removal of emails validation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-27&quot;&gt;&lt;del&gt;COM-1681&lt;/del&gt;&lt;/a&gt;, Corey noticed the duplicate code and removed it from&lt;br/&gt;
getPrimaryBodyPart(), now you are removing it again and primaryBodyPart isn&apos;t&lt;br/&gt;
initialized anywhere.&lt;/p&gt;

&lt;p&gt;I&apos;m all of this is clear as mud &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, but I&apos;d like to keep the initialization of&lt;br/&gt;
primaryBodyPart in getPrimaryBodyPart() so that it only happens if&lt;br/&gt;
primaryBodyPart is actually used. If its helpful, I can wait until all of the&lt;br/&gt;
patches are in and submit a new one for MultipartEmail.&lt;/p&gt;</comment>
                            <comment id="12407419" author="dep4b" created="Mon, 1 Nov 2004 21:54:52 +0000"  >&lt;p&gt;Hey, is this still open then?&lt;/p&gt;</comment>
                            <comment id="12407420" author="corsc" created="Thu, 4 Nov 2004 23:10:21 +0000"  >&lt;p&gt;Yes, still open. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Here is an except from the commons-dec mailing list (thx scott).&lt;/p&gt;

&lt;p&gt;I am going to try to create a unit test for this and then see when we can take &lt;br/&gt;
it.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Except&amp;#93;&lt;/span&gt;&lt;br/&gt;
HtmlEmail - still broken. if, for instance, you create an html email&lt;br/&gt;
with 2 embedded jpeg files, you end up with this structure:&lt;/p&gt;

&lt;p&gt;multipart/related&lt;br/&gt;
    text/html&lt;br/&gt;
    image/jpeg&lt;br/&gt;
    image/jpeg&lt;br/&gt;
    text/plain&lt;/p&gt;

&lt;p&gt;which will not display properly with many email clients. we really want:&lt;/p&gt;

&lt;p&gt;multipart/alternative&lt;br/&gt;
    text/plain&lt;br/&gt;
    multipart/related&lt;br/&gt;
        text/html&lt;br/&gt;
        image/jpeg&lt;br/&gt;
        image/jpeg&lt;/p&gt;

&lt;p&gt;or, if there are email attachments, something like:&lt;/p&gt;

&lt;p&gt;multipart/mixed&lt;br/&gt;
    multipart/alternative&lt;br/&gt;
        text/plain&lt;br/&gt;
        multipart/related&lt;br/&gt;
            text/html&lt;br/&gt;
            image/jpeg&lt;br/&gt;
            image/jpeg&lt;br/&gt;
    attachment1-content-type&lt;br/&gt;
    attachment2-content-type&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;end except&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12407421" author="corsc" created="Sun, 7 Nov 2004 15:36:36 +0000"  >&lt;p&gt;Created an attachment (id=13348)&lt;br/&gt;
proposed changes to fix this bug.  Note: test does not validate output (yet), output can be validated manually&lt;/p&gt;</comment>
                            <comment id="12407422" author="corsc" created="Mon, 8 Nov 2004 20:43:29 +0000"  >&lt;p&gt;Scott,&lt;/p&gt;

&lt;p&gt;Does this resolve the problem for you?&lt;/p&gt;

&lt;p&gt;-Corey&lt;/p&gt;</comment>
                            <comment id="12407423" author="scott@minutestopost.com" created="Tue, 9 Nov 2004 00:18:52 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;This is a step in the right direction...a message with html and plain text will&lt;br/&gt;
display properly. However I noticed two issues after applying the patch:&lt;/p&gt;

&lt;p&gt;1. Embedded images. It appears to construct a message like (assuming 1 embedded&lt;br/&gt;
jpeg):&lt;br/&gt;
multipart/alternative&lt;br/&gt;
    text/plain&lt;br/&gt;
    text/html&lt;br/&gt;
    image/jpeg&lt;/p&gt;

&lt;p&gt;Since they all belong to the alternative part, only the last part (the image) is&lt;br/&gt;
displayed by the email client, and the rest is ignored. The html and embedded&lt;br/&gt;
image content need to be in a nested mulipart/related.&lt;/p&gt;

&lt;p&gt;2. Attachments. Attachments are added to the email by MultipartEmail.attach()&lt;br/&gt;
before the rest of the message is constructed during HtmlEmail.send(), creating&lt;br/&gt;
(assuming 1 jpeg attachment):&lt;br/&gt;
multipart/mixed&lt;br/&gt;
    image/jpeg&lt;br/&gt;
    multipart/alternative&lt;br/&gt;
        text/plain&lt;br/&gt;
        text/html&lt;/p&gt;

&lt;p&gt;This isn&apos;t necessarily incorrect, but would probably be unexpected behavior for&lt;br/&gt;
users because many clients (I&apos;m testing in thunderbird, evolution, and apple&lt;br/&gt;
mail) will display the attachment (or an icon representing the attachment)&lt;br/&gt;
inline at the top of the email.&lt;/p&gt;

&lt;p&gt;Scott&lt;/p&gt;</comment>
                            <comment id="12407424" author="corsc" created="Wed, 10 Nov 2004 20:45:41 +0000"  >&lt;p&gt;Scott (all),&lt;/p&gt;

&lt;p&gt;Thanks for you help and patience with this matter. &lt;br/&gt;
I am happy to say that I believe that I have finally got it licked once and &lt;br/&gt;
for all.&lt;/p&gt;

&lt;p&gt;Please let me know how is goes for you.&lt;br/&gt;
-Corey&lt;/p&gt;</comment>
                            <comment id="12407425" author="corsc" created="Wed, 10 Nov 2004 20:46:29 +0000"  >&lt;p&gt;Created an attachment (id=13379)&lt;br/&gt;
resubmission of previous patches with minor changes (thanks to directions from scott)&lt;/p&gt;</comment>
                            <comment id="12407426" author="dep4b" created="Thu, 11 Nov 2004 19:07:17 +0000"  >&lt;p&gt;Is this then the one I should apply?  It has the sum total of previous changes,&lt;br/&gt;
correct?&lt;/p&gt;</comment>
                            <comment id="12407427" author="dep4b" created="Mon, 15 Nov 2004 02:07:09 +0000"  >&lt;p&gt;Okay..   I think we can close this now!  I applied it, but changed the name of&lt;br/&gt;
the new testcase, I don&apos;t like test cases named after bugs, as then you need to&lt;br/&gt;
go look at the bug to see what the testcase is about.  I did add the bug id in&lt;br/&gt;
the description though..&lt;/p&gt;</comment>
                            <comment id="12407428" author="corsc" created="Mon, 15 Nov 2004 15:08:33 +0000"  >&lt;p&gt;All sounds great to me Eric, sorry about the name of the test case, I just &lt;br/&gt;
feel like being creative at the time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;-Corey&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333093" name="ASF.LICENSE.NOT.GRANTED--MultiPartEmail.patch" size="3872" author="scott@minutestopost.com" created="Wed, 1 Sep 2004 03:53:59 +0000"/>
                            <attachment id="12333095" name="ASF.LICENSE.NOT.GRANTED--bug3097v2.txt" size="17498" author="corsc" created="Wed, 10 Nov 2004 20:46:29 +0000"/>
                            <attachment id="12333094" name="ASF.LICENSE.NOT.GRANTED--patch_bug30973_response.txt" size="9218" author="corsc" created="Sun, 7 Nov 2004 15:36:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 24 Oct 2004 18:44:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182493</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-22] [email] New embed method for HtmlEmail</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-22</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Hi!&lt;/p&gt;

&lt;p&gt;I&apos;ve written a new &quot;embed&quot; method (simply but neccesary) for the HtmlEmail&lt;br/&gt;
class:&lt;/p&gt;


&lt;p&gt;    public String embed(DataSource ds, String name) throws EmailException{&lt;/p&gt;

&lt;p&gt;         // verify that the DataSource is valid&lt;br/&gt;
        try&lt;br/&gt;
        {&lt;br/&gt;
            if (ds == null || ds.getInputStream() == null)&lt;/p&gt;
            {
                throw new EmailException(&quot;Invalid Datasource&quot;);
            }
&lt;p&gt;        }&lt;br/&gt;
        catch (IOException e)&lt;/p&gt;
        {
            throw new EmailException(&quot;Invalid Datasource&quot;);
        }
&lt;p&gt;        MimeBodyPart mbp = new MimeBodyPart();&lt;/p&gt;

&lt;p&gt;        try&lt;/p&gt;
        {
            mbp.setDataHandler(new DataHandler(ds));
            mbp.setFileName(name);
            mbp.setDisposition(&quot;inline&quot;);
            String cid = randomAlphabetic(HtmlEmail.CID_LENGTH).toLowerCase();
            mbp.addHeader(&quot;Content-ID&quot;, &quot;&amp;lt;&quot; + cid + &quot;&amp;gt;&quot;);
            this.inlineImages.add(mbp);
            return cid;
        }
&lt;p&gt;        catch (MessagingException me)&lt;/p&gt;
        {
            throw new EmailException(me);
        }
&lt;p&gt;    }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12343044">EMAIL-22</key>
            <summary>[email] New embed method for HtmlEmail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ddiaz40@hotmail.com">zarkon</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Apr 2006 18:06:12 +0000</created>
                <updated>Thu, 1 Feb 2007 06:17:35 +0000</updated>
                            <resolved>Thu, 1 Feb 2007 06:17:35 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12461877" author="bens" created="Wed, 3 Jan 2007 00:32:24 +0000"  >&lt;p&gt;This is the same issue as &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-35&quot; title=&quot;[email] Embedding raw DataSource Attachments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-35&quot;&gt;&lt;del&gt;EMAIL-35&lt;/del&gt;&lt;/a&gt;, and there&apos;s a patch in there that adds this. It doesn&apos;t try to validate the DataSource, though &amp;#8211; perhaps it should. Thoughts?&lt;/p&gt;</comment>
                            <comment id="12469343" author="diongillard" created="Thu, 1 Feb 2007 06:17:35 +0000"  >&lt;p&gt;Email-35 looks like a better patch as well.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12342585">EMAIL-35</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Jan 2007 00:32:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vn6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-21] [email] add to nightly builds</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-21</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Please add the commons-email project to the nightly builds.&lt;/p&gt;

&lt;p&gt;I&apos;ve included an unmodified build.xml as generated by &quot;maven ant&quot; using Maven&lt;br/&gt;
1.0-beta8.  Email requires the JavaBeans Activation Framework and JavaMail jars,&lt;br/&gt;
which aren&apos;t available on ibiblio, so the build file will need tweaking.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341562">EMAIL-21</key>
            <summary>[email] add to nightly builds</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="michael.davey@coderage.org">Michael Davey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jul 2004 15:34:53 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:06 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:06 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406982" author="michael.davey@coderage.org" created="Fri, 9 Jul 2004 15:35:47 +0000"  >&lt;p&gt;Created an attachment (id=12068)&lt;br/&gt;
build.xml file for commons-email&lt;/p&gt;</comment>
                            <comment id="12406983" author="mailings@matthias-wessendorf.de" created="Wed, 1 Sep 2004 13:04:15 +0000"  >&lt;p&gt;this &lt;b&gt;bug&lt;/b&gt; is obsolete,&lt;br/&gt;
since Craig added commons-email to nightly builds.&lt;br/&gt;
Thanks!&lt;br/&gt;
see &lt;a href=&quot;http://cvs.apache.org/builds/jakarta-commons/nightly/commons-email/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cvs.apache.org/builds/jakarta-commons/nightly/commons-email/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Matthias&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332976" name="ASF.LICENSE.NOT.GRANTED--build.xml" size="5441" author="michael.davey@coderage.org" created="Fri, 9 Jul 2004 15:35:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Sep 2004 13:04:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-20] [email] create test email directory</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-20</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I&apos;ve started pulling the tests into shape. One of the requirements is a goal that creates the test-emails &lt;br/&gt;
directory.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341852">EMAIL-20</key>
            <summary>[email] create test email directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark.lowe@boxstuff.com">Mark Lowe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Nov 2004 06:21:00 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:06 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:06 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407955" author="mark.lowe@boxstuff.com" created="Fri, 5 Nov 2004 06:22:06 +0000"  >&lt;p&gt;Created an attachment (id=13332)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; see description&lt;/p&gt;</comment>
                            <comment id="12407956" author="dep4b" created="Mon, 15 Nov 2004 02:11:06 +0000"  >&lt;p&gt;The tests right now generate the directory if it is missing.  I like that&lt;br/&gt;
because it makes the tests run better in Ant...   The maven Ant script generator&lt;br/&gt;
doesn&apos;t know about anything in maven.xml, so we want to do any directory&lt;br/&gt;
creating inside the test..  A bit icky, as this is cleaner, but simpler for the&lt;br/&gt;
Ant build.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333213" name="ASF.LICENSE.NOT.GRANTED--maven-create-test-email-dir.patch" size="675" author="mark.lowe@boxstuff.com" created="Fri, 5 Nov 2004 06:22:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32068</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 15 Nov 2004 02:11:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-19] [email] Inline attatchment encoding was incorrect</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-19</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;the Content-ID needs to be between &amp;lt;&amp;gt; this was preventing effective inclusion of inline images in html &lt;br/&gt;
emails.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341834">EMAIL-19</key>
            <summary>[email] Inline attatchment encoding was incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark.lowe@boxstuff.com">Mark Lowe</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Oct 2004 02:52:10 +0000</created>
                <updated>Tue, 16 May 2006 12:19:04 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:19:04 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407890" author="mark.lowe@boxstuff.com" created="Wed, 27 Oct 2004 02:54:21 +0000"  >&lt;p&gt;Created an attachment (id=13226)&lt;br/&gt;
Returns correct id string, and sets contentid correctly of inline attatchments.&lt;/p&gt;</comment>
                            <comment id="12407891" author="dep4b" created="Wed, 27 Oct 2004 17:01:17 +0000"  >&lt;p&gt;thanks..  Can you test that now?&lt;/p&gt;</comment>
                            <comment id="12407892" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 18:02:52 +0000"  >&lt;p&gt;I&apos;ve tested the output on a mail client and can verify that the content displays correctly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333195" name="ASF.LICENSE.NOT.GRANTED--inline-attatchments-htmlemail-fix.patch" size="866" author="mark.lowe@boxstuff.com" created="Wed, 27 Oct 2004 02:54:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31904</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Oct 2004 17:01:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56934</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vl87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182412</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-18] [email] Minor Update Add Issue tracking URL to doco</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-18</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Attached is a patch to add the &amp;lt;issueTrackingUrl&amp;gt; element to the POM, &lt;br/&gt;
currently this link is not available in the new Email site.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341904">EMAIL-18</key>
            <summary>[email] Minor Update Add Issue tracking URL to doco</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="corsc">Corey Scott</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Nov 2004 21:53:02 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:05 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408206" author="corsc" created="Tue, 30 Nov 2004 21:53:25 +0000"  >&lt;p&gt;Created an attachment (id=13593)&lt;br/&gt;
minor change to POM&lt;/p&gt;</comment>
                            <comment id="12408207" author="germuska" created="Tue, 30 Nov 2004 23:04:59 +0000"  >&lt;p&gt;Patch applied in version 1.6 &amp;#8211; thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333265" name="ASF.LICENSE.NOT.GRANTED--patch.txt" size="915" author="corsc" created="Tue, 30 Nov 2004 21:53:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32447</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Nov 2004 23:04:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182522</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-17] [email] dumpster bogus smtp server fails on tests</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-17</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I&apos;ve updated my copy, to the current head version, most of which seem to be related to dumpster. I&apos;ll &lt;br/&gt;
take a look at teh dumpster docs and see if I can sent some patches in. I&apos;ll attach the failing test reports &lt;br/&gt;
to see of this is somethig specific to my config.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341845">EMAIL-17</key>
            <summary>[email] dumpster bogus smtp server fails on tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark.lowe@boxstuff.com">Mark Lowe</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Nov 2004 02:35:59 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:05 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:05 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407926" author="mark.lowe@boxstuff.com" created="Tue, 2 Nov 2004 02:37:39 +0000"  >&lt;p&gt;Created an attachment (id=13294)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; see bug description&lt;/p&gt;</comment>
                            <comment id="12407927" author="mark.lowe@boxstuff.com" created="Tue, 2 Nov 2004 02:38:11 +0000"  >&lt;p&gt;Created an attachment (id=13295)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; see bug description&lt;/p&gt;</comment>
                            <comment id="12407928" author="mark.lowe@boxstuff.com" created="Tue, 2 Nov 2004 02:38:46 +0000"  >&lt;p&gt;Created an attachment (id=13296)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; see bug description&lt;/p&gt;</comment>
                            <comment id="12407929" author="mark.lowe@boxstuff.com" created="Tue, 2 Nov 2004 02:39:12 +0000"  >&lt;p&gt;Created an attachment (id=13297)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; see bug description&lt;/p&gt;</comment>
                            <comment id="12407930" author="dep4b" created="Tue, 2 Nov 2004 03:52:51 +0000"  >&lt;p&gt;Do you already have a mail server running?   Try and change the port that&lt;br/&gt;
dumbster is starting on from 25 to something else....   I am guessing that it is&lt;br/&gt;
because dubmster by default starts on port 25.&lt;/p&gt;</comment>
                            <comment id="12407931" author="mark.lowe@boxstuff.com" created="Tue, 2 Nov 2004 06:36:58 +0000"  >&lt;p&gt;I made sure my smtp server was off, as I thought that could be the&lt;br/&gt;
problem also. A local port scan confirms that nothing is running, when&lt;br/&gt;
i start the test. The problem does seem to be starting dumpster. I&lt;br/&gt;
added a fakeserver.start() in the setup method and it stopped&lt;br/&gt;
EmailTest throwing an exception,&lt;/p&gt;

&lt;p&gt;But if commons mail is aiming for a use case where user checks code&lt;br/&gt;
out from cvs and type maven then the reports I attatched are valid.&lt;/p&gt;

&lt;p&gt;I&apos;ll take a closer look when i get time. I just wouldn&apos;t like to be&lt;br/&gt;
submitting patches for bugs that don&apos;t exist.&lt;/p&gt;</comment>
                            <comment id="12407932" author="corsc" created="Tue, 2 Nov 2004 11:38:40 +0000"  >&lt;p&gt;Mark,&lt;/p&gt;

&lt;p&gt;There are two things.&lt;/p&gt;

&lt;p&gt;The &quot;unexpected exception thrown&quot; have been fixed, patch has not been applied &lt;br/&gt;
yet. (it should be soon).  This was some invalid messages in testCharsValid, &lt;br/&gt;
namely the &quot;&quot; and null.&lt;/p&gt;

&lt;p&gt;The mail server failed to start means that dumbster timed-out, I cannot &lt;br/&gt;
replicated this on windows, although I have seen a similar thing on unix.  I &lt;br/&gt;
will continue to look into it, but any help would be appreciated.&lt;/p&gt;

&lt;p&gt;Patch for bad messages:&lt;br/&gt;
Index: src/test/org/apache/commons/mail/BaseEmailTestCase.java&lt;br/&gt;
===================================================================&lt;br/&gt;
RCS file: /home/cvspublic/jakarta-commons-&lt;br/&gt;
sandbox/email/src/test/org/apache/commons/mail/BaseEmailTestCase.java,v&lt;br/&gt;
retrieving revision 1.4&lt;br/&gt;
diff -u -r1.4 BaseEmailTestCase.java&lt;br/&gt;
&amp;#8212; src/test/org/apache/commons/mail/BaseEmailTestCase.java	1 Nov 2004 &lt;br/&gt;
13:55:00 -0000	1.4&lt;br/&gt;
+++ src/test/org/apache/commons/mail/BaseEmailTestCase.java	1 Nov 2004 &lt;br/&gt;
17:03:30 -0000&lt;br/&gt;
@@ -62,16 +62,13 @@&lt;/p&gt;

&lt;p&gt;     protected String[] testCharsValid = &lt;br/&gt;
     &lt;/p&gt;
{
-        &quot;&quot;, 
         &quot; &quot;, 
         &quot;a&quot;, 
         &quot;A&quot;, 
-        &quot;&#195;&#164;&quot;, 
-        &quot;&#195;&#159;&quot;, 
+        &quot;\uc5ec&quot;, 
         &quot;0123456789&quot;, 
         &quot;012345678901234567890&quot;, 
-        &quot;\n&quot;, 
-        null
+        &quot;\n&quot; 
     }
&lt;p&gt;;&lt;/p&gt;

&lt;p&gt;     /** Array of test strings */&lt;/p&gt;</comment>
                            <comment id="12407933" author="mark.lowe@boxstuff.com" created="Tue, 2 Nov 2004 16:25:00 +0000"  >&lt;p&gt;Okay I&apos;ll look into the timeout on unix.. And findout what how long it needs to work.. &lt;/p&gt;

&lt;p&gt;Mark&lt;/p&gt;
</comment>
                            <comment id="12407934" author="dep4b" created="Tue, 2 Nov 2004 19:13:55 +0000"  >&lt;p&gt;Also, you may want to check with the dumbster developer, he seems helpful:&lt;br/&gt;
&lt;a href=&quot;http://www.quintanasoft.com/dumbster/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.quintanasoft.com/dumbster/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12407935" author="mark.lowe@boxstuff.com" created="Thu, 4 Nov 2004 05:55:46 +0000"  >&lt;p&gt;After a few false alarms and things that seemed to fix the problem I found that dumbster wont play on &lt;br/&gt;
*nix (at least OSX). &lt;/p&gt;

&lt;p&gt;Tried changing port to 2500 to avoid issues running as non root user. &lt;br/&gt;
Played around with instantiating SimpleSmtpServer in various places. &lt;/p&gt;

&lt;p&gt;The dumbster guy has responded to my mail, saying he ran my test case on windows and it worked (no &lt;br/&gt;
suprises there). &lt;/p&gt;

&lt;p&gt;SimpleSmtpServer fakeMailServer = SimpleSmtpServer.start();&lt;br/&gt;
while(fakeMailServer.isStopped()) {&lt;br/&gt;
       System.out.println(&quot;trying to start mail server&quot;);&lt;br/&gt;
}&lt;br/&gt;
assertFalse(fakeMailServer.isStopped());&lt;/p&gt;</comment>
                            <comment id="12407936" author="corsc" created="Thu, 4 Nov 2004 22:57:52 +0000"  >&lt;p&gt;Created an attachment (id=13327)&lt;br/&gt;
final (hopefully) revision to the unit tests using dumbster, this has been tested on WinXp and Redhat, requires special version of Dumbster (will attach to this bug)&lt;/p&gt;</comment>
                            <comment id="12407937" author="corsc" created="Thu, 4 Nov 2004 22:59:04 +0000"  >&lt;p&gt;Created an attachment (id=13328)&lt;br/&gt;
Special version of dumbster required by prev patch (hopefully will be incorporated into main dumbster soon)&lt;/p&gt;</comment>
                            <comment id="12407938" author="mark.lowe@boxstuff.com" created="Thu, 4 Nov 2004 23:54:56 +0000"  >&lt;p&gt;It turns out that the smtp.jar is required dumpster or not, &lt;/p&gt;

&lt;p&gt;even the minimal example below requires smtp.jar to connect to dumpster.. DOHH.. Its always the &lt;br/&gt;
simple things.. &lt;/p&gt;

&lt;p&gt;  		SimpleSmtpServer server = SimpleSmtpServer.start(2500);&lt;br/&gt;
  		try &lt;/p&gt;
{
  		
  		
			this.email.setFrom(&quot;foo@bar.com&quot;);
			this.email.addTo(&quot;mark@domain.com&quot;);
			this.email.setHostName(&quot;localhost&quot;);
			this.email.setSmtpPort(2500);
			this.email.getMailSession().setDebug(true);
			
			
			
			System.out.println(&quot;SMTP is running:&quot;+ !server.isStopped());
			
			this.email.send();
			server.stop();
			
		}
&lt;p&gt; catch (Exception e) &lt;/p&gt;
{
			e.printStackTrace();
			fail(&quot;Cant send mail.&quot;);
		}</comment>
                            <comment id="12407939" author="dep4b" created="Mon, 15 Nov 2004 02:09:07 +0000"  >&lt;p&gt;Can we close this now?  I think everything is working properly now that I&lt;br/&gt;
applied 30973&lt;/p&gt;</comment>
                            <comment id="12407940" author="mark.lowe@boxstuff.com" created="Mon, 15 Nov 2004 02:17:18 +0000"  >&lt;p&gt;I think most the problems were with the smtp.jat issue.. So to my knowledge it all works now..&lt;/p&gt;</comment>
                            <comment id="12407941" author="corsc" created="Sun, 28 Nov 2004 21:20:35 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 32410 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333205" name="ASF.LICENSE.NOT.GRANTED--TEST-org.apache.commons.mail.EmailTest.txt" size="4411" author="mark.lowe@boxstuff.com" created="Tue, 2 Nov 2004 02:37:39 +0000"/>
                            <attachment id="12333206" name="ASF.LICENSE.NOT.GRANTED--TEST-org.apache.commons.mail.HtmlEmailTest.txt" size="4433" author="mark.lowe@boxstuff.com" created="Tue, 2 Nov 2004 02:38:11 +0000"/>
                            <attachment id="12333207" name="ASF.LICENSE.NOT.GRANTED--TEST-org.apache.commons.mail.MultiPartEmailTest.txt" size="4471" author="mark.lowe@boxstuff.com" created="Tue, 2 Nov 2004 02:38:46 +0000"/>
                            <attachment id="12333208" name="ASF.LICENSE.NOT.GRANTED--TEST-org.apache.commons.mail.SimpleEmailTest.txt" size="2245" author="mark.lowe@boxstuff.com" created="Tue, 2 Nov 2004 02:39:12 +0000"/>
                            <attachment id="12333210" name="ASF.LICENSE.NOT.GRANTED--dumbster-1.3.1.jar" size="18890" author="corsc" created="Thu, 4 Nov 2004 22:59:04 +0000"/>
                            <attachment id="12333209" name="ASF.LICENSE.NOT.GRANTED--patch_dumbster_unix.txt" size="26863" author="corsc" created="Thu, 4 Nov 2004 22:57:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 2 Nov 2004 03:52:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vn5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-16] [email] Issue with cid URLs generated by .embed(...) in HtmlEmail.java</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-16</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;There seems to be an issue with the content-id (cid) returned by the &lt;br/&gt;
.embed(...) member in HtmlEmail.java. The function sometimes returns cids &lt;br/&gt;
with may also contain single quotes &apos; or double quotes &quot; (all within ascii &lt;br/&gt;
range 32-126). These random strings break the HTML code when a cid is &lt;br/&gt;
referenced in an img-tag, e.g. &amp;lt;img src=&quot;cid:hju4&quot;4u23&quot;&amp;gt;. Since this is a &lt;br/&gt;
random function, it only happens from time to time. Tests with Outlook, &lt;br/&gt;
Lotus Notes and Apple Mail clients show that they cannot render those &lt;br/&gt;
images, because their html parser only returns a portion of the actual cid.&lt;br/&gt;
I have tried to encode the cid (with commons URLCodec), but that doesn&apos;t work&lt;br/&gt;
either.&lt;/p&gt;

&lt;p&gt;Fixed it by using RandomStringUtils.randomAlphabetic(...) in the .embed() &lt;br/&gt;
function in HtmlEmail.java, instead of .randomAscii(...). Could also be &lt;br/&gt;
fixed by using a combination of .randomNumeric(...) + &lt;br/&gt;
.randomAlphabetic(...), but the result should not contain url-offending &lt;br/&gt;
characters &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Also consider to use the commons-id package as soon as it is &lt;br/&gt;
stable.&lt;/p&gt;

&lt;p&gt;This patch works for me so far:&lt;/p&gt;

&lt;p&gt;% cvs diff HtmlEmail.java&lt;/p&gt;

&lt;p&gt;Index: HtmlEmail.java&lt;br/&gt;
===================================================================&lt;br/&gt;
RCS file:&lt;br/&gt;
/home/cvspublic/jakarta-commons-sandbox/email/src/java/org/apache/commons/mail/HtmlEmail.java,v&lt;br/&gt;
retrieving revision 1.8&lt;br/&gt;
diff -r1.8 HtmlEmail.java&lt;br/&gt;
145c145&lt;br/&gt;
&amp;lt;         String cid = RandomStringUtils.randomAscii(10);&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;         String cid = RandomStringUtils.randomAlphabetic(10);&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341635">EMAIL-16</key>
            <summary>[email] Issue with cid URLs generated by .embed(...) in HtmlEmail.java</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tvcom@web.de">Thorsten Vogel</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Aug 2004 03:41:40 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:04 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:04 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407221" author="corsc" created="Wed, 20 Oct 2004 22:25:38 +0000"  >&lt;p&gt;Here is the patch that does as suggested (generates an alphanumeric string) &lt;br/&gt;
with no unacceptable chars:&lt;/p&gt;

&lt;p&gt;Index: HtmlEmail.java&lt;br/&gt;
===================================================================&lt;br/&gt;
RCS file: /home/cvspublic/jakarta-commons-&lt;br/&gt;
sandbox/email/src/java/org/apache/commons/mail/HtmlEmail.java,v&lt;br/&gt;
retrieving revision 1.9&lt;br/&gt;
diff -u -r1.9 HtmlEmail.java&lt;br/&gt;
&amp;#8212; HtmlEmail.java	18 Oct 2004 20:59:11 -0000	1.9&lt;br/&gt;
+++ HtmlEmail.java	20 Oct 2004 15:22:18 -0000&lt;br/&gt;
@@ -158,8 +158,9 @@&lt;br/&gt;
         mbp.setDataHandler ( new DataHandler( new URLDataSource( url ) ) );&lt;br/&gt;
         mbp.setFileName( name );&lt;br/&gt;
         mbp.setDisposition( &quot;inline&quot; );&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;String cid = RandomStringUtils.randomAscii( 10 );&lt;/li&gt;
	&lt;li&gt;mbp.addHeader( &quot;Content-ID&quot;, cid );&lt;br/&gt;
+		&lt;br/&gt;
+		String cid = RandomStringUtils.randomAlphanumeric(10);&lt;br/&gt;
+		mbp.addHeader( &quot;Content-ID&quot;, cid );&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         this.inlineImages.add( mbp );&lt;br/&gt;
         return mbp.getContentID();&lt;/p&gt;</comment>
                            <comment id="12407222" author="corsc" created="Wed, 20 Oct 2004 22:47:29 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-5&quot; title=&quot;[email] HtmlEmail.embed problem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-5&quot;&gt;&lt;del&gt;COM-1258&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12407223" author="dep4b" created="Wed, 27 Oct 2004 17:06:20 +0000"  >&lt;p&gt;Is this bug still relevant?  &lt;/p&gt;</comment>
                            <comment id="12407224" author="mark.lowe@boxstuff.com" created="Wed, 27 Oct 2004 17:20:47 +0000"  >&lt;p&gt;I dont think so, since the real problem is that the cid needs setting between &amp;lt;cid&amp;gt; and then the cid &lt;br/&gt;
without gt and lt signs need returning . There&apos;s a patch i submitted with the details. &lt;/p&gt;</comment>
                            <comment id="12407225" author="dep4b" created="Wed, 27 Oct 2004 18:16:02 +0000"  >&lt;p&gt;Okay, that is what I thought..  I&apos;ll mark this one invalid.&lt;/p&gt;</comment>
                            <comment id="12407226" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 19:12:54 +0000"  >&lt;p&gt;The bug appears to be valid, I&apos;ll submit a patch with using random alfa numberic toLowerCase() to make &lt;br/&gt;
sure thus doesn&apos;t happen. When the code contains &amp;lt; or &amp;gt; it fails to display the image. &lt;/p&gt;</comment>
                            <comment id="12407227" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 19:17:05 +0000"  >&lt;p&gt;Created an attachment (id=13242)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; changed cid generator to alfanumeric.&lt;/p&gt;</comment>
                            <comment id="12407228" author="dep4b" created="Fri, 29 Oct 2004 01:51:16 +0000"  >&lt;p&gt;I applied the fix.  Can you verify it again?  And if it looks good, close the bug?&lt;/p&gt;</comment>
                            <comment id="12407229" author="mark.lowe@boxstuff.com" created="Fri, 29 Oct 2004 01:58:06 +0000"  >&lt;p&gt;I&apos;ve tested the output on a email client and the problem is resolved. Everytime I build all the test cases &lt;br/&gt;
are run and I spam myself with all the test mails. &lt;/p&gt;

&lt;p&gt;Subject:Test HTML Send #1 Subject (w charset)&lt;/p&gt;

&lt;p&gt;Displays correctly.. Before it did until a pesky &amp;lt; or &amp;gt; got in there. &lt;/p&gt;
</comment>
                            <comment id="12407230" author="dep4b" created="Mon, 1 Nov 2004 21:53:21 +0000"  >&lt;p&gt;Been tested, now closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333045" name="ASF.LICENSE.NOT.GRANTED--html_cid_generator.patch" size="769" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 19:17:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Oct 2004 22:25:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56937</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-15] [email] Bug when using a mail session with authentification</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-15</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Email object throw an exception when sender address is missing. This is right&lt;br/&gt;
but when mail session object is retrieved by setSession method, test on sender&lt;br/&gt;
address is incorrect : sender adress can be already present in mail session but&lt;br/&gt;
not in fromAdress field.&lt;br/&gt;
=&amp;gt; Test must include also MAIL_SMTP_FROM property in mail session&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342776">EMAIL-15</key>
            <summary>[email] Bug when using a mail session with authentification</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="q.werty@laposte.net">Q. Werty</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Dec 2005 06:21:38 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:04 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:04 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411025" author="q.werty@laposte.net" created="Mon, 5 Dec 2005 06:22:13 +0000"  >&lt;p&gt;Created an attachment (id=17144)&lt;br/&gt;
patch for test on MAIL_SMTP_FROM property&lt;/p&gt;</comment>
                            <comment id="12411026" author="diongillard" created="Sun, 12 Feb 2006 20:20:04 +0000"  >&lt;p&gt;Applied patch with minor error message change&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333939" name="ASF.LICENSE.NOT.GRANTED--auth-session.patch" size="529" author="q.werty@laposte.net" created="Mon, 5 Dec 2005 06:22:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 12 Feb 2006 20:20:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56938</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vllj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182472</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-14] [email] not support content  charset gb2312</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-14</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;when i try the example :&lt;br/&gt;
                Email email=new SimpleEmail();&lt;br/&gt;
		email.setHostName(&quot;129.1.1.129&quot;);&lt;br/&gt;
		email.setAuthentication(&quot;admin&quot;,&quot;1&quot;);&lt;br/&gt;
		email.addTo(&quot;wangjianquan@eastsoft.com.cn&quot;, &quot;wjq&quot;);&lt;br/&gt;
		email.setFrom(&quot;admin@wjq.com&quot;, &quot;Me&quot;);&lt;br/&gt;
		email.setCharset(&quot;gb2312&quot;);&lt;br/&gt;
		email.setSubject(&quot;&#178;&#226;&#202;&#212;&#188;&#242;&#181;&#165;&#211;&#202;&#188;&#254;&quot;);&lt;br/&gt;
		email.setMsg(&quot;&#213;&#226;&#202;&#199;&#178;&#226;&#202;&#212;&#188;&#242;&#181;&#165;&#211;&#202;&#188;&#254;&quot;);		&lt;br/&gt;
		email.send();	&lt;/p&gt;

&lt;p&gt;the received mail content like &quot;????????????&quot;	,when change Email.TEXT_PLAIN &lt;br/&gt;
= &quot;text/plain&quot; to  TEXT_PLAIN = &quot;text/plain;charset=gb2312&quot;  , all are right&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342587">EMAIL-14</key>
            <summary>[email] not support content  charset gb2312</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wjq918@hotmail.com">locka</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Sep 2005 16:14:55 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:04 +0000</updated>
                            <resolved>Thu, 22 Feb 2007 23:57:05 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410488" author="phil-apache@whirlycott.com" created="Mon, 10 Oct 2005 02:48:26 +0000"  >&lt;p&gt;Created an attachment (id=16629)&lt;br/&gt;
Properly sets the value of setCharset() into the resultant email message&lt;/p&gt;

&lt;p&gt;That&apos;s a bug.  The input to setCharset() is ignored in all cases.  I&apos;m trying&lt;br/&gt;
to send mail in UTF-8 and I&apos;m having a similar problem as the previous person. &lt;/p&gt;


&lt;p&gt;Here&apos;s a patch that fixes the problem.&lt;/p&gt;</comment>
                            <comment id="12410489" author="dep4b" created="Sun, 16 Oct 2005 02:59:30 +0000"  >&lt;p&gt;From what it looks like, you are basically adding UTF-8 as another charset, correct?&lt;/p&gt;

&lt;p&gt;At this point we support thre charsets:&lt;br/&gt;
    /** */&lt;br/&gt;
    public static final String KOI8_R = &quot;koi8-r&quot;;&lt;br/&gt;
    /** */&lt;br/&gt;
    public static final String ISO_8859_1 = &quot;iso-8859-1&quot;;&lt;br/&gt;
    /** */&lt;br/&gt;
    public static final String US_ASCII = &quot;us-ascii&quot;;&lt;/p&gt;

&lt;p&gt;I am wondering if there is some sort of master list of charsets we should add.  If we have KOI8_R, and &lt;br/&gt;
are now adding UTF-8, what other obscure charsets should we take care off?   &lt;/p&gt;</comment>
                            <comment id="12410490" author="yoshiyukimikami_20051218@saikyoline.jp" created="Sun, 18 Dec 2005 22:55:25 +0000"  >&lt;p&gt;(In reply to comment #2)&lt;br/&gt;
&amp;gt; From what it looks like, you are basically adding UTF-8 as another charset,&lt;br/&gt;
correct?&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; At this point we support thre charsets:&lt;br/&gt;
&amp;gt;     /** */&lt;br/&gt;
&amp;gt;     public static final String KOI8_R = &quot;koi8-r&quot;;&lt;br/&gt;
&amp;gt;     /** */&lt;br/&gt;
&amp;gt;     public static final String ISO_8859_1 = &quot;iso-8859-1&quot;;&lt;br/&gt;
&amp;gt;     /** */&lt;br/&gt;
&amp;gt;     public static final String US_ASCII = &quot;us-ascii&quot;;&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; I am wondering if there is some sort of master list of charsets we should add.&lt;br/&gt;
 If we have KOI8_R, and &lt;br/&gt;
&amp;gt; are now adding UTF-8, what other obscure charsets should we take care off?   &lt;/p&gt;

&lt;p&gt;Hello, I&apos;m Japanese.&lt;br/&gt;
We usually use &quot;ISO-2022-JP&quot; when using Japanese.&lt;br/&gt;
Please add this to list.&lt;/p&gt;</comment>
                            <comment id="12410491" author="yoshiyukimikami_20051218@saikyoline.jp" created="Mon, 19 Dec 2005 00:15:21 +0000"  >&lt;p&gt;Created an attachment (id=17239)&lt;br/&gt;
patch for &quot;order fixed calling methods&quot;.&lt;/p&gt;

&lt;p&gt;Hello Philip,&lt;br/&gt;
I applied the patch you made.&lt;br/&gt;
But other problem cames up then.&lt;br/&gt;
The problem is &quot;order of calling method would be fixed statically&quot;.&lt;/p&gt;

&lt;p&gt;For example...&lt;br/&gt;
1 email.setCharset(&quot;gb2312&quot;);&lt;br/&gt;
2 email.setMsg(&quot;foo&quot;);&lt;br/&gt;
3 email.setCharset(&quot;ISO-2022-JP&quot;);&lt;/p&gt;

&lt;p&gt;In this case, charset &quot;ISO-2022-JP&quot; won&apos;t be used. then I tried to make patch&lt;br/&gt;
for this problem.&lt;/p&gt;

&lt;p&gt;Please check it, and give me some comments.&lt;br/&gt;
Thank you.&lt;/p&gt;</comment>
                            <comment id="12463699" author="bens" created="Wed, 10 Jan 2007 20:23:43 +0000"  >&lt;p&gt;Adding link to related issue.&lt;/p&gt;</comment>
                            <comment id="12471456" author="bens" created="Thu, 8 Feb 2007 19:34:05 +0000"  >&lt;p&gt;I&apos;ve submitted a patch for this issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-54&quot; title=&quot;[email] Add new class Charset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-54&quot;&gt;&lt;del&gt;EMAIL-54&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12475203" author="diongillard" created="Thu, 22 Feb 2007 23:57:05 +0000"  >&lt;p&gt;Fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/EMAIL-54&quot; title=&quot;[email] Add new class Charset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EMAIL-54&quot;&gt;&lt;del&gt;EMAIL-54&lt;/del&gt;&lt;/a&gt; patch&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12342937">EMAIL-54</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12333825" name="ASF.LICENSE.NOT.GRANTED--commons-email-utf8.patch.txt" size="1482" author="phil-apache@whirlycott.com" created="Mon, 10 Oct 2005 02:48:26 +0000"/>
                            <attachment id="12333826" name="ASF.LICENSE.NOT.GRANTED--patch.java" size="1195" author="yoshiyukimikami_20051218@saikyoline.jp" created="Mon, 19 Dec 2005 00:15:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36856</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 10 Oct 2005 02:48:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44601</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-13] [email][PATCH] Additional &quot;To&quot;, &quot;Cc&quot; and &quot;Bcc&quot; setters</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-13</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Additional functionality for setting the To, Cc, and Bcc fields by allowing&lt;br/&gt;
String [] and String [][] as input parameters.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341967">EMAIL-13</key>
            <summary>[email][PATCH] Additional &quot;To&quot;, &quot;Cc&quot; and &quot;Bcc&quot; setters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tmeisenheimer@gmail.com">Travis Meisenheimer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Dec 2004 22:04:17 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:03 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:03 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408432" author="tmeisenheimer@gmail.com" created="Thu, 30 Dec 2004 22:05:14 +0000"  >&lt;p&gt;Created an attachment (id=13863)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; jakarta-commons/mail/Email.java &lt;/p&gt;

&lt;p&gt;Adds additional functionality to Email.java base class by allowing To, Cc, and&lt;br/&gt;
Bcc input setter methods to accept a String [] and String [][]&lt;/p&gt;</comment>
                            <comment id="12408433" author="tmeisenheimer@gmail.com" created="Thu, 30 Dec 2004 22:19:36 +0000"  >&lt;p&gt;(From update of attachment 13863)&lt;br/&gt;
I had trouble making the patchfile with diff.  The java code works, I created&lt;br/&gt;
six new methods and edited nothing else.&lt;/p&gt;</comment>
                            <comment id="12408434" author="mailings@matthias-wessendorf.de" created="Thu, 30 Dec 2004 23:40:44 +0000"  >&lt;p&gt;Travis, thanks!&lt;/p&gt;

&lt;p&gt;It is nice to have string[] for To, Cc, and Bcc&lt;/p&gt;

&lt;p&gt;I will take a look at it!&lt;/p&gt;</comment>
                            <comment id="12408435" author="mailings@matthias-wessendorf.de" created="Thu, 13 Jan 2005 22:51:55 +0000"  >&lt;p&gt;patch submitted! thanks to Travis Meisenheimer for supporting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333306" name="ASF.LICENSE.NOT.GRANTED--Email.java.patch" size="3921" author="tmeisenheimer@gmail.com" created="Thu, 30 Dec 2004 22:05:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32889</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Dec 2004 23:40:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182500</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-12] [email] Patch to remove commons-lang dependency</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-12</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Attached is a patch to remove the dependency on commons lang completely. This&lt;br/&gt;
follows discussion on the mailing list.&lt;/p&gt;

&lt;p&gt;If desired, I can apply the patch myself.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342527">EMAIL-12</key>
            <summary>[email] Patch to remove commons-lang dependency</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scolebourne@joda.org">Stephen Colebourne</reporter>
                        <labels>
                    </labels>
                <created>Sat, 3 Sep 2005 21:44:33 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:03 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:03 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410324" author="scolebourne@joda.org" created="Sat, 3 Sep 2005 21:46:04 +0000"  >&lt;p&gt;Created an attachment (id=16295)&lt;br/&gt;
Patch to remove commons-lang dependency&lt;/p&gt;

&lt;p&gt;(patch created via Eclipse subclipse)&lt;/p&gt;</comment>
                            <comment id="12410325" author="scolebourne@joda.org" created="Sat, 3 Sep 2005 21:48:15 +0000"  >&lt;p&gt;Created an attachment (id=16296)&lt;br/&gt;
New EmailUtils class&lt;/p&gt;

&lt;p&gt;(the new class EmailUtils)&lt;/p&gt;</comment>
                            <comment id="12410326" author="hgschmie" created="Wed, 7 Sep 2005 18:59:41 +0000"  >&lt;p&gt;Patch applied. Thanks, Stephen.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333779" name="ASF.LICENSE.NOT.GRANTED--EmailUtils.java" size="6286" author="scolebourne@joda.org" created="Sat, 3 Sep 2005 21:48:15 +0000"/>
                            <attachment id="12333778" name="ASF.LICENSE.NOT.GRANTED--email-patch.txt" size="28424" author="scolebourne@joda.org" created="Sat, 3 Sep 2005 21:46:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36486</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Sep 2005 18:59:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-11] [email] No smtp.jar in dependencies list</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-11</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The smtp.jar conatining the relevant classes for smtp classes in javamail api not in dependencies list.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341838">EMAIL-11</key>
            <summary>[email] No smtp.jar in dependencies list</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark.lowe@boxstuff.com">Mark Lowe</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Oct 2004 17:51:58 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:01 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:01 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407901" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 17:53:18 +0000"  >&lt;p&gt;Created an attachment (id=13241)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;email&amp;#93;&lt;/span&gt; added smtp.jar dependency required for unit tests.&lt;/p&gt;</comment>
                            <comment id="12407902" author="dep4b" created="Fri, 29 Oct 2004 02:01:39 +0000"  >&lt;p&gt;Okay, I am inclined to not fix this bug.  The reason is that Dumbster provides&lt;br/&gt;
us with this part.  And unforutnalnty the smtp jar can&apos;t be downloaded from&lt;br/&gt;
ibiblio due to Sun licensing.  So every person (and gump) that wants it has a&lt;br/&gt;
problem.&lt;/p&gt;

&lt;p&gt;What I think we need to do is tweak dumbster and our tests to output the email.&lt;br/&gt;
 Dumbster has the contents of the tests I believe, so we should be able to get&lt;br/&gt;
what we need out of there?&lt;/p&gt;

&lt;p&gt;Is the SMTP dependency b/c it is easier to test attachements and images inline etc?&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;</comment>
                            <comment id="12407903" author="mark.lowe@boxstuff.com" created="Fri, 29 Oct 2004 02:38:50 +0000"  >&lt;p&gt;I&apos;m not sure what b/c means, but it was in the way of me being able to run the current tests just to &lt;br/&gt;
check the output sent to the email client (stuff junit wont pick up). The tests are a convienent means of &lt;br/&gt;
being able to spam myself with these. &lt;/p&gt;

&lt;p&gt;I agree that the sun licencing problem is a big pain in the arse, but at least the dependency is listed and &lt;br/&gt;
the tester/developer know s/he needs it. If dumpter can do the same then great or even commons net, &lt;br/&gt;
my only worry is while trying to help out with a few patches here and there that a lot of time is spent &lt;br/&gt;
getting things into a state where I can start. &lt;/p&gt;
</comment>
                            <comment id="12407904" author="mark.lowe@boxstuff.com" created="Fri, 5 Nov 2004 00:13:35 +0000"  >&lt;p&gt;The smtp.jar is required for dumpster.. It needs to be in project.xml licensing issues or not.. &lt;/p&gt;

&lt;p&gt;With the dependency satisfied the unit tests pass, on OSX and all is well at the commons email ranch. &lt;br/&gt;
With hind sight it was obvious, just I had the impression that the no SMTP dependency would have been &lt;br/&gt;
tested without the smtp in the classpath, I guess eclipse in its wisdom hid that away. &lt;/p&gt;
</comment>
                            <comment id="12407905" author="dep4b" created="Sat, 4 Dec 2004 01:32:31 +0000"  >&lt;p&gt;I thing this is all sorted out finally!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333198" name="ASF.LICENSE.NOT.GRANTED--smtp-dependency-project-xml.patch" size="941" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 17:53:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31934</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Oct 2004 02:01:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56941</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vne7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-10] [email][PATCH] Resolve checkstyle errors</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-10</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;This patch includes trivial changes to clean up the Checkstyle reports of&lt;br/&gt;
Commons Email. Changes include modifying or adding missing javadoc, cleaning&lt;br/&gt;
indentation, curly braces, parenthesis, and removing tabs and trailing spaces at&lt;br/&gt;
the end of lines.&lt;/p&gt;

&lt;p&gt;After applying this patch, Email.java contains two Checkstyle errors because of&lt;br/&gt;
its use of Hashtable&apos;s instead of Maps&apos;s. The 8 remaining errors indicate that&lt;br/&gt;
each file does not end with a newline, which they do. I assume this is an error&lt;br/&gt;
with the Maven-Checkstyle plugin.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Eric Spiegelberg&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342243">EMAIL-10</key>
            <summary>[email][PATCH] Resolve checkstyle errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lists@spiegs.com">Eric Spiegelberg</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 May 2005 08:53:49 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:01 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:01 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409352" author="lists@spiegs.com" created="Sun, 15 May 2005 08:57:50 +0000"  >&lt;p&gt;Created an attachment (id=15030)&lt;br/&gt;
Cleans up Checkstyle errors&lt;/p&gt;</comment>
                            <comment id="12409353" author="rpm_mailbox@yahoo.com.br" created="Mon, 13 Jun 2005 15:15:59 +0000"  >&lt;p&gt;Created an attachment (id=15383)&lt;br/&gt;
Cleans thousands of checkstyle errors&lt;/p&gt;

&lt;p&gt;I patched the Email revision 190136 with patch &quot;15030: Cleans up Checkstyle&lt;br/&gt;
errors&quot; and also replaced tabs with 4 spaces, added &quot;.&quot; at comments phrases,&lt;br/&gt;
removed many traling spaces and did a few other Checkstyle fixes.&lt;/p&gt;</comment>
                            <comment id="12409354" author="diongillard" created="Wed, 22 Jun 2005 23:24:39 +0000"  >&lt;p&gt;Applied the first patch.&lt;br/&gt;
The second seems to change the style of the code.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333516" name="ASF.LICENSE.NOT.GRANTED--big_checkstyle.patch" size="258128" author="rpm_mailbox@yahoo.com.br" created="Mon, 13 Jun 2005 15:15:59 +0000"/>
                            <attachment id="12333515" name="ASF.LICENSE.NOT.GRANTED--checkstyle_clean_up.patch" size="28815" author="lists@spiegs.com" created="Sun, 15 May 2005 08:57:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34918</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Jun 2005 15:15:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-9] [email] Issue with host settings in a shared Server environment</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-9</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;So the quick and dirty is I&apos;m setting up an HTMLEmail and the server is in a&lt;br/&gt;
shared environment, there is another site on the server using commons-email, and&lt;br/&gt;
I have no control over that site.  I set the hostname and the authentication but&lt;br/&gt;
after that it&apos;s taking the settings from the System.properies. Below is a snip&lt;br/&gt;
from my code.&lt;/p&gt;


&lt;p&gt;org.apache.commons.mail.HtmlEmail email = new org.apache.commons.mail.HtmlEmail();&lt;br/&gt;
email.setHostName(server);&lt;br/&gt;
email.setAuthentication(username, password);&lt;/p&gt;


&lt;p&gt;After that point I can get the session:&lt;br/&gt;
Session sess = email.getMailSession();&lt;br/&gt;
sess.getProperty(&quot;mail.smtp.host&quot;);&lt;br/&gt;
 and the result of the getProperty(&quot;mail.smtp.host&quot;) does not equal the setting&lt;br/&gt;
from the above server variable.  It is now set to the value from&lt;br/&gt;
System.propeties, again, not my setting.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342995">EMAIL-9</key>
            <summary>[email] Issue with host settings in a shared Server environment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pdecoursey">Paul J DeCoursey</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Mar 2006 07:13:51 +0000</created>
                <updated>Wed, 3 Jan 2007 14:46:04 +0000</updated>
                            <resolved>Wed, 3 Jan 2007 14:46:04 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12420511" author="diongillard" created="Wed, 12 Jul 2006 12:26:41 +0000"  >&lt;p&gt;That definitely looks suspicious.&lt;/p&gt;</comment>
                            <comment id="12461853" author="bens" created="Tue, 2 Jan 2007 22:21:07 +0000"  >&lt;p&gt;I don&apos;t see anything obviously wrong in the code; I modified the test case to perform these exact steps and it still passed.&lt;/p&gt;

&lt;p&gt;Is this still a problem?&lt;/p&gt;</comment>
                            <comment id="12461967" author="pdecoursey" created="Wed, 3 Jan 2007 14:46:04 +0000"  >&lt;p&gt;I think this was fixed.  I thought that it got closed out already too. I discovered what the issue was a few days after I reported this, and then discovered that it had been fixed already, we just had an older jar.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39147</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Jul 2006 12:26:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-8] [email] Can&apos;t supply a javax.mail.Session to Commons Email componenet</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-8</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Commons email components is in the Sandbox, and is pretty neglected, however I &lt;br/&gt;
use it a lot.  I recently discovered I can&apos;t set up a Mail Session in Tomcat &lt;br/&gt;
and pass the Session via JNDI to the Email component.  This patch fixes that.  &lt;br/&gt;
I would really appreciate it if a committer would commit this for me.&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340539">EMAIL-8</key>
            <summary>[email] Can&apos;t supply a javax.mail.Session to Commons Email componenet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dep4b">David Eric Pugh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Feb 2003 05:48:27 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:00 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:00 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12403598" author="dep4b" created="Fri, 7 Feb 2003 05:49:01 +0000"  >&lt;p&gt;Created an attachment (id=4763)&lt;br/&gt;
Patch for commons-Email&lt;/p&gt;</comment>
                            <comment id="12403599" author="dep4b" created="Tue, 17 Jun 2003 09:28:07 +0000"  >&lt;p&gt;I saw the change in the summary, what does this mean?&lt;/p&gt;</comment>
                            <comment id="12403600" author="corsc" created="Wed, 20 Oct 2004 22:26:59 +0000"  >&lt;p&gt;eric have you committed this patch? can this bug be closed?&lt;/p&gt;</comment>
                            <comment id="12403601" author="dep4b" created="Mon, 25 Oct 2004 00:44:10 +0000"  >&lt;p&gt;Wow!  This bug is so old, it&apos;s from before I became a commons committer!  I&lt;br/&gt;
guess I can now commit my own fix&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332136" name="ASF.LICENSE.NOT.GRANTED--mail.patch" size="5924" author="dep4b" created="Fri, 7 Feb 2003 05:49:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Oct 2004 22:26:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56944</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-7] [email] Add embed(String url, String name) method to HtmlEmail</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-7</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Add an embed(String url, String name) method to HtmlEmail as a wrapper method to&lt;br/&gt;
embed(URL url, String name).&lt;/p&gt;

&lt;p&gt;This is useful for integration with Velocity templates (VLT) since new objects&lt;br/&gt;
cannot be created in VLT (at least as I am aware of).&lt;/p&gt;

&lt;p&gt;Besides, the example in the javadoc of the already existing embed method shows a&lt;br/&gt;
String url, not a java.net.URL.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342794">EMAIL-7</key>
            <summary>[email] Add embed(String url, String name) method to HtmlEmail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nuno.ponte@multicert.com">Nuno Ponte</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Dec 2005 20:34:57 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:00 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:17:00 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411067" author="diongillard" created="Sun, 12 Feb 2006 20:10:35 +0000"  >&lt;p&gt;Commited extra method and javadoc fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37902</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 12 Feb 2006 20:10:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56945</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-6] [email] Errors when sending MultiPartEmail with another email as an attachment</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-6</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Take a look at the code below:&lt;/p&gt;

&lt;p&gt;if( debugMode ) {&lt;br/&gt;
  if( logger.isInfoEnabled() ) &lt;/p&gt;
{
    logger.info( &quot;DEBUG mode is on.  Sending email to &quot; + debugEmailAddress );
  }
&lt;p&gt;  MultiPartEmail debugEmail = new MultiPartEmail();&lt;br/&gt;
  if( logger.isDebugEnabled() ) &lt;/p&gt;
{
    debugEmail.setDebug( true );
  }
&lt;p&gt;  debugEmail.setBounceAddress( debugEmailAddress );&lt;br/&gt;
  debugEmail.setFrom( debugEmailAddress );&lt;br/&gt;
  debugEmail.addReplyTo( debugEmailAddress );&lt;br/&gt;
  debugEmail.addTo( debugEmailAddress );&lt;br/&gt;
  debugEmail.setSubject( &quot;Test Message: &quot; + email.getSubject() );&lt;br/&gt;
  debugEmail.setMsg( &quot;The email manager is operating in test mode.  &quot; +&lt;br/&gt;
    &quot;Attached is a message it would have sent had it been running for real.&quot; );&lt;br/&gt;
  debugEmail.addPart( new MimeMultipart( &lt;br/&gt;
              new MimePartDataSource( email.getMimeMessage() ) ) );&lt;/p&gt;

&lt;p&gt;  debugEmail.setMailSession( emailSession );&lt;br/&gt;
  messageId = debugEmail.send();&lt;br/&gt;
}&lt;/p&gt;


&lt;p&gt;I get the following exception when I call debugEmail.send():&lt;/p&gt;


&lt;p&gt;2006-03-12 09:07:01,140 [      main] INFO &lt;br/&gt;
com.djinnsoft.jade.email.EmailManager: DEBUG mode is on.  Sending email to&lt;br/&gt;
test@djinnsoft.com&lt;br/&gt;
2006-03-12 09:07:01,640 [      main] WARN &lt;br/&gt;
com.djinnsoft.jade.email.EmailManager: Error emailing sent item 2000035: Sending&lt;br/&gt;
the email to the following server failed : null:25&lt;br/&gt;
javax.mail.SendFailedException: Sending failed;&lt;br/&gt;
 nested exception is:&lt;br/&gt;
  javax.mail.MessagingException: IOException while sending message;&lt;br/&gt;
 nested exception is:&lt;br/&gt;
  java.io.IOException: &quot;text/plain&quot; DataContentHandler requires String object,&lt;br/&gt;
was given object of type class javax.mail.internet.MimeMultipart&lt;br/&gt;
  at javax.mail.Transport.send0(Transport.java:219)&lt;br/&gt;
  at javax.mail.Transport.send(Transport.java:81)&lt;br/&gt;
  at org.apache.commons.mail.Email.sendMimeMessage(Email.java:863)&lt;br/&gt;
  at org.apache.commons.mail.Email.send(Email.java:898)&lt;br/&gt;
  at com.djinnsoft.jade.email.EmailManager.processMailing(EmailManager.java:1205)&lt;/p&gt;


&lt;p&gt;(line 1205 corresponds to &quot;messageId = debugEmail.send();&quot; in my code)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342972">EMAIL-6</key>
            <summary>[email] Errors when sending MultiPartEmail with another email as an attachment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="bens">Ben Speakmon</assignee>
                                    <reporter username="dcherk@djinnsoft.com">Dave Cherkassky</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Mar 2006 22:20:01 +0000</created>
                <updated>Sat, 23 Oct 2010 22:17:00 +0000</updated>
                            <resolved>Wed, 8 Aug 2007 19:59:14 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411617" author="dcherk@djinnsoft.com" created="Sun, 12 Mar 2006 22:31:56 +0000"  >
&lt;p&gt;More information:&lt;br/&gt;
The &quot;real&quot; email is an instance of HTMLEmail, like so:&lt;br/&gt;
  HtmlEmail email = new HtmlEmail();&lt;br/&gt;
  email.setFrom( &quot;a@b.c&quot; );&lt;br/&gt;
  email.setBounceAddress( &quot;a@b.c&quot; );&lt;br/&gt;
  email.addReplyTo( &quot;a@b.c&quot; );&lt;br/&gt;
  email.addTo( &quot;a@b.c&quot; );&lt;br/&gt;
  email.setSubject( &quot;subject&quot; );&lt;br/&gt;
  email.setTextMsg( &quot;textBody&quot; );&lt;br/&gt;
  email.setHtmlMsg( &quot;&amp;lt;p&amp;gt;htmlBody&amp;lt;/p&amp;gt; );&lt;/p&gt;

&lt;p&gt;I&apos;ve added the following lines:&lt;/p&gt;

&lt;p&gt; email.addHeader( &quot;Content-Type&quot;, &quot;multipart/mixed&quot; );&lt;br/&gt;
and&lt;br/&gt;
 debugEmail.addHeader( &quot;Content-Type&quot;, &quot;multipart/mixed&quot; );&lt;/p&gt;


&lt;p&gt;Now my exception is:&lt;br/&gt;
javax.mail.SendFailedException: Sending failed;&lt;br/&gt;
 nested exception is:&lt;br/&gt;
  javax.mail.MessagingException: IOException while sending message;&lt;br/&gt;
 nested exception is:&lt;br/&gt;
  java.io.IOException: javax.mail.MessagingException: No inputstream from datasource&lt;br/&gt;
  at javax.mail.Transport.send0(Transport.java:219)&lt;br/&gt;
  at javax.mail.Transport.send(Transport.java:81)&lt;br/&gt;
  at org.apache.commons.mail.Email.sendMimeMessage(Email.java:863)&lt;br/&gt;
  at org.apache.commons.mail.Email.send(Email.java:898)&lt;br/&gt;
  at com.djinnsoft.jade.email.EmailManager.processMailing(EmailManager.java:1205)&lt;/p&gt;


</comment>
                            <comment id="12411618" author="dcherk@djinnsoft.com" created="Sun, 12 Mar 2006 22:47:22 +0000"  >
&lt;p&gt;One final note:  I confirmed that &quot;real&quot; email can be sent by itself.  The error&lt;br/&gt;
is definitely happening because I&apos;m trying to add the real email as an&lt;br/&gt;
attachment in the debug email.&lt;/p&gt;

&lt;p&gt;Please confirm and help &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Dave Cherkassky&lt;/p&gt;</comment>
                            <comment id="12411619" author="diongillard" created="Thu, 16 Mar 2006 17:07:08 +0000"  >&lt;p&gt;Looks like a clash somewhere with the embedded email.&lt;br/&gt;
A test case would be good, taken from the code below.&lt;/p&gt;</comment>
                            <comment id="12411620" author="dcherk@djinnsoft.com" created="Sat, 25 Mar 2006 23:17:00 +0000"  >
&lt;p&gt;Is there an ETA for the fix?  My client deliverable is fast approaching &amp;#8211; I&lt;br/&gt;
need to know if I need to write a work-around...&lt;/p&gt;

&lt;p&gt;No rush, I just need to know the situation...&lt;/p&gt;</comment>
                            <comment id="12445273" author="bjorn" created="Fri, 27 Oct 2006 21:43:55 +0000"  >&lt;p&gt;Here&apos;s a patch to the MultiPartEmailTest class that reproduces this problem based on Dave&apos;s code. &lt;/p&gt;</comment>
                            <comment id="12462626" author="bens" created="Fri, 5 Jan 2007 22:29:26 +0000"  >&lt;p&gt;I&apos;m pretty sure that:&lt;/p&gt;

&lt;p&gt;debugEmail.addPart( new MimeMultipart(new MimePartDataSource( email.getMimeMessage() ) ) );&lt;/p&gt;

&lt;p&gt;isn&apos;t what you want; even if that worked correctly (which it doesn&apos;t, of which more below), it would only add the content of the HTML message. It looks like you&apos;re trying to send the entire HtmlEmail complete with header information, so I figured I&apos;d try using attach():&lt;/p&gt;

&lt;p&gt;debugEmail.attach(new MimePartDataSource(email.getMimeMessage()), &quot;name&quot;, &quot;desc&quot;);&lt;/p&gt;

&lt;p&gt;but that doesn&apos;t work either as the MimePartDataSource constructor throws an IOException complaining &quot;no content&quot; in the MimeMessage&apos;s input stream. So something in the assumption that we can build a MimePartDataSource from a HtmlEmail&apos;s MimeMessage is incorrect. I&apos;ll look into it further.&lt;/p&gt;</comment>
                            <comment id="12462662" author="bens" created="Sat, 6 Jan 2007 00:59:18 +0000"  >&lt;p&gt;I was only able to get this to work by writing out the HtmlEmail as raw RFC822 to a file and then using the existing attach() method. Ick. &lt;/p&gt;

&lt;p&gt;I can tell that what Dave&apos;s trying to do will definitely not work for a number of reasons, but going into detail on each is probably unnecessary noise.&lt;/p&gt;

&lt;p&gt;My judgment is that there&apos;s no way in the current MultiPartEmail API to do what Dave wants to do; maybe an attach(Email email) method is called for. In any case, it seems within the scope of commons-email to simplify attaching mails to other mails, and it&apos;s something the current API cannot handle.&lt;/p&gt;</comment>
                            <comment id="12472922" author="bens" created="Tue, 13 Feb 2007 23:14:43 +0000"  >&lt;p&gt;My current thinking on this:&lt;/p&gt;

&lt;p&gt;I&apos;m not convinced that it&apos;s useful to support attaching one subclass of Email to another subclass &amp;#8211; that is, the original report creates an HtmlEmail and then wants to attach that to a MultiPartEmail. The current design of commons-email would make this very tricky, but aside from that I don&apos;t see the general usefulness of doing so.&lt;/p&gt;

&lt;p&gt;One case where I do see a use for this would be when the user wants to attach a MimeMessage he got from somewhere (like a server or a filestore) to a subclass of Email. This would mean adding MultiPartEmail.addMimeMessage() methods which would then be attached like the current addPart() methods. (We&apos;d have to have different names, since MimeMessage doesn&apos;t share a common interface ancestor with MimeMultipart.) I&apos;ll look into this option.&lt;/p&gt;</comment>
                            <comment id="12475563" author="bens" created="Sat, 24 Feb 2007 00:55:49 +0000"  >&lt;p&gt;There&apos;s still a problem, though; such a MimeMessage would have arbitrarily complex content in it. It could be multipart, HTML text, full of attachments, etc., and there&apos;s no way to know what really needs to be attached.&lt;/p&gt;

&lt;p&gt;I think that this has to fall into that class of problems that would be better served with JavaMail, so I&apos;d recommend this be wontfixed.&lt;/p&gt;</comment>
                            <comment id="12475578" author="dcherk" created="Sat, 24 Feb 2007 02:27:00 +0000"  >&lt;p&gt;If you won&apos;t fix this issue, then at least make sure that either &lt;br/&gt;
a) the interface is clear on what can be added as an attachment and what can&apos;t&lt;br/&gt;
or&lt;br/&gt;
b) an UnsupportedOperationException is thrown if an unreasonable attachment is added.&lt;/p&gt;

&lt;p&gt;Otherwise, developers will be wasting hours (like I did when I first reported this issue) trying to figure out why the hell things are not working as expected.&lt;/p&gt;</comment>
                            <comment id="12475985" author="bens" created="Mon, 26 Feb 2007 20:18:15 +0000"  >&lt;p&gt;I think the interface is clear; it accepts String or MimeMultipart content. Since no subclass of Email is also a subclass of MimeMultipart, I don&apos;t know how that could be made more explicit. Also, since a MimeMessage may consist of zero or more MimeMultiparts, there&apos;s no obvious way to know what (if anything) should be pulled out of it when trying to use addPart(). If there were an existing addPart(MimeMessage), I could see your point. But JavaMail doesn&apos;t guarantee that you can create a valid MimeMultipart from a given MimePartDataSource (at least not without custom DataHandlers), so relying on that seems dodgy as well.&lt;/p&gt;

&lt;p&gt;Throwing an exception also assumes that there is some way to determine precisely what a supplied MimeMultipart should be doing. What if the MimeMultipart contains several different encoded binary images under a multipart/related content type? Which one should be attached, and how should that decision be made?&lt;/p&gt;

&lt;p&gt;I think that once you get down to that level of detail, you should be using JavaMail. &lt;/p&gt;

&lt;p&gt;Dave, could you suggest some API comment that might make this clearer? I&apos;d be happy to do a patch for it. (Disclaimer: I am not a commons contributor and I don&apos;t have checkin rights; I can only do a patch and then hopefully get Dion to commit it. I don&apos;t have the ability to address it directly; I&apos;m just a guy who&apos;s used commons-email and decided to spend a lot of effort improving it.) &lt;/p&gt;</comment>
                            <comment id="12503129" author="bens" created="Sat, 9 Jun 2007 23:56:00 +0000"  >&lt;p&gt;Setting fix version so I don&apos;t forget to make a call on this for 1.1.&lt;/p&gt;</comment>
                            <comment id="12518537" author="bens" created="Wed, 8 Aug 2007 19:59:14 +0000"  >&lt;p&gt;Resolving as a wontfix due to lack of interest.&lt;/p&gt;</comment>
                            <comment id="12519339" author="dcherk" created="Sun, 12 Aug 2007 20:56:37 +0000"  >&lt;p&gt;Can&apos;t say that I&apos;m not disappointed.  I still have interest in seeing this issue resolved &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; but I guess I am the only one who ever attached a MimeMultipart into an Email programatically.&lt;/p&gt;

&lt;p&gt;Best of luck in the next release!&lt;/p&gt;

&lt;p&gt;Dave Cherkassky&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12343812" name="MultiPartEmailTest.java.patch" size="2395" author="bjorn" created="Fri, 27 Oct 2006 21:43:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Mar 2006 17:07:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44604</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[EMAIL-5] [email] HtmlEmail.embed problem</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-5</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The method embed(URL url, String name)creates a String with the Content-ID of&lt;br/&gt;
the embedded file. The id is generated by RandomStringUtils.randomAscii(10). The&lt;br/&gt;
problem is that randomAscii() creates strings which contain sometimes double&lt;br/&gt;
quotes. If you want to use this id inside a img tag in an HTML Email it might&lt;br/&gt;
result in something like this: &amp;lt;img src:&quot;cid:toW&quot;q8mttc&quot; &amp;gt;. The result is that&lt;br/&gt;
the image wont be displayed because of the incorrect img tag.&lt;/p&gt;

&lt;p&gt;I think it would be better to user RandomStringUtils.randomAlphanumeric(10) as&lt;br/&gt;
it doesnt generate double quotes. The patch is following if someone is interested:&lt;/p&gt;


&lt;p&gt;Index: HtmlEmail.java&lt;br/&gt;
===================================================================&lt;br/&gt;
RCS file:&lt;br/&gt;
/home/cvspublic/jakarta-commons-sandbox/email/src/java/org/apache/commons/mail/HtmlEmail.java,v&lt;br/&gt;
retrieving revision 1.8&lt;br/&gt;
diff -u -r1.8 HtmlEmail.java&lt;br/&gt;
&amp;#8212; HtmlEmail.java	19 Feb 2004 22:38:09 -0000	1.8&lt;br/&gt;
+++ HtmlEmail.java	19 Apr 2004 18:13:48 -0000&lt;br/&gt;
@@ -142,7 +142,8 @@&lt;br/&gt;
         mbp.setDataHandler (new DataHandler(new URLDataSource(url)));&lt;br/&gt;
         mbp.setFileName(name);&lt;br/&gt;
         mbp.setDisposition(&quot;inline&quot;);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;String cid = RandomStringUtils.randomAscii(10);&lt;br/&gt;
+        // problem with double quotes when using randomAscii&lt;br/&gt;
+        String cid = RandomStringUtils.randomAlphanumeric(10);&lt;br/&gt;
         mbp.addHeader(&quot;Content-ID&quot;, cid);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         inlineImages.add(mbp);&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341410">EMAIL-5</key>
            <summary>[email] HtmlEmail.embed problem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="m.gross@evolt.de">Martin Gross</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Apr 2004 01:17:02 +0000</created>
                <updated>Sat, 23 Oct 2010 22:16:59 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:16:59 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406488" author="m.gross@evolt.de" created="Wed, 21 Apr 2004 15:57:08 +0000"  >&lt;p&gt;The problem has already been mentioned before:&lt;br/&gt;
&lt;a href=&quot;http://nagoya.apache.org/eyebrowse/ReadMsg?listName=commons-dev@jakarta.apache.org&amp;amp;msgId=1368077&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://nagoya.apache.org/eyebrowse/ReadMsg?listName=commons-dev@jakarta.apache.org&amp;amp;msgId=1368077&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://nagoya.apache.org/eyebrowse/ReadMsg?listName=commons-dev@jakarta.apache.org&amp;amp;msgId=1059686&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://nagoya.apache.org/eyebrowse/ReadMsg?listName=commons-dev@jakarta.apache.org&amp;amp;msgId=1059686&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But it has not been resolved.&lt;/p&gt;</comment>
                            <comment id="12406489" author="corsc" created="Wed, 20 Oct 2004 22:47:28 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 30634 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Oct 2004 22:47:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 50 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vn73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-4] [email] unit tests throws exceptions during test</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-4</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;The unit tests were throwing exceptions during tests. Adding Address exception to Email and test case &lt;br/&gt;
to setFrom2 method.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341839">EMAIL-4</key>
            <summary>[email] unit tests throws exceptions during test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark.lowe@boxstuff.com">Mark Lowe</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Oct 2004 20:08:30 +0000</created>
                <updated>Sat, 23 Oct 2010 22:16:59 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:16:59 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407906" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 20:09:08 +0000"  >&lt;p&gt;Created an attachment (id=13243)&lt;br/&gt;
setFrom method catches invalid internet address&lt;/p&gt;</comment>
                            <comment id="12407907" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 20:10:51 +0000"  >&lt;p&gt;Created an attachment (id=13244)&lt;br/&gt;
Test case catches relevant exceptions, and just down to failure now&lt;/p&gt;</comment>
                            <comment id="12407908" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 20:11:21 +0000"  >&lt;p&gt;Created an attachment (id=13245)&lt;br/&gt;
opps i mailed the java rather than the patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12407909" author="corsc" created="Sun, 28 Nov 2004 21:09:48 +0000"  >&lt;p&gt;Sorry Mark,&lt;/p&gt;

&lt;p&gt;But I dont see that the second (third) patch achieves anything?  Both &lt;br/&gt;
addresses are invalid, for different reasons.  The validation (first patch) I &lt;br/&gt;
think should definately be applied, but to all addresses.  Maybe we could &lt;br/&gt;
include the third patch as well as the current test??&lt;/p&gt;

&lt;p&gt;I will sumbit a patch with the relevant validations added.&lt;/p&gt;</comment>
                            <comment id="12407910" author="corsc" created="Sun, 28 Nov 2004 21:40:02 +0000"  >&lt;p&gt;Created an attachment (id=13570)&lt;br/&gt;
validation for all address functions and relevant tests&lt;/p&gt;

&lt;p&gt;the validation is copied from Mark&apos;s patches, but extended to all address&lt;br/&gt;
methods.  Good work spotting the validation function, Mark!!!&lt;/p&gt;</comment>
                            <comment id="12407911" author="mark.lowe@boxstuff.com" created="Sun, 28 Nov 2004 23:32:34 +0000"  >&lt;p&gt;There&apos;s also a means of checking supported char sets with new io package, but its 1.4 only. I&apos;ve been &lt;br/&gt;
trying to workout a way of throwing exceptions that don&apos;t just throw Messaging exception. Personally i &lt;br/&gt;
don&apos;t see what&apos;s so evil about letting UnsupportedEcoding and address exception bubbling up to the &lt;br/&gt;
user, certainly no less confusing than throwing the same exception for everything. &lt;/p&gt;</comment>
                            <comment id="12407912" author="corsc" created="Sun, 28 Nov 2004 23:38:53 +0000"  >&lt;p&gt;As we have discussed before, I dont have a problem with this kind of approach &lt;br/&gt;
either, the only issue I can see is that is will make a rather sizable change &lt;br/&gt;
to the existing API.  Maybe it is for the best?&lt;/p&gt;

&lt;p&gt;Although I would recommend that we discuss this on the mailing list before &lt;br/&gt;
implementing it as I think there might be more than a few people that will &lt;br/&gt;
have to make changes if we implement this and they might not be happy about &lt;br/&gt;
it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12407913" author="dep4b" created="Sat, 4 Dec 2004 01:33:33 +0000"  >&lt;p&gt;I think for 1.0 we are done with API changes.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333200" name="ASF.LICENSE.NOT.GRANTED--EmailTest.java" size="58713" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 20:10:51 +0000"/>
                            <attachment id="12333199" name="ASF.LICENSE.NOT.GRANTED--email-setFrom-AddressException.patch" size="1823" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 20:09:08 +0000"/>
                            <attachment id="12333202" name="ASF.LICENSE.NOT.GRANTED--patch_bug31935 _response.txt" size="10351" author="corsc" created="Sun, 28 Nov 2004 21:40:02 +0000"/>
                            <attachment id="12333201" name="ASF.LICENSE.NOT.GRANTED--test-addressException-testFrom2.patch" size="1561" author="mark.lowe@boxstuff.com" created="Thu, 28 Oct 2004 20:11:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 28 Nov 2004 21:09:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-3] [email] byte array attachments</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-3</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;With the removal of the ByteArrayDataSource class, there is no easy method for&lt;br/&gt;
attaching dynamically generated content to an email. The attach() methods in&lt;br/&gt;
MultipartEmail and the EmailAttachment class want either a File, URL, or&lt;br/&gt;
DataSource. We should add the ability to easily attach byte[] attachments so&lt;br/&gt;
that users are not required to implement their own DataSource.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Linux&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341876">EMAIL-3</key>
            <summary>[email] byte array attachments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scott@minutestopost.com">Scott</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Nov 2004 09:23:08 +0000</created>
                <updated>Sat, 23 Oct 2010 22:16:58 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:16:58 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408045" author="corsc" created="Tue, 16 Nov 2004 17:38:59 +0000"  >&lt;p&gt;Created an attachment (id=13475)&lt;br/&gt;
adds an attachment method that takes and byte[] as input&lt;/p&gt;

&lt;p&gt;Scott,&lt;/p&gt;

&lt;p&gt;This is just a quick kludge, is this the sort of thing you are talking about?&lt;br/&gt;
Do you think you would be able to contrib a test case for this?  I have to&lt;br/&gt;
admit, I dont use this particular functionality and an experienced eye would be&lt;br/&gt;
greatly helpful.&lt;/p&gt;

&lt;p&gt;-Corey&lt;/p&gt;</comment>
                            <comment id="12408046" author="scott@minutestopost.com" created="Wed, 17 Nov 2004 23:32:12 +0000"  >&lt;p&gt;It doesn&apos;t look like creating a MimeBodyPart with an InputStream gives the&lt;br/&gt;
expected result here...I think it expects the InputStream to contain MIME&lt;br/&gt;
headers (which it attempts to parse). Looking things over, it certainly looks&lt;br/&gt;
like a new DataSource is the best/fastest path to fixing this issue (much like&lt;br/&gt;
the existing attach() methods use FileDataSource and URLDataSource in the&lt;br/&gt;
javax.activation package).&lt;/p&gt;</comment>
                            <comment id="12408047" author="corsc" created="Thu, 18 Nov 2004 00:40:33 +0000"  >&lt;p&gt;in that case, the resurecting the previous class (maybe even marking it a an &lt;br/&gt;
util class, or similar) might be the best option.&lt;/p&gt;</comment>
                            <comment id="12408048" author="corsc" created="Wed, 24 Nov 2004 02:03:16 +0000"  >&lt;p&gt;Created an attachment (id=13524)&lt;br/&gt;
Please refer to matching commetn&lt;/p&gt;

&lt;p&gt;It appears that we were a little too hasty to remove the deprecated&lt;br/&gt;
ByteArrayDataSource class.  In this patch, I propose that we resurrect it, and&lt;br/&gt;
remove the deprecated marker.&lt;/p&gt;

&lt;p&gt;I have also provided a convenience method for the MultipartEmail class that&lt;br/&gt;
allows an Byte[] as a input to the attach method.  If this solves this issue I&lt;br/&gt;
will contribute relevant unit tests to cover this method.&lt;/p&gt;

&lt;p&gt;(PS. I realise that you are not suppose to add patches when the component is&lt;br/&gt;
under a promotion vote, but I couldnt wait any longer.	These methods are NOT&lt;br/&gt;
exactly requried, but I believe they should be included before RC1)&lt;/p&gt;</comment>
                            <comment id="12408049" author="corsc" created="Sun, 28 Nov 2004 16:16:35 +0000"  >&lt;p&gt;Created an attachment (id=13563)&lt;br/&gt;
New patch against commons (not commons-sandbox), no other changes&lt;/p&gt;</comment>
                            <comment id="12408050" author="dep4b" created="Mon, 29 Nov 2004 18:42:21 +0000"  >&lt;p&gt;I have applied back the ByteArrayDataSource..  However, I thought about the&lt;br/&gt;
convenicenc method and on MultiPartEmail and decided against it.  I realized&lt;br/&gt;
that over time we may have multiple *DataSource, so we really should have the&lt;br/&gt;
user convert the object (in this case byte[]) to the datasource, and just hand&lt;br/&gt;
that in,  otherwise we pollute the api with lots of conveniece methods.  &lt;/p&gt;

&lt;p&gt;I can&apos;t seem to commit right now, but I will.  If you can come up with a unit&lt;br/&gt;
test, that would be cool too.&lt;/p&gt;</comment>
                            <comment id="12408051" author="dep4b" created="Tue, 30 Nov 2004 02:46:37 +0000"  >&lt;p&gt;Restored the ByteArrayDataSource and committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333251" name="ASF.LICENSE.NOT.GRANTED--patch_byte_array.txt" size="8638" author="corsc" created="Sun, 28 Nov 2004 16:16:35 +0000"/>
                            <attachment id="12333250" name="ASF.LICENSE.NOT.GRANTED--patch_byte_array.txt" size="9191" author="corsc" created="Wed, 24 Nov 2004 02:03:16 +0000"/>
                            <attachment id="12333249" name="ASF.LICENSE.NOT.GRANTED--patch_byte_array.txt" size="3162" author="corsc" created="Tue, 16 Nov 2004 17:38:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 16 Nov 2004 17:38:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-2] [email] Failed to send email from jsp web site on tomcat</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-2</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Jakarta email is used in my web site to send emails. But the emails are failed&lt;br/&gt;
in several days after tomcat reboot. I have to ask the admin to reboot the&lt;br/&gt;
tomcat then the web site can send email again. The tomcat is on a server shared&lt;br/&gt;
by other web sites and the email server requires authentication. I pasted the&lt;br/&gt;
code to bellow.&lt;/p&gt;

&lt;p&gt;I hope someone can point what has gone wrong.&lt;br/&gt;
Thanks in advance.&lt;br/&gt;
Fred&lt;/p&gt;

&lt;p&gt;    //send email&lt;br/&gt;
    SimpleEmail email=new SimpleEmail();&lt;br/&gt;
    try &lt;/p&gt;
{
      email.setHostName(hostName);
      email.addTo(emailComments);
      email.setFrom(contactForm.getEmail(), contactForm.getName());
      email.setSubject(&quot;User comments&quot;);
      email.setMsg(contactForm.getComments());

      email.setAuthentication(userName, password);
      email.send();
    }
&lt;p&gt; catch (EmailException ex) &lt;/p&gt;
{
      logger.error(ex.getMessage());
    }</description>
                <environment>&lt;p&gt;Operating System: Linux&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342789">EMAIL-2</key>
            <summary>[email] Failed to send email from jsp web site on tomcat</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="fred.yu@xtra.co.nz">Fred</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Dec 2005 18:22:58 +0000</created>
                <updated>Sat, 23 Oct 2010 22:16:58 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 22:16:58 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411055" author="ebourg" created="Tue, 13 Dec 2005 18:15:19 +0000"  >&lt;p&gt;Hi Fred, do you have any trace related to this issue in your logs ?&lt;/p&gt;</comment>
                            <comment id="12411056" author="fred.yu@xtra.co.nz" created="Wed, 14 Dec 2005 03:59:55 +0000"  >&lt;p&gt;ex.getMessage() was logged as below:&lt;/p&gt;

&lt;p&gt;ERROR 13 Dec 12:48:52 &lt;span class=&quot;error&quot;&gt;&amp;#91;TP-Processor66&amp;#93;&lt;/span&gt; bk2002.web.help.action.ContactAction -&lt;br/&gt;
Sending the email to the following server failed : mail.baydragon.co.nz:25&lt;/p&gt;

&lt;p&gt;By the way, I can still send email from my laptop. That I run my web site on the&lt;br/&gt;
tomcat on my laptop (in Jbuilder, I right click index.jsp and choose run). Which&lt;br/&gt;
probably means the email server is ok.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Fred&lt;/p&gt;</comment>
                            <comment id="12411057" author="mvdb@apache.org" created="Sat, 14 Jan 2006 06:56:46 +0000"  >&lt;p&gt;Can you provide a complete stacktrace, not just the message (sorry for the late&lt;br/&gt;
reaction)..&lt;/p&gt;</comment>
                            <comment id="12411058" author="shravanag@yahoo.com" created="Tue, 24 Jan 2006 15:22:53 +0000"  >&lt;p&gt;org.apache.commons.mail.EmailException: Sending the email to the following &lt;br/&gt;
server failed : 203.220.45.67:25&lt;br/&gt;
	at org.apache.commons.mail.Email.sendMimeMessage(Email.java:873)&lt;br/&gt;
	at org.apache.commons.mail.Email.send(Email.java:898)&lt;br/&gt;
	at DbConnectTest.main(DbConnectTest.java:151)&lt;br/&gt;
Caused by: javax.mail.SendFailedException: Sending failed;&lt;br/&gt;
  nested exception is:&lt;br/&gt;
	class javax.mail.SendFailedException: Invalid Addresses;&lt;br/&gt;
  nested exception is:&lt;br/&gt;
	class javax.mail.SendFailedException: 550 5.7.1 &lt;br/&gt;
&amp;lt;shravana.gadi@evalua.com.au&amp;gt;... Relaying denied. IP name possibly forged &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;203.22.237.166&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;	at javax.mail.Transport.send0(Transport.java:218)&lt;br/&gt;
	at javax.mail.Transport.send(Transport.java:80)&lt;br/&gt;
	at org.apache.commons.mail.Email.sendMimeMessage(Email.java:863)&lt;br/&gt;
	... 2 more&lt;/p&gt;</comment>
                            <comment id="12411059" author="fred.yu@xtra.co.nz" created="Sun, 5 Feb 2006 06:53:55 +0000"  >&lt;p&gt;i am not sure why people submit comment #4. it is totally irrelivent.&lt;/p&gt;

&lt;p&gt;Actually I found the reason it failed is the program is trying to send email to&lt;br/&gt;
a wrong email server. of course, it will fail and time out. The error message is&lt;br/&gt;
past bellow.&lt;/p&gt;

&lt;p&gt;ERROR 04 Feb 14:51:56 &lt;span class=&quot;error&quot;&gt;&amp;#91;TP-Processor651&amp;#93;&lt;/span&gt; bk2002.web.help.action.ContactAction -&lt;br/&gt;
Sending failed;&lt;br/&gt;
  nested exception is:&lt;br/&gt;
 class javax.mail.MessagingException: Could not connect to SMTP host:&lt;br/&gt;
192.168.20.1, port: 25;&lt;br/&gt;
  nested exception is:&lt;br/&gt;
 java.net.ConnectException: Connection timed out&lt;/p&gt;

&lt;p&gt;any reason why it changed server? meanwhile, the dns server is still pinting to&lt;br/&gt;
a correct server.&lt;/p&gt;

&lt;p&gt;Thank you very much!&lt;br/&gt;
Fred&lt;/p&gt;</comment>
                            <comment id="12411060" author="ottuzzi@gmail.com" created="Thu, 23 Feb 2006 23:57:48 +0000"  >&lt;p&gt;I think this is not a bug in the code and looking in comment 5 seems also closed.&lt;/p&gt;

&lt;p&gt;Is it possible to close this bug?&lt;/p&gt;</comment>
                            <comment id="12411061" author="fred.yu@xtra.co.nz" created="Fri, 24 Feb 2006 04:02:44 +0000"  >&lt;p&gt;This is not a bug actually relating to tomcat or dns.&lt;/p&gt;

&lt;p&gt;thanks guys!!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Dec 2005 18:15:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vnbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182750</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[EMAIL-1] [email] setCharset() in Email does not set the charset for the message content</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-1</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;Hello&lt;/p&gt;

&lt;p&gt;More accurately, the charset is not used in buildMimeMessage() as it is not part&lt;br/&gt;
of the contentType used when calling message.setContent(). Since&lt;br/&gt;
setContentType() updates the charset, I think it makes for setCharset() to&lt;br/&gt;
update the contentType?&lt;/p&gt;

&lt;p&gt;James&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342955">EMAIL-1</key>
            <summary>[email] setCharset() in Email does not set the charset for the message content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="james@playlogix.net">James Mc Millan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Mar 2006 16:43:18 +0000</created>
                <updated>Sat, 23 Oct 2010 22:16:57 +0000</updated>
                            <resolved>Fri, 23 Feb 2007 00:13:39 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12426030" author="mistevens" created="Sun, 6 Aug 2006 05:58:14 +0000"  >&lt;p&gt;As a workaround setContent can be used directly. For example&lt;br/&gt;
      mail.setCharset(Email.ISO_8859_1); // sets the charset for the subject&lt;br/&gt;
      mail.setFrom(from);&lt;br/&gt;
      mail.addTo(user.getEmail());&lt;br/&gt;
      mail.setSubject(subject);&lt;br/&gt;
      mail.setContent(mailText, &quot;text/plain; charset=iso-8859-1&quot;);&lt;/p&gt;</comment>
                            <comment id="12460323" author="bens" created="Thu, 21 Dec 2006 19:18:52 +0000"  >&lt;p&gt;This should be fixable without any additional charset code, shouldn&apos;t it? Quick glance through the source suggests that it can.&lt;/p&gt;</comment>
                            <comment id="12463700" author="bens" created="Wed, 10 Jan 2007 20:24:17 +0000"  >&lt;p&gt;Adding link to related issue.&lt;/p&gt;</comment>
                            <comment id="12471429" author="bens" created="Thu, 8 Feb 2007 18:39:21 +0000"  >&lt;p&gt;Here&apos;s a patch to address this. It includes a fix and tests for three scenarios:&lt;/p&gt;

&lt;p&gt;1) setContent() with a text content type &lt;b&gt;without&lt;/b&gt; any specific charset. If a charset has been previously set, it is automatically applied to the content type. (This fixes the actual issue.)&lt;/p&gt;

&lt;p&gt;2) setContent() with a text content type &lt;b&gt;with&lt;/b&gt; a specific charset. The content type charset will override any previously set charset and will change the Email&apos;s default charset to itself. (This is current behavior.)&lt;/p&gt;

&lt;p&gt;3) setContent() with a non-text content type. Any charset already set in the message will be ignored, since we don&apos;t want to declare encodings for binary types. Besides, they&apos;ll either come with their own encodings or will be left to the underlying platform. (This is also current behavior, but this ensures that the fix for #1 doesn&apos;t inadvertently break other types of content.&lt;/p&gt;</comment>
                            <comment id="12475208" author="diongillard" created="Fri, 23 Feb 2007 00:13:39 +0000"  >&lt;p&gt;Applied.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12342937">EMAIL-54</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12350682" name="email-1.patch" size="4220" author="bens" created="Thu, 8 Feb 2007 18:39:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 6 Aug 2006 05:58:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vlbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182428</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>