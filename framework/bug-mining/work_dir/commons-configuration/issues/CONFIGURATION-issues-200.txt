<!--
RSS generated by JIRA (8.3.4#803005-sha1:1f96e09b3c60279a408a2ae47be3c745f571388b) at Thu Sep 16 02:53:53 UTC 2021

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+CONFIGURATION+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="200" end="400" total="471"/>
                <build-info>
            <version>8.3.4</version>
            <build-number>803005</build-number>
            <build-date>13-09-2019</build-date>
        </build-info>

<item>
            <title>[CONFIGURATION-420] OverrideCombiner seems to ignore list nodes</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-420</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When using OverrideCombiner it seems to ignore any list nodes and always return properties/values for list node from the overridden file. See the attached files for an example of what I mean. The following code always returns the values from config-custom even if list-nodes mentions that the sysprops node is a list-node.&lt;/p&gt;

&lt;p&gt;		URL fileURL = TestConfig.class.getResource(&quot;config-conf.xml&quot;);&lt;/p&gt;

&lt;p&gt;		try&lt;/p&gt;
		{
			DefaultConfigurationBuilder configBuilder = new DefaultConfigurationBuilder(fileURL);
			CombinedConfiguration config = configBuilder.getConfiguration(true);
			System.out.println(config.getString(&quot;sysprops/testkey&quot;));
			System.out.println(config.getString(&quot;configprops/testkey1&quot;));
		}
&lt;p&gt;		catch (ConfigurationException e)&lt;/p&gt;
		{
			e.printStackTrace();
		}</description>
                <environment></environment>
        <key id="12466450">CONFIGURATION-420</key>
            <summary>OverrideCombiner seems to ignore list nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aniruddhc">Aniruddh Chitre</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Jun 2010 12:15:59 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:09 +0000</updated>
                            <resolved>Sun, 15 Aug 2010 19:48:37 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Interpolation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12876658" author="aniruddhc" created="Tue, 8 Jun 2010 12:18:55 +0000"  >&lt;p&gt;Attached sample XML files&lt;/p&gt;</comment>
                            <comment id="12876771" author="oliver.heger@t-online.de" created="Tue, 8 Jun 2010 19:16:19 +0000"  >&lt;p&gt;I am not sure whether I understand your problem. What would be the result you are expecting?&lt;/p&gt;
</comment>
                            <comment id="12876972" author="aniruddhc" created="Wed, 9 Jun 2010 06:25:49 +0000"  >&lt;p&gt;I am expecting that System.out.println(config.getString(&quot;sysprops/testkey&quot;)) should return 98759875789 from the second configuration file config.xml but it returns 3543453 from the first configuration file config-custom.xml. It might be correct behaviour for override but in my case I have specified the sysprops node as a list-node so I am expecting that even if the override file has sysprops the OverrideCombiner should return the value from the base configuration.&lt;/p&gt;</comment>
                            <comment id="12877181" author="oliver.heger@t-online.de" created="Wed, 9 Jun 2010 19:57:02 +0000"  >&lt;p&gt;No, OverrideCombiner always takes data from the first configuration, no matter if list nodes are involved or not. Only properties that are not contained in the first configuration are obtained from the second one. This is the classic override semantics.&lt;/p&gt;

&lt;p&gt;Whether a property is a list node or not does not affect the selection performed by the combiner. This only influences the structure of the generated combined configuration.&lt;/p&gt;

&lt;p&gt;If you have specific requirements (obviously some properties must not be overridden), you probably have to implement your own combiner.&lt;/p&gt;

&lt;p&gt;Anyway, this is not a bug. OverrideCombiner works as expected.&lt;/p&gt;</comment>
                            <comment id="12877312" author="ralph.goers@dslextreme.com" created="Thu, 10 Jun 2010 04:20:53 +0000"  >&lt;p&gt;I would suggest that you checkout trunk and then build the web site. The documentation on the combiners was improved to illustrate the difference between the OverrideCombiner, UnionCombiner, and a new MergeCombiner. The MergeCombiner may work the way you desire as it attempts to merge nodes rather than override them.&lt;/p&gt;

&lt;p&gt;Also, after viewing that documentation, if you would like a combiner that works differently please open Jira issue that describes the way it should behave in detail. If you could provide a combiner that implements that, so much the better.&lt;/p&gt;</comment>
                            <comment id="12898739" author="oliver.heger@t-online.de" created="Sun, 15 Aug 2010 19:48:37 +0000"  >&lt;p&gt;This is not a bug. OverrideCombiner works as expected.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12446589" name="config-conf.xml" size="789" author="aniruddhc" created="Tue, 8 Jun 2010 12:23:39 +0000"/>
                            <attachment id="12446588" name="config-custom.xml" size="181" author="aniruddhc" created="Tue, 8 Jun 2010 12:19:40 +0000"/>
                            <attachment id="12446586" name="config.xml" size="188" author="aniruddhc" created="Tue, 8 Jun 2010 12:18:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Jun 2010 19:16:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61960</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-418] incorrect backslash parsing</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-418</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I am using Commons Configuration (PropertiesConfiguration) and some of my data are windows shares: &lt;br class=&quot;atl-forced-newline&quot; /&gt;share1 or &lt;br class=&quot;atl-forced-newline&quot; /&gt;share2. The problem is the parsing return different things depending how the keys are defined. For example, these keys&lt;/p&gt;

&lt;p&gt;share=\\\\share1&lt;br/&gt;
share=\\\\share2&lt;/p&gt;

&lt;p&gt;are different than:&lt;/p&gt;

&lt;p&gt;share=\\\\share1, \\\\share2&lt;/p&gt;

&lt;p&gt;The first one returns two backslashes (&quot;&lt;br class=&quot;atl-forced-newline&quot; /&gt;share1&quot; and &quot;&lt;br class=&quot;atl-forced-newline&quot; /&gt;share2&quot;) and the second returns just one (&quot;\share1&quot; and &quot;\share2&quot;). I think the problem is in PropertyConverter line 525, cos the backslash is hidden twice when multivalue parsing is done:&lt;/p&gt;

&lt;p&gt;if (c != delimiter &amp;amp;&amp;amp; c != LIST_ESC_CHAR) &lt;/p&gt;
                {
                    // no, also add escape character
                    token.append(LIST_ESC_CHAR);
                }&lt;br/&gt;
&lt;br/&gt;
In my understanding the second condition produces this strange issue and it should be like this:&lt;br/&gt;
&lt;br/&gt;
if (c != delimiter) &lt;br/&gt;
                {                    // no, also add escape character                    token.append(LIST_ESC_CHAR);                }

&lt;p&gt;Check that cos I can be missing something...&lt;/p&gt;

&lt;p&gt;TIA&lt;/p&gt;</description>
                <environment>&lt;p&gt;Commons Configuration 1.6&lt;/p&gt;</environment>
        <key id="12465792">CONFIGURATION-418</key>
            <summary>incorrect backslash parsing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rickyepoderi">Ricky Martin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 May 2010 14:49:18 +0000</created>
                <updated>Thu, 24 Mar 2016 20:20:44 +0000</updated>
                            <resolved>Sat, 13 Jul 2013 19:48:04 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12874155" author="oliver.heger@t-online.de" created="Tue, 1 Jun 2010 18:54:58 +0000"  >&lt;p&gt;It may be that the current version in subversion contains some changes related to the handling of backslahses and escaping, but I am not sure. So would it be possible for you to checkout the most recent version and test with it? Otherwise I will have a look in some days. Thanks.&lt;/p&gt;</comment>
                            <comment id="12874181" author="rickyepoderi" created="Tue, 1 Jun 2010 19:32:05 +0000"  >&lt;p&gt;Hi Oliver,&lt;/p&gt;

&lt;p&gt;I checked out the trunk:&lt;/p&gt;

&lt;p&gt;$ svn checkout &lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/configuration/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/configuration/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And the error is still the same. I send you the files and my straight forward diff:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Little sample.properties which shows the problem.&lt;/li&gt;
	&lt;li&gt;A direct Main.java which lists the keys and values.&lt;/li&gt;
	&lt;li&gt;The PropertyConverter.diff which shows how I corrected the problem (maybe a bit straight forward).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The result of the Main.java using sample.properties is the following:&lt;/p&gt;

&lt;p&gt;share1=&lt;span class=&quot;error&quot;&gt;&amp;#91;\share1, \share1&amp;#93;&lt;/span&gt;&lt;br/&gt;
share2=&lt;a href=&quot;file://share2, //share2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;\\share2, \\share2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Which clearly shows the different behavior if comma separated is used or not.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12874182" author="rickyepoderi" created="Tue, 1 Jun 2010 19:33:52 +0000"  >&lt;p&gt;The three files commented to test the issue.&lt;/p&gt;</comment>
                            <comment id="12874188" author="rickyepoderi" created="Tue, 1 Jun 2010 19:37:18 +0000"  >&lt;p&gt;I forgot the Main&lt;/p&gt;</comment>
                            <comment id="12876049" author="oliver.heger@t-online.de" created="Sun, 6 Jun 2010 15:53:14 +0000"  >&lt;p&gt;Thanks for the proposed patch. It solves the problem described by this issue, but unfortunately causes another unit test to fail.&lt;/p&gt;

&lt;p&gt;Our rules for escaping list delimiters and other escaping characters have become so complex that it is easy to lose overview. Per default, a comma is interpreted as list delimiter character. This can be escaped by a backslash as in&lt;br/&gt;
&lt;tt&gt;options = 1\, 2 or 3&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Now there is often the requirement to store path names in configuration files. In Windows environments this can cause problems with the escaping of the list delimiter, e.g.:&lt;br/&gt;
&lt;tt&gt;test.dirs = C:\\Temp\\,D:&lt;br class=&quot;atl-forced-newline&quot; /&gt;data&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Here the trailing backslash of the first list element would be interpreted as escape character for the list delimiter. Therefore it is also possible to escape the escape character for the list delimiter:&lt;br/&gt;
&lt;tt&gt;test.dirs = C:\\Temp\\\\,D:&lt;br class=&quot;atl-forced-newline&quot; /&gt;data&lt;/tt&gt;&lt;br/&gt;
This is the reason for the condition &lt;tt&gt;&amp;amp;&amp;amp; c != LIST_ESC_CHAR&lt;/tt&gt; which your patch removed.&lt;/p&gt;

&lt;p&gt;In your case you use names of network shares starting with a double backslash. If multiple of these shares are declared in a single line using a list delimiter, these duplicated backslashes are interpreted as escaped backslashes and so one of them is removed. This escaping is only evaluated if a list delimiter is involved, so the properties actually have to look different if they are defined in a single line or in multiple lines. I think, the user guide has to be updated to reflect this.&lt;/p&gt;

&lt;p&gt;To avoid escaping you have to duplicate the backslahes again. Your example then becomes:&lt;br/&gt;
&lt;tt&gt;test.share1 = \\\\\\\\share1a, \\\\\\\\share1b&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;However, when testing I found that there is still a bug in the escaping logic which does not handle such constellations correctly. I am working on a fix.&lt;/p&gt;</comment>
                            <comment id="12876140" author="rickyepoderi" created="Mon, 7 Jun 2010 07:14:05 +0000"  >&lt;p&gt;I understand Oliver, although it is a bit weird. So when you need more than one consecutive backslash in a comma separated key you need to escape them twice (one for the general escaping and a second for comma separated parsing). &lt;/p&gt;

&lt;p&gt;What I do not know it is why comma separated parsing is performed in a second phase... That is the final reason for this mess, but I am sure that exceeds me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks a lot!&lt;/p&gt;</comment>
                            <comment id="12876386" author="oliver.heger@t-online.de" created="Mon, 7 Jun 2010 20:02:20 +0000"  >&lt;p&gt;Well, to be honest, I am not happy with the current state either. It is pretty complex and hard to understand. However, given the requirements, I do not know how we can make it simpler:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;If a property value can contain a list delimiter, there must be a possibility to escape it.&lt;/li&gt;
	&lt;li&gt;Then there must be a way to escape the sequence of an escaped list delimiter.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I am open for suggestions. I am currently updating the user guide, and I hope this helps a bit to grasp the concept.&lt;/p&gt;</comment>
                            <comment id="12876392" author="sebb@apache.org" created="Mon, 7 Jun 2010 20:18:38 +0000"  >&lt;p&gt;The escaping should not depend on whether a list delimiter is present.&lt;br/&gt;
Therefore the parsing needs to be done in a single pass, otherwise there will always be an ambiguity.&lt;/p&gt;

&lt;p&gt;If parsing is done in a single pass, the code knows if the comma has been escaped or not.&lt;/p&gt;

&lt;p&gt;The following are the possibilities - should be easy enough to parse:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;\\ =&amp;gt; \
\, =&amp;gt; , but not a list delimiter
\\, =&amp;gt; \ followed by list delimiter
\\\, =&amp;gt; \, (not a list delimiter)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s then trivial to encode property definitions:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;escape any backslashes&lt;/li&gt;
	&lt;li&gt;escape any list delimiters that are not supposed to be list delimiters.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12876555" author="oliver.heger@t-online.de" created="Tue, 8 Jun 2010 05:49:05 +0000"  >&lt;p&gt;Just to make sure I understand you correctly: With parsing in two passes you mean that the presence of a list delimiter influences the escaping algorithm, so that list elements may have to be defined in a different way when they are put on a single line or on multiple lines, right?&lt;/p&gt;

&lt;p&gt;Yes, I agree, this should be made consistent. I don&apos;t know why it is currently implemented this way, but the code is there probably for a long time now. So I wonder whether we should change the parsing in a minor release because this impacts the way certain properties have to be defined and might break existing applications. Therefore I tend to close this ticket (a bug actually has been fixed) and open a new one, targeted to a 2.0 release, with the goal to rework the parsing algorithm. WDYT?&lt;/p&gt;</comment>
                            <comment id="12876568" author="rickyepoderi" created="Tue, 8 Jun 2010 07:06:22 +0000"  >&lt;p&gt;Yes! I just tried to say exactly what Sebb said:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Share=\\\\share =&amp;gt; share=&quot;\\share&quot;  
  =&amp;gt; two backslash escaped (1 value)
test.dirs=C:\\Temp\\,D: =&amp;gt; test.dirs=[&quot;C:\Temp\&quot;, &quot;D:&quot;] 
  =&amp;gt; two backslash escaped and two values (2 values)
lala=C:\\Temp\,D: =&amp;gt; lala=&quot;C:\Temp,D:&quot; 
  =&amp;gt; backslash escaped and comma escaped (1 value)
lala2=C:\\Temp\\\,D =&amp;gt; lala2=[&quot;C:\Temp\D:&quot;] 
  =&amp;gt; two backslashes escaped and comma escaped (1 value)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;The problem is there is a first phase when escapes are treated and one value is returned, and a second phase when comma separated values are splitted from the String returned by previous phase, here escapes are treated again... That is the reason weird things happen.&lt;/p&gt;</comment>
                            <comment id="12876634" author="sebb@apache.org" created="Tue, 8 Jun 2010 11:22:57 +0000"  >&lt;p&gt;@Oliver: yes, two-pass parsing means that the escaping requirements depend on whether list delimiters are present or not.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure how one can properly handle the behaviour change. It&apos;s a bit different from an API change, as it is the data that would need to be fixed, rather than code. This makes it much harder for users to deal with, as the data may even not be theirs. So breaking compatibility would mean that some users cannot upgrade.&lt;/p&gt;

&lt;p&gt;So I think the only way forward now would be to add the new behaviour as an option. Perhaps as a ctor argument. Or maybe a new class.&lt;/p&gt;

&lt;p&gt;Not sure a new JIRA is needed; but if so, it should be linked to this one.&lt;/p&gt;</comment>
                            <comment id="12876769" author="oliver.heger@t-online.de" created="Tue, 8 Jun 2010 19:07:34 +0000"  >&lt;p&gt;PropertiesConfiguration allows setting an IOFactory which is responsible for creating the readers and writers for reading and writing properties files. So we could provide alternative implementations which handle backslash escaping correctly. I have difficulties to find a meaningful name for these alternative implementations. Maybe &lt;em&gt;StringentPropertiesReader&lt;/em&gt;?&lt;/p&gt;</comment>
                            <comment id="12882981" author="oliver.heger@t-online.de" created="Sun, 27 Jun 2010 19:39:22 +0000"  >&lt;p&gt;The problem is worse than I thought. This two-pass parsing is already (indirectly) performed by the addProperty() method in the AbstractConfiguration base class. So all configuration classes derived from this class (basically all) are affected in theory. Currently you have to use different escaping for backslashes when you call addProperty() with a value containing a list delimiter or for a value without a delimiter. Because many file-based configurations call addProperty() in their load() method loading of configuration files is also affected in many cases - but not in all: XMLConfiguration for instance is using a different strategy for splitting property values.&lt;/p&gt;

&lt;p&gt;One approach to solve this problem and make handling of list delimiters and escape characters more consistent would be to introduce a new interface - maybe &lt;tt&gt;ListDelimiterHandler&lt;/tt&gt; - and delegate parsing of property values to a concrete implementation. It has to be ensured then that all split operations for property values are done through this interface. Probably this interface also has to be used when writing configuration files because the escaping performed by write has to be compatible with the parsing done when adding properties.&lt;/p&gt;

&lt;p&gt;However, I doubt whether this is worth the effort. Would really anybody provide a custom implementation of such an interface or is it easier to work around the current inconsistencies (provided they are well documented)? Also, there is still the issue with backwards compatibility of existing configuration files which may be affected when we change the current behavior.&lt;/p&gt;</comment>
                            <comment id="12898740" author="oliver.heger@t-online.de" created="Sun, 15 Aug 2010 19:54:37 +0000"  >&lt;p&gt;Setting fix version to 2.0. I see no way to fix this problem with a reasonable effort in a compatible way.&lt;/p&gt;</comment>
                            <comment id="13696384" author="oliver.heger@t-online.de" created="Sun, 30 Jun 2013 17:40:46 +0000"  >&lt;p&gt;As an update: Currently, there is ongoing work on version 2.0 of Commons Configuration which will introduce some new concepts and break backwards compatibility. For this new release I am going to try out the approach with a &lt;tt&gt;ListDelimiterHandler&lt;/tt&gt; interface. The plan is to drop the properties &lt;tt&gt;listDelimiter&lt;/tt&gt; and &lt;tt&gt;delimiterParsingDisabled&lt;/tt&gt; from &lt;tt&gt;AbstractConfiguration&lt;/tt&gt; and move all logic related to list delimiter handling to a concrete &lt;tt&gt;ListDelimiterHandler&lt;/tt&gt; implementation which can be assigned to the configuration.&lt;/p&gt;

&lt;p&gt;We can provide different implementations of &lt;tt&gt;ListDelimiterHandler&lt;/tt&gt;:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;one which disables list splitting completely; this would correspond to setting &lt;tt&gt;delimiterParsingDisabled&lt;/tt&gt; to &lt;b&gt;true&lt;/b&gt;.&lt;/li&gt;
	&lt;li&gt;one which implements the same splitting logic as was used in Configuration 1.x; this can be used if compatibility with already existing configuration files is needed&lt;/li&gt;
	&lt;li&gt;one which implements a more consistent split and escape behavior as described in this ticket; this is then the recommended implementation for new applications that want to use list splitting&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;These implementations should cover the most typical use cases. If special behavior is needed, a custom &lt;tt&gt;ListDelimiterHandler&lt;/tt&gt; implementation can be created.&lt;/p&gt;</comment>
                            <comment id="13707823" author="oliver.heger@t-online.de" created="Sat, 13 Jul 2013 19:48:04 +0000"  >&lt;p&gt;The handling of list delimiters has been completely reworked as described in my last comment. The changes are available in SVN in revision 1502873.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12653711">CONFIGURATION-547</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12446053" name="Main.java" size="587" author="rickyepoderi" created="Tue, 1 Jun 2010 19:37:18 +0000"/>
                            <attachment id="12446052" name="PropertyConverter.diff" size="719" author="rickyepoderi" created="Tue, 1 Jun 2010 19:33:52 +0000"/>
                            <attachment id="12446050" name="sample.properties" size="67" author="rickyepoderi" created="Tue, 1 Jun 2010 19:33:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Jun 2010 18:54:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lm3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-417] apidocs linked incorrectly on site</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-417</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/configuration/userguide/apidocs/org/apache/commons/configuration/PropertiesConfiguration.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://commons.apache.org/configuration/userguide/apidocs/org/apache/commons/configuration/PropertiesConfiguration.html&lt;/a&gt; ought to be &lt;a href=&quot;http://commons.apache.org/configuration/apidocs/org/apache/commons/configuration/PropertiesConfiguration.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://commons.apache.org/configuration/apidocs/org/apache/commons/configuration/PropertiesConfiguration.html&lt;/a&gt; instead, for instance&lt;/p&gt;</description>
                <environment></environment>
        <key id="12465499">CONFIGURATION-417</key>
            <summary>apidocs linked incorrectly on site</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hdiwan">Hasan Diwan</reporter>
                        <labels>
                            <label>javadoc</label>
                            <label>maven</label>
                    </labels>
                <created>Wed, 26 May 2010 19:44:38 +0000</created>
                <updated>Tue, 31 Jul 2012 19:34:22 +0000</updated>
                            <resolved>Tue, 31 Jul 2012 19:34:07 +0000</resolved>
                                    <version>1.7</version>
                    <version>1.8</version>
                    <version>2.0</version>
                    <version>2.x</version>
                    <version>Nightly Builds</version>
                                    <fixVersion>1.8</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="900">0.25h</timeoriginalestimate>
                            <timeestimate seconds="900">0.25h</timeestimate>
                                        <comments>
                            <comment id="12871926" author="oliver.heger@t-online.de" created="Wed, 26 May 2010 20:19:40 +0000"  >&lt;p&gt;I think this has already been fixed in subversion. When I build the site locally, the links are now correct (at least the ones I tested).&lt;/p&gt;</comment>
                            <comment id="13426049" author="oliver.heger@t-online.de" created="Tue, 31 Jul 2012 19:34:08 +0000"  >&lt;p&gt;This issue slipped off my radar. The links from the user&apos;s guide to API classes work correctly now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 May 2010 20:19:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uq73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-416] pom specifies incorrect groupId for commons dependencies</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-416</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;pom.xml specifies commons depencencies as follows:&lt;br/&gt;
&amp;lt;dependency&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;commons-collections&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;commons-collections&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;version&amp;gt;3.2.1&amp;lt;/version&amp;gt;&lt;br/&gt;
&amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;Commons packages have been migrated to use correct groupId of org.apache.commons so these dependencies should be changed accordingly. We caught this when rebuilding commons packages using maven for Fedora rawhide and our build system was unable to find dependencies because of this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12465480">CONFIGURATION-416</key>
            <summary>pom specifies incorrect groupId for commons dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sochotnicky">Stanislav Ochotnicky</reporter>
                        <labels>
                            <label>build</label>
                            <label>dependencies</label>
                            <label>fedora_rawhide</label>
                    </labels>
                <created>Wed, 26 May 2010 15:48:33 +0000</created>
                <updated>Wed, 26 May 2010 16:19:20 +0000</updated>
                            <resolved>Wed, 26 May 2010 15:58:26 +0000</resolved>
                                    <version>1.6</version>
                                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12871783" author="sebb@apache.org" created="Wed, 26 May 2010 15:58:26 +0000"  >&lt;p&gt;Note that not all Commons components have been changed to use org.apache.commons. &lt;/p&gt;

&lt;p&gt;Many are still using commons-&amp;lt;component&amp;gt;, including Collections.&lt;/p&gt;</comment>
                            <comment id="12871790" author="sochotnicky" created="Wed, 26 May 2010 16:19:20 +0000"  >&lt;p&gt;Ah yes, you are right...the process is not finished. I just always noticed groupId of parent pom and that is normally org.apache.commons...confused me a bit &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks for fast response.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 May 2010 15:58:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-415] ConfigurationUtils.fileFromURL mangles files with &apos;+&apos; (plus sign) in the name</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-415</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Attached is a sample program that demonstrates the problem.  The following is the method in ConfigurationUtils in question:&lt;/p&gt;

&lt;p&gt;public static File fileFromURL(URL url)&lt;br/&gt;
{&lt;br/&gt;
...&lt;br/&gt;
        return new File(URLDecoder.decode(url.getPath()));&lt;br/&gt;
...&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;URLDecoder (poorly named) decodes data encoded in the application/x-www-form-urlencoded MIME format.  This format is commonly used to encode HTML form data.  It is not intended for encoding URLs, though the formats are similar.&lt;/p&gt;

&lt;p&gt;The operative difference is that the MIME format allows the use of the plus sign (&apos;+&apos;) to represent spaces, whereas URLs must have spaces hex encoded (&apos;%20&apos;).  Files may have plus signs in the name, and therefore, decoding the plus sign as a space produces a different path.&lt;/p&gt;

&lt;p&gt;See attached code demonstrating the problem.&lt;/p&gt;

&lt;p&gt;Reference:  &lt;a href=&quot;http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.2.1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.2.1&lt;/a&gt;&lt;br/&gt;
and &lt;a href=&quot;http://www.ietf.org/rfc/rfc1738.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.ietf.org/rfc/rfc1738.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12464963">CONFIGURATION-415</key>
            <summary>ConfigurationUtils.fileFromURL mangles files with &apos;+&apos; (plus sign) in the name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="bstiles@bstiles.net">Brian Stiles</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 May 2010 22:55:24 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:07 +0000</updated>
                            <resolved>Sat, 29 May 2010 14:25:16 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12869397" author="bstiles@bstiles.net" created="Wed, 19 May 2010 22:56:33 +0000"  >&lt;p&gt;Sample program to exhibit the bug.&lt;/p&gt;</comment>
                            <comment id="12869493" author="joehni" created="Thu, 20 May 2010 06:10:09 +0000"  >&lt;p&gt;Useful: &lt;a href=&quot;http://maven.apache.org/plugin-developers/common-bugs.html#Converting_between_URLs_and_Filesystem_Paths&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/plugin-developers/common-bugs.html#Converting_between_URLs_and_Filesystem_Paths&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12869645" author="oliver.heger@t-online.de" created="Thu, 20 May 2010 15:50:55 +0000"  >&lt;p&gt;Thanks for spotting this, and thanks to J&#246;rg for the reference.&lt;/p&gt;

&lt;p&gt;So, after reading this document, the best solution seems to be to replace the code of the &lt;tt&gt;fileFromURL()&lt;/tt&gt; method by the content of the &lt;tt&gt;FileUtils.toFile()&lt;/tt&gt; method.&lt;/p&gt;</comment>
                            <comment id="12873289" author="oliver.heger@t-online.de" created="Sat, 29 May 2010 14:25:16 +0000"  >&lt;p&gt;Fixed in subversion in revision 949393. The code in ConfigurationUtils.fileFromURL() was replaced by code from the FileUtils class of Commons IO.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12444998" name="FileFromUrlTest.java" size="1483" author="bstiles@bstiles.net" created="Wed, 19 May 2010 22:56:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 May 2010 06:10:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uom7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177129</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-413] Subset configuration does not support events</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-413</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description></description>
                <environment></environment>
        <key id="12460758">CONFIGURATION-413</key>
            <summary>Subset configuration does not support events</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="sans17">Alexander Prishchepov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Mar 2010 23:58:37 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:10 +0000</updated>
                            <resolved>Sun, 4 Apr 2010 18:05:34 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Events &amp;amp; Notifications</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12851792" author="oliver.heger@t-online.de" created="Wed, 31 Mar 2010 09:41:37 +0000"  >&lt;p&gt;Could you please provide some examples: what exactly does not work?&lt;/p&gt;

&lt;p&gt;Some code snippets would be helpful. A unit test case would be even better. Thanks.&lt;/p&gt;</comment>
                            <comment id="12852381" author="sans17" created="Thu, 1 Apr 2010 13:31:56 +0000"  >&lt;p&gt;Sorry.&lt;br/&gt;
Description is incorrect. Only some events are failing.&lt;/p&gt;

&lt;p&gt;Copied test case from TestMapConfigurationEvents.&lt;/p&gt;

&lt;p&gt;Case is failing on: testClearPropertyEvent, testClearPropertyEventWithDetails, testSetPropertyEvent and testSetPropertyEventWithDetails.&lt;/p&gt;</comment>
                            <comment id="12852919" author="sans17" created="Fri, 2 Apr 2010 19:01:37 +0000"  >&lt;p&gt;Here is a patch to fix the issue.&lt;/p&gt;</comment>
                            <comment id="12853271" author="oliver.heger@t-online.de" created="Sun, 4 Apr 2010 18:05:34 +0000"  >&lt;p&gt;Patch applied to trunk and configuration2 branch. Many thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12440641" name="SubsetConfiguration-patch.txt" size="694" author="sans17" created="Fri, 2 Apr 2010 19:01:37 +0000"/>
                            <attachment id="12440509" name="TestSubsetConfigurationEvents.java" size="578" author="sans17" created="Thu, 1 Apr 2010 13:31:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 31 Mar 2010 09:41:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-412] Cannot use DatabaseConfiguration if the datasource has autocommit = false</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-412</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;If using a DatabaseConfiguration object with a datasource that has &lt;b&gt;autocommit = false&lt;/b&gt;, the setProperty method fails with a &lt;b&gt;duplicate key&lt;/b&gt; error.&lt;/p&gt;

&lt;p&gt;This happens because in the setProperty method the two calls &lt;em&gt;clearProperty(key)&lt;/em&gt; and &lt;em&gt;addProperty(key, value)&lt;/em&gt; can retrieve two different connections from the database.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows / Linux - Database Oracle 11&lt;/p&gt;</environment>
        <key id="12459439">CONFIGURATION-412</key>
            <summary>Cannot use DatabaseConfiguration if the datasource has autocommit = false</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="stefano.bertini">Stefano Bertini</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Mar 2010 21:39:01 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:15 +0000</updated>
                            <resolved>Wed, 7 Apr 2010 20:28:47 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12846783" author="oliver.heger@t-online.de" created="Thu, 18 Mar 2010 07:37:44 +0000"  >&lt;p&gt;Would it be a solution to provide an implementation of &lt;tt&gt;setProperty()&lt;/tt&gt; that issues a single UPDATE statement? Or should &lt;tt&gt;DatabaseConfiguration&lt;/tt&gt; be extended to perform commits if configured?&lt;/p&gt;</comment>
                            <comment id="12846986" author="stefano.bertini" created="Thu, 18 Mar 2010 16:35:10 +0000"  >&lt;p&gt;I think that the DatabaseConfiguration should always perform a commit, otherwise the class would not be usable without autocommit = true.&lt;br/&gt;
Infact, without autocommit = true, sql statements issued by the code would never be committed to the database.&lt;/p&gt;</comment>
                            <comment id="12847571" author="oliver.heger@t-online.de" created="Fri, 19 Mar 2010 20:47:22 +0000"  >&lt;p&gt;I agree that for autocommit = false manual commits are required. However, I assume we would break applications that use autocommit = true if we always did a commit. Therefore I think the commit mode should be configurable.&lt;/p&gt;</comment>
                            <comment id="12854689" author="oliver.heger@t-online.de" created="Wed, 7 Apr 2010 20:28:47 +0000"  >&lt;p&gt;A fix was applied in SVN revision 931667 (and also ported to the configuration2 branch).&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;DatabaseConfiguration&lt;/tt&gt; now provides additional constructors that allow setting a flag whether commits should be performed on the connection obtained from the data source. Per default, this flag is &lt;b&gt;false&lt;/b&gt;, so that the behavior of the configuration class is not changed when using the old constructors.&lt;/p&gt;

&lt;p&gt;Note that we currently do not perform a rollback if an exception occurs. This does not seem to be necessary.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Mar 2010 07:37:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122574</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-411] XMLConfiguration: node text: first \ (backslash) of \\ (double backslash) character will not be in the configuration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-411</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I have this configuration element in my XML configuration:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;working-folder&amp;gt;\\test\test&amp;lt;/working-folder&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;... but when I want to print out the value, I notice the content of this node changed to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; \test\test&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So the first &quot;\&quot; has disappeared&lt;/p&gt;

&lt;p&gt;I&apos;ve created a M2 project that simulates the problem. Just hit mvn eclipse:eclipse and run the Test.java file &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;The problem is situated in: &lt;b&gt;org.apache.commons.configuration.PropertyConverter.class&lt;/b&gt;. Check the method:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; List split(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; s, &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; delimiter, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; trim)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; =&amp;gt; line 505.&lt;/p&gt;

&lt;p&gt;begin = 0&lt;br/&gt;
c = &quot;\&quot;&lt;br/&gt;
inEscape = true&lt;br/&gt;
begin = 1&lt;br/&gt;
c= &quot;\&quot;&lt;br/&gt;
if (c &amp;#33;= delimiter &amp;amp;&amp;amp; c == LIST_ESC_CHAR) =&amp;gt; only the second char will be printed&lt;/p&gt;</description>
                <environment></environment>
        <key id="12458793">CONFIGURATION-411</key>
            <summary>XMLConfiguration: node text: first \ (backslash) of \\ (double backslash) character will not be in the configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jochus">Jochen Hebbrecht</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Mar 2010 10:07:21 +0000</created>
                <updated>Wed, 17 Mar 2010 20:53:06 +0000</updated>
                            <resolved>Wed, 17 Mar 2010 20:52:49 +0000</resolved>
                                    <version>1.6</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12845095" author="oliver.heger@t-online.de" created="Sun, 14 Mar 2010 15:04:45 +0000"  >&lt;p&gt;The handling of the backslash character is part of the list splitting mechanism: per default, properties containing the list delimiter character (&quot;,&quot;) are split and treated as a list of values. If the list delimiter character is part of the property value, it can be escaped using a backslash, i.e. &quot;\,&quot;. The backslash itself can be escaped by another backslash - this is what you have hit.&lt;/p&gt;

&lt;p&gt;You can work around the problem in the following ways:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;You can disable list delimiter parsing if you do not need it. This can be done by calling the &lt;tt&gt;setDelimiterParsingDisabled()&lt;/tt&gt; method &lt;b&gt;before&lt;/b&gt; the configuration is loaded.&lt;/li&gt;
	&lt;li&gt;You can double the backslash where it is required, so your property becomes &lt;tt&gt;\\\\test\test&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This list splitting feature which is enabled per default has caused us many problems in the past. So we think about removing it in the next major release (of course in the commons-configuration 1.x series backwards compatibility will be kept).&lt;/p&gt;

&lt;p&gt;Does this solve your problem? I do not think, this is really a bug.&lt;/p&gt;</comment>
                            <comment id="12845272" author="jochus" created="Mon, 15 Mar 2010 10:33:15 +0000"  >&lt;p&gt;Ok, thanks. But I still have one question. If the \ is needed to escape another backslash, why shouldn&apos;t I type:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;\\\\test\\test&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;. So the second backslash is not escaped?&lt;/p&gt;</comment>
                            <comment id="12845517" author="oliver.heger@t-online.de" created="Mon, 15 Mar 2010 20:42:58 +0000"  >&lt;p&gt;The escaping algorithm is implemented that it searches for backslash characters and then checks the following character. If this is a special character like the list delimiter or another backslash, the first backslash is dropped, and the following character is not touched. For other characters that do not have a special meaning the backslash is retained. This approach was used to minimize the impact of the escaping algorithm on existing property definitions. For instance, windows path names containing only single backslashes are not escaped.&lt;/p&gt;

&lt;p&gt;Actually, in your case it does not make any difference whether you double the second backslash or not.&lt;/p&gt;</comment>
                            <comment id="12845882" author="jochus" created="Tue, 16 Mar 2010 12:18:59 +0000"  >&lt;p&gt;Oliver,&lt;/p&gt;

&lt;p&gt;Ok, thanks. I get it now. It&apos;s not a bug. You can close this ticket.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Jochen&lt;/p&gt;</comment>
                            <comment id="12846578" author="oliver.heger@t-online.de" created="Wed, 17 Mar 2010 20:52:49 +0000"  >&lt;p&gt;The reporter agreed that this is not a bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12438499" name="xmldoublebackslash.rar" size="1288" author="jochus" created="Thu, 11 Mar 2010 10:08:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 14 Mar 2010 15:04:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177493</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-409] Key containing escapedDelimiter does not save() properly</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-409</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;It seems that a key containing the escapedDelimiter is stored without the delimiter and the escape is not recreated when saving the configuration. &lt;/p&gt;

&lt;hr /&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;test.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;HierarchicalINIConfiguration inicfg = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HierarchicalINIConfiguration();
inicfg.setProperty( &lt;span class=&quot;code-quote&quot;&gt;&quot;Andrew L.. Cooper.first&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Andrew&quot;&lt;/span&gt; );
inicfg.setProperty( &lt;span class=&quot;code-quote&quot;&gt;&quot;Andrew L.. Cooper.last&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Cooper&quot;&lt;/span&gt; );
inicfg.setProperty( &lt;span class=&quot;code-quote&quot;&gt;&quot;Andrew L.. Cooper.mail&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;andrew.cooper@example.com&quot;&lt;/span&gt; );
inicfg.save( &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out );
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println( inicfg.get( &lt;span class=&quot;code-quote&quot;&gt;&quot;Andrew L..Cooper.mail&quot;&lt;/span&gt; );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Expected Output&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[Andrew L. Cooper]
first = Andrew
last = Cooper
mail = andrew.cooper@example.com

andrew.cooper@example.com
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Actual Output&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[Andrew L. Cooper]

andrew.cooper@example.com
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12457765">CONFIGURATION-409</key>
            <summary>Key containing escapedDelimiter does not save() properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="andrew.cooper@hkcreations.org">Andrew Cooper</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Mar 2010 18:05:38 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:10 +0000</updated>
                            <resolved>Sat, 6 Mar 2010 20:46:38 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Expression engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12839851" author="oliver.heger@t-online.de" created="Mon, 1 Mar 2010 20:54:27 +0000"  >&lt;p&gt;You are right: this is a bug. Thank you for reporting this. I hope I manage to find some time in the next days to have a look.&lt;/p&gt;</comment>
                            <comment id="12842308" author="oliver.heger@t-online.de" created="Sat, 6 Mar 2010 20:46:38 +0000"  >&lt;p&gt;Fixed in subversion in revision 919845.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Mar 2010 20:54:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uonj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-408] When I save a URL as a property value, the forward slashes are getting escaped</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-408</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When I save a URL as a property value, the forward slashes are getting escaped.&lt;/p&gt;

&lt;p&gt;ie: &lt;/p&gt;

&lt;p&gt;foo = http:\/\/www.google.com\/&lt;/p&gt;


&lt;p&gt;Example Code : &lt;/p&gt;

&lt;p&gt;public static void main(String[] args)&lt;br/&gt;
  {&lt;br/&gt;
    try&lt;/p&gt;
    {
      PropertiesConfiguration config = new PropertiesConfiguration();     
      File newProps = new File(&quot;foo.properties&quot;);
      config.setProperty(&quot;foo&quot;, &quot;http://www.google.com/&quot;);     
      config.save(newProps);
      
    }
&lt;p&gt;    catch (Exception e){}&lt;/p&gt;

&lt;p&gt;  }&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows xp sp 3 , java 1.6&lt;/p&gt;</environment>
        <key id="12455968">CONFIGURATION-408</key>
            <summary>When I save a URL as a property value, the forward slashes are getting escaped</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="damiendallimore">Damien Dallimore</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Feb 2010 01:01:05 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:15 +0000</updated>
                            <resolved>Sun, 14 Mar 2010 14:35:48 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12832403" author="oliver.heger@t-online.de" created="Thu, 11 Feb 2010 07:08:19 +0000"  >&lt;p&gt;This behavior is caused by a bug in Commons Lang 2.4 which is used behind the scenes: &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-421&quot; title=&quot;StringEscapeUtils.escapeJava(String) escapes &amp;#39;/&amp;#39; characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LANG-421&quot;&gt;&lt;del&gt;LANG-421&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There are currently some preparations for a 2.5 release of Commons Lang which should also contain a fix for this problem. So chances are good that this issue will be solved soon. You can also try Commons Lang 2.3; this version is not affected by the bug.&lt;/p&gt;</comment>
                            <comment id="12845089" author="oliver.heger@t-online.de" created="Sun, 14 Mar 2010 14:35:48 +0000"  >&lt;p&gt;The dependency to commons-lang was changed to the new version 2.5. I also added a unit test to verify that the problem is actually solved.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Feb 2010 07:08:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33964</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-407] HierarchicalINIConfiguration can throw an exception if the global section is accessed concurrently</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-407</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;If the global section of a hierarchical INI configuration is requested, a new ViewNode is created which becomes the root node of a new configuration for the global section. Nodes representing properties of the global section are added to this ViewNode. This operation temporarily changes the parent node of these nodes which may cause problems if the method is called by multiple threads concurrently. Because access to a section is a read-only operation, this should be thread-safe.&lt;/p&gt;

&lt;p&gt;The probability that this error happens is pretty low IMO. Therefore it should be hard to create a unit test.&lt;/p&gt;

&lt;p&gt;The issue can be fixed by synchronizing the add operation to the ViewNode.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12455537">CONFIGURATION-407</key>
            <summary>HierarchicalINIConfiguration can throw an exception if the global section is accessed concurrently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Feb 2010 17:04:32 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:06 +0000</updated>
                            <resolved>Mon, 8 Feb 2010 21:04:22 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12830730" author="oliver.heger@t-online.de" created="Sun, 7 Feb 2010 17:15:45 +0000"  >&lt;p&gt;Actually even an IllegalStateException can be thrown by the &lt;tt&gt;DefaultConfigurationNode&lt;/tt&gt; class because the node is changed while it is assigned a parent node.&lt;/p&gt;</comment>
                            <comment id="12830775" author="sebb@apache.org" created="Sun, 7 Feb 2010 21:39:31 +0000"  >&lt;p&gt;Thread-safety means more than just synchronising changes to variables - threads that read the variable need to synch. on the same lock in order to be sure of seeing the updated value.&lt;/p&gt;</comment>
                            <comment id="12831114" author="oliver.heger@t-online.de" created="Mon, 8 Feb 2010 20:55:41 +0000"  >&lt;p&gt;Of course, you are right. The Configuration implementations are typically not thread-safe. However, it is intended that read-only access can be performed concurrently.&lt;/p&gt;

&lt;p&gt;So I am going to change the subject of this ticket.&lt;/p&gt;</comment>
                            <comment id="12831119" author="oliver.heger@t-online.de" created="Mon, 8 Feb 2010 21:04:22 +0000"  >&lt;p&gt;Fixed in subversion in revision 907793.&lt;/p&gt;</comment>
                            <comment id="12831176" author="sebb@apache.org" created="Mon, 8 Feb 2010 22:54:13 +0000"  >&lt;p&gt;If the same INIConfiguration instance is shared between threads, and one updates the shared config, then in the absence of synchronization, the other threads won&apos;t necessarily see the updated values. This is because the JVM is allowed to cache values in both the writer and reader threads.&lt;/p&gt;

&lt;p&gt;In order to ensure that cached values are correctly published, some form on synch. is needed. &lt;br/&gt;
For example, the reader has to synch. on the same object as the writer.&lt;br/&gt;
Or one can use volatile.&lt;/p&gt;

&lt;p&gt;Or, for example the configuration can be created in one thread, which then starts other threads that read it. Thread.start() acts as the lock in this case.&lt;br/&gt;
But if the writer thread subsequently changes the shared state, additional synch. will be needed to guarantee safe publication to the existing threads.&lt;/p&gt;

&lt;p&gt;By the way, the test case does not appear to test changes to the global INIConfiguration.&lt;/p&gt;</comment>
                            <comment id="12831635" author="oliver.heger@t-online.de" created="Tue, 9 Feb 2010 19:59:35 +0000"  >&lt;p&gt;With regard to concurrent access most Configuration implementations behave similar to Java collections: it is intended that they can be read concurrently by multiple threads; however, if one thread updates the configuration, the developer has to ensure proper synchronization. This is documented in the user&apos;s guide (&lt;a href=&quot;http://commons.apache.org/configuration/userguide/overview.html#Threading_issues&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://commons.apache.org/configuration/userguide/overview.html#Threading_issues&lt;/a&gt;) and should also be stated in the Javadocs of at least the configuration base classes.&lt;/p&gt;

&lt;p&gt;The issue this ticket is about is somewhat special because here the implementation of a logic read method did temporarily change the status of the configuration object. So synchronization was needed to make sure that this method can be called concurrently. But updates by another thread are still not supported. Therefore the tests do not update the data in the configuration.&lt;/p&gt;</comment>
                            <comment id="12831679" author="sebb@apache.org" created="Tue, 9 Feb 2010 21:33:01 +0000"  >&lt;p&gt;I think the user guide needs to be a lot clearer about what manual synch. is required. What should the reader threads synchronize on?&lt;/p&gt;

&lt;p&gt;Thread-safety and correct publication is only guaranteed if the writer and reader threads use the &lt;b&gt;same&lt;/b&gt; lock, so the reader thread needs to know what lock to use.&lt;/p&gt;</comment>
                            <comment id="12832183" author="oliver.heger@t-online.de" created="Wed, 10 Feb 2010 20:35:28 +0000"  >&lt;p&gt;Good points. It is probably best to open a new ticket for documentation improvements related to threading issues.&lt;/p&gt;

&lt;p&gt;I think, if there are threads that update the configuration, reader and writer threads should use the Configuration object itself as lock. Someday we might provide wrapper implementations that automatically synchronize access to configuration objects, analoguously to the functionality provided by Collections.synchronizedCollection(). But that&apos;s another story.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 7 Feb 2010 21:39:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121720</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-406] Multi-tenant Configurations Sample is not working</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-406</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Using a SPRING config like this:&lt;/p&gt;

&lt;blockquote&gt;

&lt;p&gt;&amp;lt;bean id=&quot;configurationFactory&quot; class=&quot;org.apache.commons.configuration.DefaultConfigurationBuilder&quot; &amp;gt;&lt;br/&gt;
	&amp;lt;constructor-arg&amp;gt;&lt;br/&gt;
		&amp;lt;value&amp;gt;configuration.xml&amp;lt;/value&amp;gt;&lt;br/&gt;
	&amp;lt;/constructor-arg&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;bean id=&quot;config&quot; factory-bean=&quot;configurationFactory&quot; factory-method=&quot;getConfiguration&quot; /&amp;gt; &lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and a the configuration.xml is:&lt;/p&gt;

&lt;blockquote&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
   &amp;lt;system /&amp;gt;&lt;br/&gt;
	&amp;lt;header&amp;gt;&lt;br/&gt;
    &amp;lt;result delimiterParsingDisabled=&quot;true&quot; forceReloadCheck=&quot;true&quot;&lt;br/&gt;
            config-class=&quot;org.apache.commons.configuration.DynamicCombinedConfiguration&quot;&lt;br/&gt;
            keyPattern=&quot;${sys:Id}&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;/result&amp;gt;&lt;br/&gt;
    &amp;lt;providers&amp;gt;&lt;br/&gt;
      &amp;lt;provider config-tag=&quot;multifile&quot;&lt;br/&gt;
         config-class=&quot;org.apache.commons.configuration.DefaultConfigurationBuilder$FileConfigurationProvider&quot;&lt;br/&gt;
         configurationClass=&quot;org.apache.commons.configuration.MultiFileHierarchicalConfiguration&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/providers&amp;gt;&lt;br/&gt;
  &amp;lt;/header&amp;gt;&lt;br/&gt;
  &amp;lt;override&amp;gt;&lt;br/&gt;
    &amp;lt;multifile filePattern=&quot;conf/${sys:Id}/test.xml&quot; config-name=&quot;clientConfig&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;/override&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;invoking to config.getString(&quot;any&quot;) always return null.&lt;/p&gt;

&lt;p&gt;Debuging I found that  at MultiFileHierarchicalConfiguration in getConfiguration() when a new XMLConfiguration was created as an Inner class. &lt;br/&gt;
The load() method has been overloded to an empty one. That was preventing the configuration to read the file.&lt;/p&gt;




</description>
                <environment>&lt;p&gt;Win32;JDK1.6.0_17;SPRING-3.0.0.RELEASE &lt;/p&gt;</environment>
        <key id="12446234">CONFIGURATION-406</key>
            <summary>Multi-tenant Configurations Sample is not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jpsantos">Joao Paulo Santos</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jan 2010 16:11:07 +0000</created>
                <updated>Sun, 29 Jun 2014 19:49:12 +0000</updated>
                                            <version>1.6</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14047229" author="oliver.heger@t-online.de" created="Sun, 29 Jun 2014 19:49:12 +0000"  >&lt;p&gt;First of all, sorry that it took so long to comment on this issue!&lt;/p&gt;

&lt;p&gt;From looking at the source code of &lt;tt&gt;MultiFileHierarchicalConfiguration&lt;/tt&gt; an &lt;tt&gt;XMLConfiguration&lt;/tt&gt; instance with overloaded &lt;tt&gt;load()&lt;/tt&gt; and &lt;tt&gt;save()&lt;/tt&gt; methods is only returned if the variables in the pattern string cannot be resolved. In the fragment you provided it looks like you want to access a system property (the prefix &lt;em&gt;sys&lt;/em&gt; is used). However, the name of the property is not specified. Therefore, a property key named &lt;em&gt;sys&lt;/em&gt; is searched which obviously cannot be found.&lt;/p&gt;

&lt;p&gt;Please re-check.&lt;/p&gt;

&lt;p&gt;BTW, currently work on Commons Configuration 2.0 is going on. Here there are some major changes in the way multi-file configurations are handled.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 29 Jun 2014 19:49:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266036</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-405] Using load(InputStream) on a new XMLPropertyListConfiguration results in a thrown ConfigurationException</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-405</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I&apos;m trying to use XMLPropertyListConfiguration to load a property-list from a byte array.  My code looks like:&lt;/p&gt;

&lt;p&gt;     XMLPropertyListConfiguration plist = new XMLPropertyListConfiguration();&lt;br/&gt;
     //	plist.setRootNode(new PListNode());	// HACK to work around internal cast exception&lt;br/&gt;
     plist.load(new ByteArrayInputStream(bytes));&lt;/p&gt;

&lt;p&gt;This causes a ConfigurationException caused by a class exception (reproduced below).  The exception can be avoided by uncommenting the second line.&lt;/p&gt;

&lt;p&gt;org.apache.commons.configuration.ConfigurationException: Unable to parse the configuration file&lt;br/&gt;
	at org.apache.commons.configuration.plist.XMLPropertyListConfiguration.load(XMLPropertyListConfiguration.java:250)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration$FileConfigurationDelegate.load(AbstractHierarchicalFileConfiguration.java:449)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:358)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:324)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.load(AbstractHierarchicalFileConfiguration.java:184)&lt;br/&gt;
	at testcc.TestCC.main(TestCC.java:29)&lt;br/&gt;
Caused by: java.lang.ClassCastException: org.apache.commons.configuration.HierarchicalConfiguration$Node cannot be cast to org.apache.commons.configuration.plist.XMLPropertyListConfiguration$PListNode&lt;br/&gt;
	at org.apache.commons.configuration.plist.XMLPropertyListConfiguration$XMLPropertyListHandler.endElement(XMLPropertyListConfiguration.java:534)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.endNamespaceScope(XMLDTDValidator.java:2077)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleEndElement(XMLDTDValidator.java:2028)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.endElement(XMLDTDValidator.java:901)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1774)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2930)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:807)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)&lt;br/&gt;
	at org.apache.commons.configuration.plist.XMLPropertyListConfiguration.load(XMLPropertyListConfiguration.java:246)&lt;br/&gt;
	... 5 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;MacOS X 6.2, JavaSE 1.6&lt;/p&gt;</environment>
        <key id="12445704">CONFIGURATION-405</key>
            <summary>Using load(InputStream) on a new XMLPropertyListConfiguration results in a thrown ConfigurationException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="bsd">Brian de Alwis</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Jan 2010 23:48:32 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:05 +0000</updated>
                            <resolved>Sun, 24 Jan 2010 16:51:10 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12801005" author="bsd" created="Fri, 15 Jan 2010 23:49:45 +0000"  >&lt;p&gt;Simple test case.&lt;/p&gt;</comment>
                            <comment id="12804229" author="oliver.heger@t-online.de" created="Sun, 24 Jan 2010 12:05:23 +0000"  >&lt;p&gt;The problem obviously lies deeper: Actually all plist configuration files that do not have an outer &lt;em&gt;dict&lt;/em&gt; element cause this exception.&lt;/p&gt;</comment>
                            <comment id="12804258" author="oliver.heger@t-online.de" created="Sun, 24 Jan 2010 16:51:10 +0000"  >&lt;p&gt;A fix was applied in subversion revision 902600. Thank you for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12430465" name="TestXMLPlists.java" size="1268" author="bsd" created="Fri, 15 Jan 2010 23:49:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 24 Jan 2010 12:05:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l7an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121832</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-404] Revisit - Brackets in property key causes NumberFormatException</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-404</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hi,&lt;br/&gt;
When using brackets in property key we get an exception every time.&lt;br/&gt;
Escaping brackets with \ doesn&apos;t help.&lt;/p&gt;

&lt;p&gt;Example&lt;br/&gt;
#property in property file&lt;br/&gt;
test(ef)=false&lt;/p&gt;

&lt;p&gt;causes &lt;br/&gt;
java.lang.NumberFormatException: For input string: &quot;ef&quot; at&lt;br/&gt;
java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)&lt;br/&gt;
        at java.lang.Integer.parseInt(Integer.java:447)&lt;br/&gt;
        at java.lang.Integer.parseInt(Integer.java:497)&lt;br/&gt;
        at org.apache.commons.configuration.tree.DefaultConfigurationKey&lt;br/&gt;
$KeyIterator.checkIndex(DefaultConfigurationKey.java:834)&lt;br/&gt;
        at org.apache.commons.configuration.tree.DefaultConfigurationKey&lt;br/&gt;
$KeyIterator.nextKey(DefaultConfigurationKey.java:511) at&lt;br/&gt;
org.apache.commons.configuration.tree.DefaultExpressionEngine.findNodesForKey(DefaultExpressionEngine.java:462) at&lt;br/&gt;
org.apache.commons.configuration.tree.DefaultExpressionEngine.query(DefaultExpressionEngine.java:286) at&lt;br/&gt;
org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:925 at&lt;br/&gt;
org.apache.commons.configuration.HierarchicalConfiguration.setProperty(HierarchicalConfiguration.java:735) at&lt;br/&gt;
org.apache.commons.configuration.ConfigurationUtils.copy(ConfigurationUtils.java:143) at&lt;br/&gt;
org.apache.commons.configuration.ConfigurationUtils.convertToHierarchical(ConfigurationUtils.java:199)  at org.apache.commons.configuration.CombinedConfiguration&lt;br/&gt;
$ConfigData.getTransformedRoot(CombinedConfiguration.java:794)  at&lt;br/&gt;
org.apache.commons.configuration.CombinedConfiguration.constructCombinedNode(CombinedConfiguration.java:653) at&lt;br/&gt;
org.apache.commons.configuration.CombinedConfiguration.getRootNode(CombinedConfiguration.java:504) at&lt;br/&gt;
org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:925) at&lt;br/&gt;
org.apache.commons.configuration.HierarchicalConfiguration.getProperty(HierarchicalConfiguration.java:327) at&lt;br/&gt;
org.apache.commons.configuration.CombinedConfiguration.getProperty(CombinedConfiguration.java:578) at&lt;br/&gt;
org.apache.commons.configuration.AbstractConfiguration.resolveContainerStore(AbstractConfiguration.java:1155) at&lt;br/&gt;
org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1034)  at&lt;br/&gt;
org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1017) &lt;/p&gt;

&lt;p&gt;Explanation i got in mailing list from Oliver Heger&lt;/p&gt;

&lt;p&gt;I guess you use DefaultConfigurationBuilder for loading a combined &lt;br/&gt;
configuration?&lt;/p&gt;

&lt;p&gt;The exception is due to the fact that brackets have a special meaning in &lt;br/&gt;
the query syntax for hierarchical configurations. &lt;br/&gt;
(DefaultConfigurationBuilder transforms all configuration sources into &lt;br/&gt;
hierarchical configurations, so also for properties, which are not &lt;br/&gt;
hierarchical by default, the same rules apply.)&lt;/p&gt;

&lt;p&gt;So far escaping brackets or other specific characters in property keys &lt;br/&gt;
is not supported. It seems to be rather unusual to use brackets in &lt;br/&gt;
property keys, so you may well be the first one who noticed this problem.&lt;/p&gt;

&lt;p&gt;Unfortunately I don&apos;t have a working solution for this problem right &lt;br/&gt;
now.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12445598">CONFIGURATION-404</key>
            <summary>Revisit - Brackets in property key causes NumberFormatException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="walkerr">Rob Walker</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Jan 2010 05:13:40 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:03 +0000</updated>
                            <resolved>Wed, 27 Jan 2010 07:07:44 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12800546" author="walkerr" created="Fri, 15 Jan 2010 05:18:03 +0000"  >&lt;p&gt;The bug reported above was raised under JIRA-336, and closed as having ways to workaround - which is correct.&lt;/p&gt;

&lt;p&gt;On Vista and Win7 this  issue now crops up a lot because of the usage of ProgramFiles(x86) as a standard directory name.&lt;/p&gt;

&lt;p&gt;The workaround proposal under the original issue requires every user to implement their own workaround, and it&apos;s non trivial because many of the member fields and methods of tree classes are private and so a simple subclass based solution can&apos;t be used.&lt;/p&gt;

&lt;p&gt;An alternative approach is to simple catch the exception  and handle it, reporting the item as &quot;not an index&quot;.. TBH I&apos;d say an unhandled of this nature is less than ideal in library code anyway, so my view is that this also strengthens the codebase.&lt;/p&gt;

&lt;p&gt;We have locally implemented this patch and it&apos;s working very well, so would like to see it in the codebase.&lt;/p&gt;
</comment>
                            <comment id="12800548" author="walkerr" created="Fri, 15 Jan 2010 05:21:06 +0000"  >&lt;p&gt;Patch with proposed fix&lt;/p&gt;</comment>
                            <comment id="12804109" author="oliver.heger@t-online.de" created="Sat, 23 Jan 2010 17:06:27 +0000"  >&lt;p&gt;Okay, I think it makes sense to add this patch to the codebase.&lt;/p&gt;

&lt;p&gt;However, I do not know the format in which you provided the patch. Can you please use the native subversion format? You can create a patch by simply calling &lt;tt&gt;svn diff &amp;gt; configuration-404.patch&lt;/tt&gt;. Also, it would be great if you could add a unit test.&lt;/p&gt;

&lt;p&gt;Many thanks.&lt;/p&gt;</comment>
                            <comment id="12804405" author="walkerr" created="Mon, 25 Jan 2010 06:25:09 +0000"  >&lt;p&gt;Hope the attached patch is better - did it in SVN this time. I think I must have used Winmerge for the previous one.&lt;/p&gt;</comment>
                            <comment id="12804406" author="walkerr" created="Mon, 25 Jan 2010 06:27:14 +0000"  >&lt;p&gt;Oliver - hope the new patch is usable. I&apos;m not so familiar with the unit test architecture, but it should be pretty simple  - just include property with brackets in and make sure it doesn&apos;t throw a NumberFormatException. The specific Windows Vista/7 ones that trip this now are system properties like C:\Program Files(x86)&lt;/p&gt;</comment>
                            <comment id="12805393" author="oliver.heger@t-online.de" created="Wed, 27 Jan 2010 07:07:44 +0000"  >&lt;p&gt;Fixed in subversion in revision 903552. Many thanks for the patch.&lt;/p&gt;</comment>
                            <comment id="12805488" author="walkerr" created="Wed, 27 Jan 2010 11:49:57 +0000"  >&lt;p&gt;Great, thanks Oliver. I can move us back the official SVN rev here and remove our local patch. Good news.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12405348">CONFIGURATION-336</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12430356" name="DefaultConfigurationKey.java-NFE.patch" size="1226" author="walkerr" created="Fri, 15 Jan 2010 05:21:06 +0000"/>
                            <attachment id="12431288" name="DefaultConfigurationKey.java.patch" size="1488" author="walkerr" created="Mon, 25 Jan 2010 06:25:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Jan 2010 17:06:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33985</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121729</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-403] XMLConfiguration isEmpty has altered behaviour between 1.4  and 1.6</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-403</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Given xml configuration file&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt; 
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;ISO-8859-1&quot;&lt;/span&gt; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;empty&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/empty&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;XMLConfiguration xml = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XMLConfiguration(file);
assertTrue(xml.isEmpty());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;isEmpty() returned true on version 1.4 ?, now it returns false, and the configuration contains a single empty string as key.&lt;br/&gt;
Not sure if this should be considered a bug, but the documnetation reads: Checks if this configuration is empty. Empty means that there are no keys with any values, though there can be some (empty) nodes. &lt;/p&gt;
</description>
                <environment>&lt;p&gt;Windows Vista 64, JDK 1.6&lt;/p&gt;</environment>
        <key id="12445506">CONFIGURATION-403</key>
            <summary>XMLConfiguration isEmpty has altered behaviour between 1.4  and 1.6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="danielberg">Daniel Berg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jan 2010 12:35:59 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:03 +0000</updated>
                            <resolved>Sat, 23 Jan 2010 16:44:50 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12800589" author="oliver.heger@t-online.de" created="Fri, 15 Jan 2010 06:55:26 +0000"  >&lt;p&gt;AFAICT this behavior was already changed in an earlier version of Commons Configuration in reaction to the ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-6&quot; title=&quot;[configuration] XMLConfiguration inconsistency towards empty values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-6&quot;&gt;&lt;del&gt;CONFIGURATION-6&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;IMO the new behavior is more consistent because it allows to distinguish between a configuration with no keys at all and a configuration that contains some empty keys. But maybe we should update the documentation to make clear what is meant by &quot;empty&quot;.&lt;/p&gt;</comment>
                            <comment id="12800623" author="danielberg" created="Fri, 15 Jan 2010 08:48:42 +0000"  >&lt;p&gt;I agree that the behavior described in &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-6&quot; title=&quot;[configuration] XMLConfiguration inconsistency towards empty values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-6&quot;&gt;&lt;del&gt;CONFIGURATION-6&lt;/del&gt;&lt;/a&gt; seems right for sub element but when applied to the outermost element I am unable to tell if any configuration is provided&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;ISO-8859-1&quot;&lt;/span&gt; standalone=&lt;span class=&quot;code-quote&quot;&gt;&quot;no&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;empty/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            XMLConfiguration xml = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XMLConfiguration(file);
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(xml.isEmpty());
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(xml.getRootNode().getName());
            Iterator&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; keys = xml.getKeys();
            &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (keys.hasNext()) {
                &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key = keys.next();
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Key:&quot;&lt;/span&gt; + key + &lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;);
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Value:&quot;&lt;/span&gt; + xml.getString(key) + &lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;);
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Prints the following:&lt;br/&gt;
false&lt;br/&gt;
empty&lt;br/&gt;
Key::&lt;br/&gt;
Value::&lt;/p&gt;

&lt;p&gt;Reporting there is one Key with a blank value, I feel there should be a difference on the outermost container element and the contained elements. &lt;/p&gt;

&lt;p&gt;The difference between root node being defined and being empty is not maintained. The code below demonstrates the inconsitency&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            XMLConfiguration xml1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XMLConfiguration();
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(xml1.isEmpty());
            xml1.save(&lt;span class=&quot;code-quote&quot;&gt;&quot;text.xml&quot;&lt;/span&gt;);
            xml1.load(&lt;span class=&quot;code-quote&quot;&gt;&quot;text.xml&quot;&lt;/span&gt;);
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(xml1.isEmpty());            
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Prints true&lt;br/&gt;
then false&lt;/p&gt;



</comment>
                            <comment id="12800674" author="danielberg" created="Fri, 15 Jan 2010 12:08:02 +0000"  >&lt;p&gt;patch alters HierarchicalConfiguration isEmpty to test for existense of attributes or children and add a testcase for xmlconfiguration, does not violate any other tests. &lt;/p&gt;</comment>
                            <comment id="12804104" author="oliver.heger@t-online.de" created="Sat, 23 Jan 2010 16:44:50 +0000"  >&lt;p&gt;Should be fixed in subversion now (revision 902439).&lt;/p&gt;

&lt;p&gt;I applied a slightly different solution: IMO the problem was caused by the load() method which used to assign the root node an empty text even if the XML root element had no content. So I added a condition here rather than in the isEmpty() method.&lt;/p&gt;

&lt;p&gt;Nevertheless thank you very much for the patch and your analyis.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12342425">CONFIGURATION-6</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12430390" name="configuration-403.patch" size="2219" author="danielberg" created="Fri, 15 Jan 2010 12:08:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Jan 2010 06:55:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177337</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-401] HierarchicalConfiguration does not support hierarchy  from property files</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-401</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;If you have hierarchy like this:&lt;/p&gt;

&lt;p&gt;persons.person.name=1&lt;br/&gt;
persons.person.surName=2&lt;br/&gt;
persons.person.phoneNum=3&lt;/p&gt;

&lt;p&gt;persons.person.name=4&lt;br/&gt;
persons.person.surName=5&lt;br/&gt;
persons.person.phoneNum=6&lt;/p&gt;

&lt;p&gt;persons.person.name=7&lt;br/&gt;
persons.person.surName=8&lt;br/&gt;
persons.person.phoneNum=9&lt;/p&gt;

&lt;p&gt;If I have a regular property configuration that loaded a file containing in the above. then I transform into HierarchicalConfiguration  using: ConfigurationUtils.convertToHierarchical(configuration).&lt;/p&gt;

&lt;p&gt;The tree is not right.&lt;/p&gt;

&lt;p&gt;I can do this:&lt;/p&gt;

&lt;p&gt;hierarchicalConfiguration.subset(&quot;persons&quot;).subset(&quot;person(0)&quot;).getKeys()&lt;/p&gt;

&lt;p&gt;but this returned empty iterator:&lt;/p&gt;

&lt;p&gt;hierarchicalConfiguration.subset(&quot;persons&quot;).subset(&quot;person(1)&quot;).getKeys()&lt;/p&gt;

&lt;p&gt;Only the first person is available.&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows/Linux&lt;/p&gt;</environment>
        <key id="12440144">CONFIGURATION-401</key>
            <summary>HierarchicalConfiguration does not support hierarchy  from property files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yairogen">yair ogen</reporter>
                        <labels>
                    </labels>
                <created>Sun, 8 Nov 2009 14:52:27 +0000</created>
                <updated>Thu, 24 Mar 2016 20:12:59 +0000</updated>
                                            <version>1.6</version>
                                    <fixVersion>2.x</fixVersion>
                                    <component>Expression engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12774826" author="oliver.heger@t-online.de" created="Sun, 8 Nov 2009 21:30:20 +0000"  >&lt;p&gt;By converting the flat configuration to a hierarchical one a tree is constructed, but in this case it has a different structure than you expect. It looks like the following:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;persons
    person
        name=1
        name=4
        name=7
        surName=2
        ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem is that a flat configuration format like a properties file simply does not contain enough information about the internal structure of its properties. So the algorithm that creates a hierarchical configuration from this data has no information how it should combine certain properties (e.g. add multiple &lt;em&gt;person&lt;/em&gt; elements instead of adding all data to a single &lt;em&gt;person&lt;/em&gt; element).&lt;/p&gt;

&lt;p&gt;I don&apos;t think there is much we can do about this. An algorithm smart enough to deal with this problem would really be complex - if it is feasable at all.&lt;/p&gt;</comment>
                            <comment id="12774879" author="yairogen" created="Mon, 9 Nov 2009 07:28:33 +0000"  >&lt;p&gt;I think this is a pretty strait forward case.&lt;/p&gt;

&lt;p&gt;I am sure many would like this to be as I expect.&lt;/p&gt;

&lt;p&gt;How else can I configure hierarchy by using properties only?&lt;/p&gt;

</comment>
                            <comment id="12774884" author="ralph.goers@dslextreme.com" created="Mon, 9 Nov 2009 07:45:22 +0000"  >&lt;p&gt;If you provide a patch we would definitely consider it.&lt;/p&gt;

&lt;p&gt;That said, what should hierarchicalConfiguration.subset(&quot;persons(0)&quot;) or hierarchicalConfiguration.subset(&quot;persons(1)&quot;) return? It sounds like you somehow want the converter to understand that there are multiple person elements (and be able to group them) but not multiple people elements.&lt;/p&gt;</comment>
                            <comment id="12774899" author="yairogen" created="Mon, 9 Nov 2009 08:48:37 +0000"  >&lt;p&gt;I am not familiar with the commons configuration code enough to provide a&lt;br/&gt;
patch.&lt;/p&gt;

&lt;p&gt;I am expecting that hierarchicalConfiguration.subset(&quot;persons(0)&quot;) will&lt;br/&gt;
return the name, surName and phoneNum of the first&lt;br/&gt;
group. hierarchicalConfiguration.subset(&quot;persons(1)&quot;) will return the name,&lt;br/&gt;
surName and phoneNum of the second group. and so on.&lt;/p&gt;

&lt;p&gt;Can anyone address this - or is this a wild goose chase?&lt;/p&gt;

</comment>
                            <comment id="12775023" author="joehni" created="Mon, 9 Nov 2009 16:56:04 +0000"  >&lt;p&gt;I don&apos;t think this is a valid enhancement request. The format of the property files are defined in the JDK as key value pairs and if you define the same key twice, you simply override the first one. This is what you get from Properties.load and I think we should not behave differently.&lt;/p&gt;</comment>
                            <comment id="12775130" author="oliver.heger@t-online.de" created="Mon, 9 Nov 2009 20:51:38 +0000"  >&lt;p&gt;After scanning through the sources I think there is indeed a class that does what you want (or at least partly): &lt;tt&gt;HierarchicalConfigurationConverter&lt;/tt&gt;. This class iterates over the keys of an arbitrary &lt;tt&gt;Configuration&lt;/tt&gt; object and generates a series of start element and end element events that can be used to construct a corresponding hierarchical configuration. The tree structure generated this way should be close to the one you need.&lt;/p&gt;

&lt;p&gt;There are however some problems:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The class is somewhat experimental. It is not advertised in the documentation, and I am not sure whether it was used by anybody.&lt;/li&gt;
	&lt;li&gt;It is an abstract class. There is one concrete subclass used internally by &lt;tt&gt;BaseConfigurationXMLReader&lt;/tt&gt;. &lt;tt&gt;BaseConfigurationXMLReader&lt;/tt&gt; allows a configuration object to be processed by an XML parser.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So I think you have the following options:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;You can create a concrete subclass of &lt;tt&gt;HierarchicalConfigurationConverter&lt;/tt&gt; that creates &lt;tt&gt;ConfigurationNode&lt;/tt&gt; objects corresponding to the start and end element notifications.&lt;/li&gt;
	&lt;li&gt;You can try &lt;tt&gt;BaseConfigurationXMLReader&lt;/tt&gt; and generate XML documents from a &lt;tt&gt;PropertiesConfiguration&lt;/tt&gt;. These documents can then be parsed by a &lt;tt&gt;XMLConfiguration&lt;/tt&gt;. If you follow this road, you might want to have a look at the unit tests for &lt;tt&gt;BaseConfigurationXMLReader&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Hope this helps.&lt;/p&gt;</comment>
                            <comment id="12775321" author="oliver.heger@t-online.de" created="Tue, 10 Nov 2009 07:01:09 +0000"  >&lt;p&gt;Heaving slept a night over this problem I don&apos;t think that my last comment will help you. &lt;tt&gt;HierarchicalConfigurationConverter&lt;/tt&gt; will produce the same results as &lt;tt&gt;ConfigurationUtils.convertToHierarchical()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The problem is that &lt;tt&gt;PropertiesConfiguration&lt;/tt&gt; when reading in the properties file already combines properties with the same key to a list. So the structure you are after and that is implicitly expressed in the order of the keys is already destroyed. I doubt that it can be reconstructed later.&lt;/p&gt;</comment>
                            <comment id="12775326" author="yairogen" created="Tue, 10 Nov 2009 07:12:29 +0000"  >&lt;p&gt;I totally agree, but we are talking about the conversion to&lt;br/&gt;
HierarchicalConfiguration&lt;br/&gt;
and that is not property based. I think that converting from&lt;br/&gt;
properties to HierarchicalConfiguration&lt;br/&gt;
shuold support the above.&lt;/p&gt;

</comment>
                            <comment id="12775344" author="yairogen" created="Tue, 10 Nov 2009 08:00:29 +0000"  >&lt;p&gt;I see you point. However the list contains the values in the right order -&lt;br/&gt;
so this can be done.&lt;/p&gt;

</comment>
                            <comment id="12776026" author="oliver.heger@t-online.de" created="Tue, 10 Nov 2009 19:25:02 +0000"  >&lt;p&gt;In your special example the &lt;tt&gt;PropertiesConfiguration&lt;/tt&gt; contains 3 keys: &lt;em&gt;persons.person.name&lt;/em&gt;, &lt;em&gt;persons.person.surName&lt;/em&gt;, and &lt;em&gt;persons.person.phoneNum&lt;/em&gt;. Each key is associated with a list of values. In this concrete case it is possible to convert this data into a hierarchical structure.&lt;/p&gt;

&lt;p&gt;But as soon as the structure becomes slightly more complex, you are lost. Consider the example where persons are organized in groups, and you have properties like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;persons.group.name=admins
persons.person.name=x
persons.person.name=y

persons.group.name=users
persons.person.name=z
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here you have two groups and three persons, but after the properties are read into a &lt;tt&gt;PropertiesConfiguration&lt;/tt&gt; how do you know which persons belong to which group?&lt;/p&gt;

&lt;p&gt;You try to extract structure from a format that is simply not provided.&lt;/p&gt;</comment>
                            <comment id="12776335" author="yairogen" created="Wed, 11 Nov 2009 07:19:41 +0000"  >&lt;p&gt;I see what you mean. It could be easily supported by:&lt;/p&gt;

&lt;p&gt;persons.group.name=admins&lt;br/&gt;
persons. &amp;lt;&lt;a href=&quot;http://persons.person.name/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://persons.person.name/&lt;/a&gt;&amp;gt;group. &amp;lt;&lt;a href=&quot;http://persons.group.name/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://persons.group.name/&lt;/a&gt;&amp;gt;&lt;br/&gt;
person.name &amp;lt;&lt;a href=&quot;http://persons.person.name/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://persons.person.name/&lt;/a&gt;&amp;gt;=x&lt;br/&gt;
persons. &amp;lt;&lt;a href=&quot;http://persons.person.name/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://persons.person.name/&lt;/a&gt;&amp;gt;group. &amp;lt;&lt;a href=&quot;http://persons.group.name/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://persons.group.name/&lt;/a&gt;&amp;gt;&lt;br/&gt;
person.name &amp;lt;&lt;a href=&quot;http://persons.person.name/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://persons.person.name/&lt;/a&gt;&amp;gt;=y&lt;/p&gt;

&lt;p&gt;persons.group.name=users&lt;br/&gt;
persons. &amp;lt;&lt;a href=&quot;http://persons.person.name/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://persons.person.name/&lt;/a&gt;&amp;gt;group. &amp;lt;&lt;a href=&quot;http://persons.group.name/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://persons.group.name/&lt;/a&gt;&amp;gt;&lt;br/&gt;
person.name &amp;lt;&lt;a href=&quot;http://persons.person.name/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://persons.person.name/&lt;/a&gt;&amp;gt;=z&lt;/p&gt;

&lt;p&gt;then you have 2 groups under persons:&lt;/p&gt;

&lt;p&gt;admins has 2 persons.&lt;/p&gt;

&lt;p&gt;users has one.&lt;/p&gt;

</comment>
                            <comment id="12776348" author="ralph.goers@dslextreme.com" created="Wed, 11 Nov 2009 07:52:41 +0000"  >&lt;p&gt;At this point I find myself wondering why you wouldn&apos;t just use XML?  The above is just ugly. Especially when I can just do:&lt;/p&gt;

&lt;p&gt;&amp;lt;persons&amp;gt;&lt;br/&gt;
  &amp;lt;group name=&quot;admin&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;person name=&quot;x&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;person name=&quot;y&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;/group&amp;gt;&lt;br/&gt;
  &amp;lt;group name=&quot;users&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;person name=&quot;z&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;/group&amp;gt;&lt;br/&gt;
&amp;lt;/persons&amp;gt;&lt;/p&gt;

&lt;p&gt;and then have an XML Schema to enforce it to boot.&lt;/p&gt;

&lt;p&gt;But if for some reason you have an aversion to XML than you could invent some new format that extends AbstractHierarchicalFileConfiguration.&lt;/p&gt;</comment>
                            <comment id="12776408" author="yairogen" created="Wed, 11 Nov 2009 10:31:42 +0000"  >&lt;p&gt;my customer mandates property files.&lt;/p&gt;

&lt;p&gt;the extension you are talking is exactly the challenge I am looking for&lt;br/&gt;
someone to pick up. I do not have the resources to do it myself.&lt;/p&gt;

</comment>
                            <comment id="12776513" author="ralph.goers@dslextreme.com" created="Wed, 11 Nov 2009 16:59:34 +0000"  >&lt;p&gt;If your customer mandates property files then I don&apos;t understand how &lt;br/&gt;
persons.person.name=1&lt;br/&gt;
persons.person.surName=2&lt;br/&gt;
persons.person.phoneNum=3&lt;/p&gt;

&lt;p&gt;persons.person.name=4&lt;br/&gt;
persons.person.surName=5&lt;br/&gt;
persons.person.phoneNum=6&lt;/p&gt;

&lt;p&gt;persons.person.name=7&lt;br/&gt;
persons.person.surName=8&lt;br/&gt;
persons.person.phoneNum=9&lt;/p&gt;

&lt;p&gt;would be acceptable. java.util.Properties files do not allow duplicate keys. Instead, you would have to do&lt;/p&gt;

&lt;p&gt;persons.person.name=1,4,7&lt;br/&gt;
persons.person,surName=2,5,8&lt;br/&gt;
persons.persona.phoneNum=3,6,9&lt;/p&gt;

&lt;p&gt;which, of course, is practically useless.&lt;/p&gt;

&lt;p&gt;Also, I don&apos;t think I&apos;ve actually seen a description of why you need to convert the properties into a hierarchical format. What is the use case you are trying to solve?&lt;/p&gt;

&lt;p&gt;Yes, we could invent some new syntax that might work, but I don&apos;t think any of the committers are interested in doing that. I don&apos;t believe any of us are directly paid to work on Commons Configuration and we all have other things we would like to work on.&lt;/p&gt;

&lt;p&gt;That said, although I understand you said you don&apos;t have the resources to do it, if you, or someone else, were to provide a patch we would definitely consider it.&lt;/p&gt;</comment>
                            <comment id="12776651" author="oliver.heger@t-online.de" created="Wed, 11 Nov 2009 20:58:01 +0000"  >&lt;p&gt;I agree with Ralph in most points. Your request seems very specific to me. Basically, you want Commons Configuration to support a proprietary properties format. I doubt that this might be useful for many other users.&lt;/p&gt;

&lt;p&gt;So if anybody comes up with a patch, we will evaluate it. But I would be reluctant to adding such a feature unless the implementation is pretty generic so that it supports a broad range of conversions to hierarchical configurations.&lt;/p&gt;</comment>
                            <comment id="12776666" author="joehni" created="Wed, 11 Nov 2009 21:22:02 +0000"  >&lt;p&gt;You could create different persons yourself introducing an id:&lt;/p&gt;

&lt;p&gt;persons.person.0.name=1&lt;br/&gt;
persons.person.0.surName=2&lt;br/&gt;
persons.person.X.name=4&lt;br/&gt;
persons.person.X.surName=5&lt;/p&gt;

&lt;p&gt;Simply use subset of person and iterate over the keys. If you tokenize them, you can use the first part as unique id to access the individual person entities.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 8 Nov 2009 21:30:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110860</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266035</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-400] PropertiesConfiguration: Can&apos;t disable attribute splitting </title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-400</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;My XML configuration has the following attribute:&lt;br/&gt;
&amp;lt;some-element some-attribute=&quot;&amp;#x0A;&amp;#x0D;&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;But XML Configuration is trying to split this string and trims it after splitting. I don&apos;t need this behaviour, but setting setDelimiterParsingDisabled() just changing delimeter to &quot;|&quot; and not disables attribute trimming.&lt;/p&gt;

&lt;p&gt;Need either to disable trimming/splitting if setDelimiterParsingDisabled() is set to TRUE (incompatible change), or add something like setParseAttributesAsIs() that will prevent attributes to be trimmed and splitted&lt;/p&gt;</description>
                <environment></environment>
        <key id="12438610">CONFIGURATION-400</key>
            <summary>PropertiesConfiguration: Can&apos;t disable attribute splitting </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="lnaylor">Lee Naylor</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Oct 2009 19:30:36 +0000</created>
                <updated>Wed, 21 Oct 2009 19:36:11 +0000</updated>
                            <resolved>Wed, 21 Oct 2009 19:36:11 +0000</resolved>
                                    <version>1.6</version>
                                                    <component>Format</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12767917" author="lnaylor" created="Tue, 20 Oct 2009 19:40:27 +0000"  >&lt;p&gt;I&apos;m having the same issue as the one I cloned this issue from. The only difference is I&apos;m using PropertiesConfiguration. I&apos;m trying to pass in a sql query which has &apos;,&apos; separating the different columns i&apos;m selecting.&lt;/p&gt;

&lt;p&gt;my property is (all on the same line) ...&lt;br/&gt;
db.query = select c.ldc_cnsmr_acnt_num, (select c_p.acnt_validator from cb_cust_prev_validator c_p where c_p.customer_oid = c.oid AND c_p.acnt_validator != c.ldc_cnsmr_acnt_num AND c_p.effect_date = (select max(effect_date) from cb_cust_prev_validator c_p2 where c_p2.customer_oid = c_p.customer_oid)), c.full_name, &apos;P&apos;, &apos;ACOV&apos;, c.addr_validator, c.addr_validator, c.addr_validator from cb_customer c where c.ldc_cnsmr_acnt_num = &apos;##account_id##&apos;&lt;/p&gt;

&lt;p&gt;I&apos;ve tried ...&lt;br/&gt;
setDelimiterParsingDisabled(true);&lt;br/&gt;
setListDelimiter(&apos;^&apos;);&lt;/p&gt;

&lt;p&gt;When i call isDelimiterParsingDisabled() or getListDelimiter() it shows that the attributes have been updated, but when i call getString(&quot;db.query&quot;) it always returns just &quot;select c.ldc_cnsmr_acnt_num&quot;&lt;/p&gt;</comment>
                            <comment id="12768100" author="oliver.heger@t-online.de" created="Wed, 21 Oct 2009 06:08:35 +0000"  >&lt;p&gt;The splitting is already performed during loading, so you have to disable the delimiter parsing &lt;b&gt;before&lt;/b&gt; you load the configuration. Afterwards it has no more effect. This is documented in the Javadocs of the &lt;tt&gt;setDelimiterParsingDisabled()&lt;/tt&gt; method:&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Set whether this configuration should use delimiters when parsing property values to convert them to lists of values. By default delimiter parsing is enabled Note: this change will only be effective for new parsings. If you want it to take effect for all loaded properties use the no arg constructor and call this method before setting source.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;Does this solve your problem?&lt;/p&gt;</comment>
                            <comment id="12768350" author="lnaylor" created="Wed, 21 Oct 2009 17:55:35 +0000"  >&lt;p&gt;Yes is does! &lt;/p&gt;

&lt;p&gt;Thanks, I obviously didn&apos;t ready the full documentation. I&apos;ll be sure to next time.&lt;/p&gt;</comment>
                            <comment id="12768379" author="oliver.heger@t-online.de" created="Wed, 21 Oct 2009 19:36:11 +0000"  >&lt;p&gt;No problem. This delimiter splitting has caused us a bunch of trouble. I guess we will change this in the next major release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12402395">CONFIGURATION-335</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Oct 2009 06:08:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170139</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-399] interpolator for reading environment variables</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-399</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hello there,&lt;/p&gt;

&lt;p&gt;This is an extension of issue Id &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-284&quot; title=&quot;ability to read OS environment variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-284&quot;&gt;&lt;del&gt;CONFIGURATION-284&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The &quot;env&quot; interpolator prefix still does not seem to work. On investigation, I noticed that we have a new java class to support reading environment variables from different OSes, but there is no interpolator class (extending StrLookup) that supports the &quot;env&quot; prefix.&lt;br/&gt;
Could someone look into this? For the moment, I have put in a class myself locally. Will add to the repository once I find some time.. &lt;br/&gt;
Regards.&lt;/p&gt;</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12437346">CONFIGURATION-399</key>
            <summary>interpolator for reading environment variables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="rchandra">Chandra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Oct 2009 04:59:14 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:11 +0000</updated>
                            <resolved>Sun, 8 Nov 2009 21:15:34 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Interpolation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12774670" author="oliver.heger@t-online.de" created="Sat, 7 Nov 2009 21:22:29 +0000"  >&lt;p&gt;This makes sense. It should not be too complicated to provide a specialized &lt;tt&gt;StrLookup&lt;/tt&gt; implementation that delegates to an &lt;tt&gt;EnvironmentConfiguration&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="12774825" author="oliver.heger@t-online.de" created="Sun, 8 Nov 2009 21:15:34 +0000"  >&lt;p&gt;A fix was applied in SVN revision 833927. The env: prefix should work now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 7 Nov 2009 21:22:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 46 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-398] DatabaseConfiguration.setProperty() causes unique constraint violation for list values</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-398</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Calling DatabaseConfiguration.setProperty() with a string-based list (e.g. &quot;foo,bar,baz&quot;) causes unique constraint violations because setProperty() tries to add a DB entry for every list value. I think it is the same problem as fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-255&quot; title=&quot;DatabaseConfiguration doesn&amp;#39;t support list delimiters in property values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-255&quot;&gt;&lt;del&gt;CONFIGURATION-255&lt;/del&gt;&lt;/a&gt; for addProperty().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12436755">CONFIGURATION-398</key>
            <summary>DatabaseConfiguration.setProperty() causes unique constraint violation for list values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="schmoggie">Thorsten Gilfert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Sep 2009 14:17:30 +0000</created>
                <updated>Sat, 10 Oct 2009 14:52:44 +0000</updated>
                            <resolved>Sat, 10 Oct 2009 14:52:44 +0000</resolved>
                                    <version>1.6</version>
                    <version>1.7</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12761686" author="oliver.heger@t-online.de" created="Fri, 2 Oct 2009 19:44:22 +0000"  >&lt;p&gt;I am not able to reproduce the problem. I have added a unit test for the &lt;tt&gt;setProperty()&lt;/tt&gt; method to the test class for &lt;tt&gt;DatabaseConfiguration&lt;/tt&gt; (&lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/configuration/trunk/src/test/org/apache/commons/configuration/TestDatabaseConfiguration.java?view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/commons/proper/configuration/trunk/src/test/org/apache/commons/configuration/TestDatabaseConfiguration.java?view=markup&lt;/a&gt;) that sets a list of properties, but this test succeeds.&lt;/p&gt;

&lt;p&gt;Behind the scenes &lt;tt&gt;setProperty()&lt;/tt&gt; is implemented by calling &lt;tt&gt;clearProperty()&lt;/tt&gt; followed by &lt;tt&gt;addProperty()&lt;/tt&gt;, so the value of the property is replaced by the new value. Therefore &lt;tt&gt;setProperty()&lt;/tt&gt; should behave exactly the same as &lt;tt&gt;addProperty()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Does the &lt;tt&gt;addProperty()&lt;/tt&gt; method work for you? Can you verify that you work with the correct version of Commons Configuration? If so, could you provide a short code fragment (or even better a unit test) that demonstrates the bug?&lt;/p&gt;</comment>
                            <comment id="12764354" author="schmoggie" created="Sat, 10 Oct 2009 14:52:44 +0000"  >&lt;p&gt;I&apos;m not able to reproduce this anymore. Maybe it was something wrong with my setup. Thanks for your work and prompt reply.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Oct 2009 19:44:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177505</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-397] Schema validation exceptions in a combined configuration often result in an empty configuration being include with no exception or error message.</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-397</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When using DefaultConfigurationBuilder to construct a combined configuration using MultiFileHierarchicalConfiguration (the override file) followed by XMLConfiguration (the default file), if one of the override files has a schema validation error the exception is not thrown nor is an error logged. Instead, an empty configuration is returned.&lt;/p&gt;

&lt;p&gt;If schema violation exceptions occur they should always throw exceptions, regardless of whether a file is optional or not.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, JBoss, JDK 6&lt;/p&gt;</environment>
        <key id="12436715">CONFIGURATION-397</key>
            <summary>Schema validation exceptions in a combined configuration often result in an empty configuration being include with no exception or error message.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="rgoers">Ralph Goers</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Sep 2009 21:58:40 +0000</created>
                <updated>Sun, 21 Aug 2011 02:07:28 +0000</updated>
                            <resolved>Sun, 21 Aug 2011 02:06:35 +0000</resolved>
                                    <version>1.7</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13088256" author="oliver.heger@t-online.de" created="Sat, 20 Aug 2011 19:54:05 +0000"  >&lt;p&gt;What is the status of this issue? I see that there have been multiple commits. Is the problem solved or is there some work left?&lt;/p&gt;</comment>
                            <comment id="13088296" author="ralph.goers@dslextreme.com" created="Sun, 21 Aug 2011 02:06:35 +0000"  >&lt;p&gt;Fixed in version 1.7 &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Aug 2011 19:54:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uovz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-396] In HierarchicalConfiguration$Node visits the ConfigurationKey  points to the parent path in visitAfterChildren call</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-396</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When visiting a child the key is aggregated to have the child node name, and a call to visitBeforeChildren and grandChildren&apos;s visits are made.&lt;/p&gt;

&lt;p&gt;However, before calling  visitAfterChildren,  the resetting of the key to that of it&apos;s parent&apos;s, seems inconsistent.&lt;/p&gt;

&lt;p&gt;Last lines in visit(NodeVisitor visitor, ConfigurationKey key) &lt;/p&gt;

&lt;p&gt;            if (key != null)&lt;/p&gt;
            {
                key.setLength(length);
            }
&lt;p&gt;            visitor.visitAfterChildren(this, key);&lt;/p&gt;</description>
                <environment></environment>
        <key id="12435577">CONFIGURATION-396</key>
            <summary>In HierarchicalConfiguration$Node visits the ConfigurationKey  points to the parent path in visitAfterChildren call</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="vasanthaman">Vasanth Amana</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Sep 2009 10:22:11 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:04 +0000</updated>
                            <resolved>Sun, 27 Sep 2009 20:08:40 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12759944" author="oliver.heger@t-online.de" created="Sat, 26 Sep 2009 20:24:50 +0000"  >&lt;p&gt;You are right, resetting the key before &lt;tt&gt;visitAfterChildren()&lt;/tt&gt; is inconsistent.&lt;/p&gt;

&lt;p&gt;Changing the order of the code fragment you pointed out - so that &lt;tt&gt;visitAfterChildren()&lt;/tt&gt; is called first and then the key is reset - obviously has no negative side effect. At least, all unit tests keep running. So I think we should change this.&lt;/p&gt;

&lt;p&gt;One remark however: The inner &lt;tt&gt;Node&lt;/tt&gt; and &lt;tt&gt;NodeVisitor&lt;/tt&gt; classes of &lt;tt&gt;HierarchicalConfiguration&lt;/tt&gt; exist only for reasons of backwards compatibility. New code should use the corresponding classes in the &lt;tt&gt;tree&lt;/tt&gt; package, i.e. &lt;tt&gt;ConfigurationNode&lt;/tt&gt; and &lt;tt&gt;ConfigurationNodeVisitor&lt;/tt&gt;. The &lt;tt&gt;ConfigurationNodeVisitor&lt;/tt&gt; interface does not provide a configuration key. This is due to the fact that different expression engines can be set which all can use a specific syntax for their property keys.&lt;/p&gt;</comment>
                            <comment id="12760093" author="oliver.heger@t-online.de" created="Sun, 27 Sep 2009 20:08:40 +0000"  >&lt;p&gt;A fix was applied in revision 819395. Thanks for spotting this.&lt;/p&gt;

&lt;p&gt;Note: This fix does not apply to the configuration2 branch; here the &lt;tt&gt;HierarchicalConfiguration.NodeVisitor&lt;/tt&gt; class has been removed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 26 Sep 2009 20:24:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uokn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-393] BaseConfiguration.clone() does not work with list properties</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-393</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;In the clone() implementation the map storing the configuration data is also cloned. For properties with multiple values this map contains lists. Because no deep clone is performed these lists are simply copied into the cloned map. So if the corresponding properties are changed on either the original or the clone, the other object is affected, too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433770">CONFIGURATION-393</key>
            <summary>BaseConfiguration.clone() does not work with list properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Aug 2009 14:47:21 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:13 +0000</updated>
                            <resolved>Sat, 22 Aug 2009 15:42:38 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12746473" author="oliver.heger@t-online.de" created="Sat, 22 Aug 2009 15:42:38 +0000"  >&lt;p&gt;A fix was committed to both trunk and experimental branch which implements a special treatment for collection properties.&lt;/p&gt;

&lt;p&gt;However, as we create no general deep clone, it is possible that other mutable Objects stored in the internal map still cause problems. Implementing a true deep clone is probably pretty complicated and expensive. So I think the current solution is a good compromise.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uoon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177140</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-392] OSGI import requires ant.taskdef and javax.mail</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-392</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;In the Manifest the OSGI Import-Package states, that commons configuration depends on org.apache.tools.ant.taskdefs and on javax.mail: &lt;/p&gt;

&lt;p&gt;Import-Package: javax.mail.internet,javax.naming,javax.servlet,javax.s&lt;br/&gt;
 ql,javax.xml.parsers,javax.xml.transform,javax.xml.transform.dom,java&lt;br/&gt;
 x.xml.transform.stream,org.apache.commons.beanutils,org.apache.common&lt;br/&gt;
 s.codec.binary,org.apache.commons.collections,org.apache.commons.coll&lt;br/&gt;
 ections.iterators,org.apache.commons.collections.map,org.apache.commo&lt;br/&gt;
 ns.collections.set,org.apache.commons.configuration;version=&quot;1.6&quot;,org&lt;br/&gt;
 .apache.commons.configuration.beanutils;version=&quot;1.6&quot;,org.apache.comm&lt;br/&gt;
 ons.configuration.event;version=&quot;1.6&quot;,org.apache.commons.configuratio&lt;br/&gt;
 n.interpol;version=&quot;1.6&quot;,org.apache.commons.configuration.plist;versi&lt;br/&gt;
 on=&quot;1.6&quot;,org.apache.commons.configuration.reloading;version=&quot;1.6&quot;,org&lt;br/&gt;
 .apache.commons.configuration.tree;version=&quot;1.6&quot;,org.apache.commons.c&lt;br/&gt;
 onfiguration.tree.xpath;version=&quot;1.6&quot;,org.apache.commons.configuratio&lt;br/&gt;
 n.web;version=&quot;1.6&quot;,org.apache.commons.digester,org.apache.commons.di&lt;br/&gt;
 gester.substitution,org.apache.commons.digester.xmlrules,org.apache.c&lt;br/&gt;
 ommons.jxpath,org.apache.commons.jxpath.ri,org.apache.commons.jxpath.&lt;br/&gt;
 ri.compiler,org.apache.commons.jxpath.ri.model,org.apache.commons.lan&lt;br/&gt;
 g,org.apache.commons.lang.exception,org.apache.commons.lang.text,org.&lt;br/&gt;
 apache.commons.logging,org.apache.commons.logging.impl,org.apache.too&lt;br/&gt;
 ls.ant.taskdefs,org.w3c.dom,org.xml.sax,org.xml.sax.helpers&lt;/p&gt;

&lt;p&gt;As result of this, when developing RCP application and using commons configuration as OSGI bundle, the built client needs the ant bundle (and a bundle providing javax.mail) in the execution runtime!&lt;/p&gt;

&lt;p&gt;The worst thing is, that it looks like that ant is not even used within commons configuration itself - except for a javadoc comment which actually does not need an import (EnvironmentConfiguration).&lt;/p&gt;

&lt;p&gt;javax.mail cannot be found at all in the sources.&lt;/p&gt;

&lt;p&gt;In addition to that, also the imports to jxpath, SAX and javax.naming should be optional as those are only needed for specific configurations.&lt;/p&gt;</description>
                <environment>&lt;p&gt;OSGI&lt;/p&gt;</environment>
        <key id="12432980">CONFIGURATION-392</key>
            <summary>OSGI import requires ant.taskdef and javax.mail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mattin">Martin Heitz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Aug 2009 12:02:18 +0000</created>
                <updated>Mon, 30 Jul 2012 20:12:43 +0000</updated>
                            <resolved>Mon, 30 Jul 2012 20:12:26 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.8</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="2700">0.75h</timeoriginalestimate>
                            <timeestimate seconds="2700">0.75h</timeestimate>
                                        <comments>
                            <comment id="12743367" author="oliver.heger@t-online.de" created="Fri, 14 Aug 2009 19:10:09 +0000"  >&lt;p&gt;Ant is used by &lt;tt&gt;EnvironmentConfiguration&lt;/tt&gt; to access environment variables on Java versions before 1.5. The mail API is used by unit tests for &lt;tt&gt;DataConfiguration&lt;/tt&gt;, therefore it is declared with test scope in the pom.&lt;/p&gt;

&lt;p&gt;The OSGi directives are created by the maven build. The configuration for this is inherited from the commons-parent pom. I wonder why packages that have been included with scope=test are added to the imports header. I guess, it is possible to override the configuration of the maven bundle plug-in, but what would be the best strategy for handling optional dependencies?&lt;/p&gt;

&lt;p&gt;Hopefully one of our OSGi experts can comment on this?&lt;/p&gt;</comment>
                            <comment id="12743394" author="joehni" created="Fri, 14 Aug 2009 19:52:49 +0000"  >&lt;p&gt;We may upgrade the bundle plugin to version 2.0.0. That one definitely does not export test scope dependencies.&lt;/p&gt;</comment>
                            <comment id="12994871" author="epabst" created="Tue, 15 Feb 2011 16:37:54 +0000"  >&lt;p&gt;This is causing pain.  Please resolve this.  It is not difficult.&lt;/p&gt;</comment>
                            <comment id="13425181" author="oliver.heger@t-online.de" created="Mon, 30 Jul 2012 20:12:26 +0000"  >&lt;p&gt;The OSGi manifest in version 1.8 does no longer list these dependencies.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Aug 2009 19:10:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0up5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-391] Double file permissions required in WAS 6.1</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-391</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>
&lt;p&gt;We are using Commons Configuration as follows: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; PropertiesConfiguration config = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PropertiesConfiguration(&lt;span class=&quot;code-quote&quot;&gt;&quot;velocity.properties&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Noteworthy points&lt;/em&gt;:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;properties files  are embedded in JARs&lt;/li&gt;
	&lt;li&gt;Application is deployed in WAS 6.1, where J2EE security is activated (was.policy)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Problem is the following&lt;/b&gt;:&lt;br/&gt;
Two entries are necessary in &lt;em&gt;was.policy&lt;/em&gt; in order to make the application work.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;permission java.io.FilePermission &lt;span class=&quot;code-quote&quot;&gt;&quot;velocity.properties&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;read&quot;&lt;/span&gt;;
permission java.io.FilePermission &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/wasadmin/velocity.properties&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;read&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;The first entry is valid.&lt;br/&gt;
The second entry (with &quot;/&lt;b&gt;home&lt;/b&gt;/&lt;b&gt;wasadmin&lt;/b&gt;/...&quot;) is wrong but necesarry in order to make WebSphere happy.&lt;/p&gt;

&lt;p&gt;We would like to remove this second entry (useless and less secure) from our was.policy.&lt;/p&gt;

&lt;p&gt;What could be the cause of this issue ?&lt;/p&gt;


&lt;p&gt;Thank you,&lt;/p&gt;



</description>
                <environment>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;WebSphere AS 6.1with J2EE securit enabled&lt;/li&gt;
	&lt;li&gt;AIX&lt;/li&gt;
&lt;/ul&gt;
</environment>
        <key id="12429289">CONFIGURATION-391</key>
            <summary>Double file permissions required in WAS 6.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="svanespen">St&#233;phane Van Espen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Jul 2009 13:22:44 +0000</created>
                <updated>Thu, 24 Mar 2016 20:13:00 +0000</updated>
                                            <version>1.5</version>
                                    <fixVersion>2.x</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12732131" author="oliver.heger@t-online.de" created="Thu, 16 Jul 2009 20:21:41 +0000"  >&lt;p&gt;Unfortunately I am no expert for WAS, so I don&apos;t know whether this server does something special which confuses Commons Configuration.&lt;/p&gt;

&lt;p&gt;Just a guess: &lt;tt&gt;PropertiesConfiguration&lt;/tt&gt; tries several locations where to look for the file to be loaded. Maybe, due to the deployment in WAS, the file can be found on multiple places in the class path, and the algorithm picks the wrong place. Could this be possible?&lt;/p&gt;</comment>
                            <comment id="12739437" author="svanespen" created="Wed, 5 Aug 2009 11:32:47 +0000"  >&lt;p&gt;Thank you for your answer.&lt;/p&gt;

&lt;p&gt;If PropertiesConfiguration tries several locations (hard disk, jars)  it is indeed possible WAS blocks unauthorized locations (the reason why we had to add &quot;irrelevant&quot; permissions in our was.policy).&lt;/p&gt;

&lt;p&gt;I will investigate this further.&lt;/p&gt;

&lt;p&gt;Thanks again,&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jul 2009 20:21:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110854</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-390] AbstractHierarchicalFileConfiguration is not thread safe</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-390</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;AbstractHierarchicalFileConfiguration doesn&apos;t implement the same locking mechanism found in AbstractFileConfiguration. The consequence is that getting a property while the configuration is being reloaded by another thread can return an invalid result.&lt;/p&gt;

&lt;p&gt;This can be demonstrated by changing testDeadlockWithReload() in TestCombinedConfiguration to use an XMLConfiguration instead of a PropertiesConfiguration.&lt;/p&gt;

&lt;p&gt;Here is a reduced test case:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testConcurrentGetAndReload() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
{
    &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileConfiguration config = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PropertiesConfiguration(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.properties&quot;&lt;/span&gt;);
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileConfiguration config = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XMLConfiguration(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.xml&quot;&lt;/span&gt;);
    config.setReloadingStrategy(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileAlwaysReloadingStrategy());

    assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Property not found&quot;&lt;/span&gt;, config.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;&quot;&lt;/span&gt;) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);

    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;()
    {
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run()
        {
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; 1000; i++)
            {
                config.reload();
            }
        }
    }.start();
    
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; 1000; i++)
    {
        assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Property not found&quot;&lt;/span&gt;, config.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;&quot;&lt;/span&gt;) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// failure here
&lt;/span&gt;    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The test doesn&apos;t always fail. It does about 50% of the time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12428678">CONFIGURATION-390</key>
            <summary>AbstractHierarchicalFileConfiguration is not thread safe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jun 2009 15:49:10 +0000</created>
                <updated>Mon, 21 Oct 2013 23:21:26 +0000</updated>
                                            <version>1.6</version>
                                                    <component>File reloading</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12759635" author="shkinser" created="Fri, 25 Sep 2009 17:26:21 +0000"  >&lt;p&gt;I hit this same problem, though with a CombinedConfiguration made up of multiple XMLConfigurations. I am attaching a small maven project that demonstrates the problem, and fails about 50% of the time.&lt;/p&gt;</comment>
                            <comment id="12759641" author="shkinser" created="Fri, 25 Sep 2009 17:30:42 +0000"  >&lt;p&gt;I also get this problem randomly when multithreaded, though I don&apos;t know if this belongs in a different JIRA:&lt;/p&gt;

&lt;p&gt;testMultiThreadedAccess(TestReloading)  Time elapsed: 0.018 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.IllegalStateException: Node cannot be modified when added to a parent!&lt;br/&gt;
        at org.apache.commons.configuration.tree.DefaultConfigurationNode.checkState(DefaultConfigurationNode.java:454)&lt;br/&gt;
        at org.apache.commons.configuration.tree.DefaultConfigurationNode.setAttribute(DefaultConfigurationNode.java:290)&lt;br/&gt;
        at org.apache.commons.configuration.tree.DefaultConfigurationNode.addChild(DefaultConfigurationNode.java:184)&lt;br/&gt;
        at org.apache.commons.configuration.tree.ViewNode.addChild(ViewNode.java:78)&lt;br/&gt;
        at org.apache.commons.configuration.tree.ViewNode.appendChildren(ViewNode.java:114)&lt;br/&gt;
        at org.apache.commons.configuration.CombinedConfiguration$ConfigData.getTransformedRoot(CombinedConfiguration.java:847)&lt;br/&gt;
        at org.apache.commons.configuration.CombinedConfiguration.constructCombinedNode(CombinedConfiguration.java:699)&lt;br/&gt;
        at org.apache.commons.configuration.CombinedConfiguration.getRootNode(CombinedConfiguration.java:542)&lt;br/&gt;
        at org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:926)&lt;br/&gt;
        at org.apache.commons.configuration.CombinedConfiguration.fetchNodeList(CombinedConfiguration.java:653)&lt;br/&gt;
        at org.apache.commons.configuration.HierarchicalConfiguration.getProperty(HierarchicalConfiguration.java:332)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.resolveContainerStore(AbstractConfiguration.java:1160)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1035)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1018)&lt;br/&gt;
        at TestReloading.testMultiThreadedAccess(TestReloading.java:73)&lt;/p&gt;</comment>
                            <comment id="12759854" author="ralph.goers@dslextreme.com" created="Sat, 26 Sep 2009 03:57:55 +0000"  >&lt;p&gt;Thanks for reporting this. It just so happens that I am also experience problems that are most likely due to reloading not being thread safe and was going to create a test case. It looks like you saved me the effort.&lt;/p&gt;</comment>
                            <comment id="12759907" author="oliver.heger@t-online.de" created="Sat, 26 Sep 2009 14:52:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-344&quot; title=&quot;Deadlock during refresh properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-344&quot;&gt;&lt;del&gt;CONFIGURATION-344&lt;/del&gt;&lt;/a&gt; contains some comments about threading problems with reload operations in general. They also are valid for this issue.&lt;/p&gt;</comment>
                            <comment id="12759911" author="oliver.heger@t-online.de" created="Sat, 26 Sep 2009 15:35:51 +0000"  >&lt;p&gt;I have created a unit test that fails more reliably and a proposed fix.&lt;/p&gt;

&lt;p&gt;The idea is that the lock used by the &lt;tt&gt;reload()&lt;/tt&gt; method is exposed so that external synchronization can be performed. &lt;tt&gt;AbstractHierarchicalFileConfiguration&lt;/tt&gt; now synchronizes at this lock in its &lt;tt&gt;getProperty()&lt;/tt&gt; method. This does not fix all problems with this architecture, e.g. other methods like &lt;tt&gt;isEmpty()&lt;/tt&gt; or &lt;tt&gt;containsKey()&lt;/tt&gt; should be treated in a similar way. But concurrent property reads should now be possible.&lt;/p&gt;</comment>
                            <comment id="12759925" author="ralph.goers@dslextreme.com" created="Sat, 26 Sep 2009 17:34:43 +0000"  >&lt;p&gt;Oliver, I have created a very similar patch but I am using the reloading lock on a lot more methods such as containsKey(), etc. This is necessary because all these methods are at risk of having the underlying structure change, not just getProperty.&lt;/p&gt;

&lt;p&gt;However, CombinedConfiguration seems to be a tougher nut to crack. The test I am using is below and is a variation on the XMLConfiguration test case and was added to TestCombinedConfiguration and fails every time.&lt;br/&gt;
    public void testConcurrentGetAndReload() throws Exception&lt;br/&gt;
    {&lt;br/&gt;
        config.setForceReloadCheck(true);&lt;br/&gt;
        config.setNodeCombiner(new MergeCombiner());&lt;br/&gt;
        //final FileConfiguration config = new PropertiesConfiguration(&quot;test.properties&quot;);&lt;br/&gt;
        final XMLConfiguration xml = new XMLConfiguration(&quot;test.xml&quot;);&lt;br/&gt;
        xml.setReloadingStrategy(new FileAlwaysReloadingStrategy());&lt;br/&gt;
        config.addConfiguration(xml);&lt;/p&gt;

&lt;p&gt;        assertTrue(&quot;Property not found&quot;, config.getProperty(&quot;test.short&quot;) != null);&lt;/p&gt;

&lt;p&gt;        Thread testThreads[] = new Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt;;&lt;/p&gt;

&lt;p&gt;        for (int i = 0; i &amp;lt; testThreads.length; ++i)&lt;/p&gt;
        {
            testThreads[i] = new ReloadThread(xml);
            testThreads[i].start();
        }

&lt;p&gt;        for (int i = 0; i &amp;lt; 2000; i++)&lt;/p&gt;
        {
            assertTrue(&quot;Property not found&quot;, config.getProperty(&quot;test.short&quot;) != null);
        }

&lt;p&gt;        for (int i = 0; i &amp;lt; testThreads.length; ++i)&lt;/p&gt;
        {
            testThreads[i].join();
        }
&lt;p&gt;    }&lt;/p&gt;

&lt;p&gt;    private class ReloadThread extends Thread&lt;br/&gt;
    {&lt;br/&gt;
        FileConfiguration config;&lt;/p&gt;

&lt;p&gt;        ReloadThread(FileConfiguration config)&lt;/p&gt;
        {
            this.config = config;
        }
&lt;p&gt;        public void run()&lt;br/&gt;
        {&lt;br/&gt;
            for (int i = 0; i &amp;lt; 1000; i++)&lt;/p&gt;
            {
                config.reload();
            }
&lt;p&gt;        }&lt;br/&gt;
    }&lt;/p&gt;</comment>
                            <comment id="12759942" author="oliver.heger@t-online.de" created="Sat, 26 Sep 2009 20:03:54 +0000"  >&lt;p&gt;Okay, using the reloading lock for all methods that might be affected is certainly the way to go (I was only too lazy to do this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; But to be consistent, analogous changes should be applied to &lt;tt&gt;AbstractFileConfiguration&lt;/tt&gt;: Here we have the same pattern that methods first call &lt;tt&gt;reload()&lt;/tt&gt; and then do something with the data, which might already be invalid due to another &lt;tt&gt;reload()&lt;/tt&gt; operation.&lt;/p&gt;

&lt;p&gt;Just an idea: Would it make sense to have a method like &lt;tt&gt;syncReload(Accessor acc)&lt;/tt&gt; in &lt;tt&gt;AbstractFileConfiguration&lt;/tt&gt; like the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Accessor
{
    &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; access(FileConfiguration config);
}

&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; syncReload(Accessor acc)
{
    &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt;(reloadLock)
    {
        reload();
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; acc.access(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maybe this would reduce the clutter in the affected methods a bit and allow a more closure-oriented programming.&lt;/p&gt;

&lt;p&gt;Now to &lt;tt&gt;CombinedConfiguration&lt;/tt&gt;: AFAICT the problem lies in the &lt;tt&gt;getTransformedRoot()&lt;/tt&gt; method of the helper class &lt;tt&gt;ConfigData&lt;/tt&gt;. We have here the following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// Copy data of the root node to the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; path
&lt;/span&gt;rootNode = ConfigurationUtils.convertToHierarchical(getConfiguration(),
    getConversionExpressionEngine()).getRootNode();
atParent.appendChildren(rootNode);
atParent.appendAttributes(rootNode);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To be save, this fragment has to be executed with the reload lock of the processed configuration hold. A dirty hack could be to add the &lt;tt&gt;getReloadLock()&lt;/tt&gt; method to the &lt;tt&gt;FileConfiguration&lt;/tt&gt; interface and check whether the configuration implements this interface:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(getConfiguration() &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; FileConfiguration)
{
    &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt;(((FileConfiguration) getConfiguration()).getReloadLock())
    {
        &lt;span class=&quot;code-comment&quot;&gt;// Copy data of the root node to the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; path
&lt;/span&gt;        ...
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, changing the &lt;tt&gt;FileConfiguration&lt;/tt&gt; interface is a binary incompatible change. So we might have to introduce an additional interface solely for this purpose.&lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="12759947" author="ralph.goers@dslextreme.com" created="Sat, 26 Sep 2009 20:37:30 +0000"  >&lt;p&gt;I don&apos;t understand the Accessor thing. The issue is that various operations have to be synchronized since the underlying structure might change while the operation is being performed. I&apos;m not sure how this construct helps.&lt;/p&gt;

&lt;p&gt;With CombinedConfiguration I also have focused on that bit of code and syncrhonized there pretty much the way you have suggested but the use case I posted above still fails. From what I can tell this is because in an XMLConfiguration the root node is cleared and then reloaded. Apparently getTransformedRoot() adds the nodes from the actual HierarchicalConfiguration into the CombinedConfiguration instead of making copies of them. This means that once the reloadLock is released the CombinedConfiguration can be modified asynchronously.&lt;/p&gt;

&lt;p&gt;The above shouldn&apos;t be a problem if it simply isn&apos;t allowed to use a Configuration object directly once it is incorporated into a combined configuration.&lt;/p&gt;</comment>
                            <comment id="12759970" author="ralph.goers@dslextreme.com" created="Sun, 27 Sep 2009 00:35:14 +0000"  >&lt;p&gt;After a few more minutes of thought I think even this restriction won&apos;t solve the problem.  If two threads access the Combined Configuration, one may get through getRootNode and start working with it. The second thread will detect a reload and start into constructCombinedNode and that will screw up the thread that is working with it even though they will have different &quot;combinedRoot&quot; nodes, because the underlying Nodes from the configurations being combined are being messed with.&lt;/p&gt;

&lt;p&gt;I should also mention that I took configtest.tar.gz attached to this issue and tried it with the modifications to lock both getRootNode() and the actual HierarchicalConfiguration in getTransformedRoot() and it made absolutely no difference. It still fails most of the time.&lt;/p&gt;

&lt;p&gt;I can only think of two ways out of this:&lt;br/&gt;
1. Clone the underlying configurations. This is a really ugly solution as something like MultiFileHierachicalConfiguration won&apos;t be pretty to clone.&lt;br/&gt;
2. Synchronize the public methods that need access to the root node more or less the same as is needed in XMLConfiguration. Again, this can be optimized in 2.0 by using Read/Write locks. I&apos;d love to do this in 1.7 but I really don&apos;t want to introduce a dependency on util.concurrent. &lt;/p&gt;</comment>
                            <comment id="12759991" author="ralph.goers@dslextreme.com" created="Sun, 27 Sep 2009 06:26:16 +0000"  >&lt;p&gt;I was able to get my test to pass by synchronizing the public methods.  This gets even more interesting because of SubnodeConfiguration objects.&lt;/p&gt;

&lt;p&gt;I&apos;m beginning to think that AbstractHierarchicalFileConfiguration, CombinedConfiguration and SubnodeConfiguration all need to extend a new class named HierarchicalReloadableConfiguration. This class would provide the reload lock object (or set it to the lock provided by the parent) and then lock all the appropriate methods. Subclasses wouldn&apos;t then have to provide overrides for all the methods and would be able to lock with the appropriate lock when they do override methods.&lt;/p&gt;</comment>
                            <comment id="12760089" author="oliver.heger@t-online.de" created="Sun, 27 Sep 2009 19:38:14 +0000"  >&lt;p&gt;A common base class that handles the locking stuff sounds like a good solution.&lt;/p&gt;

&lt;p&gt;I fear, in its current state the code is hardly maintainable. A lot of methods have to aware of the reloading functionality, and if a synchronization is missing, this will lead to trouble. So maybe for 2.0 we should think about a radical different approach to reloading?&lt;/p&gt;</comment>
                            <comment id="12760099" author="ralph.goers@dslextreme.com" created="Sun, 27 Sep 2009 20:47:32 +0000"  >&lt;p&gt;Yes, I agree. &lt;/p&gt;

&lt;p&gt;I am going to commit some code that I believe fixes this shortly. Unfortunately, I&apos;ve been working on other stuff and that is going to get committed as well, so I am thinking I will create a branch for this so it can be inspected before it gets merged to trunk. I will be opening a separate jira issue for the other stuff I&apos;ve been working on.&lt;/p&gt;

&lt;p&gt;A large part of the problem seems to be how hierarchical configurations are represented in memory and how they are being shared in a combined configuration. Also, I&apos;m not even sure a &quot;combined configuration&quot; is really the right way to go. The composite configuration would probably be easier to deal with. Since that is all DefaultConfigurationBuilder will work with though, there isn&apos;t a lot of choice.&lt;/p&gt;</comment>
                            <comment id="12760122" author="ralph.goers@dslextreme.com" created="Sun, 27 Sep 2009 22:46:24 +0000"  >&lt;p&gt;I have committed my changes to &lt;a href=&quot;https://svn.apache.org/repos/asf/commons/proper/configuration/branches/CONFIGURATION_390&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/commons/proper/configuration/branches/CONFIGURATION_390&lt;/a&gt;.  Please inspect the changes and test.&lt;/p&gt;

&lt;p&gt;1. CombinedConfiguration and SubnodeConfiguration both extend HierarchicalReloadableConfiguration.&lt;br/&gt;
2. HierarchicalReloadableConfiguration implements Reloadable.&lt;br/&gt;
3. AbstractHierarchicalFileConfiguration implements Reloadable as delegate.getReloadLock().&lt;br/&gt;
4. AbstractHierarchicalFileConfiguration wraps many of the methods with synchronized(delegate.getReloadLock()).&lt;br/&gt;
5. HierarchicalReloadableConfiguration has a constructor that can be passed the lock to synchronize on. If no lock is passed a new Object is used.&lt;br/&gt;
6. SubnodeConfiguration&apos;s constructor gets the parents lock object if the parent is Reloadable and passes it to HierarchicalReloadableConfiguraton&apos;s constructor. This should cause any SubnodeConfiguration for XMLConfiguration or CombinedConfiguration to use the lock of its parent.&lt;/p&gt;</comment>
                            <comment id="12760370" author="oliver.heger@t-online.de" created="Mon, 28 Sep 2009 20:19:52 +0000"  >&lt;p&gt;Ralph, your changes look good to me. I have the following questions/remarks:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Can we be sure that the problem described in &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-344&quot; title=&quot;Deadlock during refresh properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-344&quot;&gt;&lt;del&gt;CONFIGURATION-344&lt;/del&gt;&lt;/a&gt; does not pop up again? With the lock used by the CombinedConfiguration and the locks used by child configurations there are multiple locks involved which may be prone to dead lock under certain circumstances.&lt;/li&gt;
	&lt;li&gt;I wonder whether SubnodeConfiguration.getRootNode() needs locking, too. Probably not, because it is mainly called internally by methods that should already have the lock. But I am not sure.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12760496" author="ralph.goers@dslextreme.com" created="Tue, 29 Sep 2009 05:05:27 +0000"  >&lt;p&gt;Ultimately, we have to find a better solution than this.&lt;/p&gt;

&lt;p&gt;And I guess I&apos;m not done yet. Now that we know how we can make this happen in our production system. Unfortunately, even with these changes it is still happening. We use DynamicCombinedConfiguration and MultiFileHierarchicalConfiguration so I&apos;m going to have to include those into the mix.&lt;/p&gt;</comment>
                            <comment id="12760774" author="ralph.goers@dslextreme.com" created="Tue, 29 Sep 2009 23:44:13 +0000"  >&lt;p&gt;I&apos;ve made some more changes on the branch. I was getting out of memory errors in some unit tests because clear was not creating a new root node. I also included DynamicCombinedConfiguration in the locking and now it passes all the tests.&lt;/p&gt;

&lt;p&gt;Although I may push this to trunk I am going to keep looking into this to see if there is a better way to deal with this as it is going to impact performance.&lt;/p&gt;</comment>
                            <comment id="12762067" author="ralph.goers@dslextreme.com" created="Mon, 5 Oct 2009 02:12:45 +0000"  >&lt;p&gt;More changes on the branch. I&apos;ve been able to fix the problem without having to resort to locking all the method calls. When a combined configuration is constructed a copy of each participating configuration is used and locking is now done in appropriate places. This allows the reload to take place without affecting other threads as they will continue using a different tree until a subsequent getRootNode() call is made.&lt;/p&gt;</comment>
                            <comment id="12762326" author="oliver.heger@t-online.de" created="Mon, 5 Oct 2009 19:34:44 +0000"  >&lt;p&gt;This sounds good. I guess creating copies of the configurations may be an issue for large data sets, but in most typical applications the amount of configuration data should be limited. And it is certainly preferable to get rid of all that locking spread all over the code.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12407513">CONFIGURATION-344</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12420579" name="TestSuite.txt" size="236275" author="shkinser" created="Fri, 25 Sep 2009 17:30:42 +0000"/>
                            <attachment id="12420628" name="commons-configuration-390.patch" size="5128" author="oheger" created="Sat, 26 Sep 2009 15:35:51 +0000"/>
                            <attachment id="12420578" name="configtest.tar.gz" size="2023" author="shkinser" created="Fri, 25 Sep 2009 17:30:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Sep 2009 17:26:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-388] When updating an element or attribute that contains the list delimiter the character is escaped even if delimiting is disabled.</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-388</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When updating an attribute or element using an XMLConfiguration, if the new value contains a delimiter the delimiter will be escaped with a &apos;\&apos; even if delimiters have been disabled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12428522">CONFIGURATION-388</key>
            <summary>When updating an element or attribute that contains the list delimiter the character is escaped even if delimiting is disabled.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="rgoers">Ralph Goers</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Jun 2009 00:56:29 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:13 +0000</updated>
                            <resolved>Mon, 22 Jun 2009 03:35:37 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12722469" author="ralph.goers@dslextreme.com" created="Mon, 22 Jun 2009 03:35:37 +0000"  >&lt;p&gt;XMLConfiguration has been modified to not call PropertyConverter.escapeDelimiters if attributeSplitting or delimiterParsing have been disabled.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 14 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ups7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177318</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-386] XMLConfiguration setProperty(), then save() corrupts and deletes XML nodes</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-386</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When using XMLConfiguration to input an XML file, after performing setProperty(), then save() to a new output file, some nodes near the end of the file are removed and I notice some nodes are split, as demonstrated below:&lt;/p&gt;

&lt;p&gt;original XML:&lt;br/&gt;
&amp;lt;A&amp;gt;&lt;br/&gt;
  &amp;lt;B&amp;gt; w1 w2 w3 w4 w5&amp;lt;/B&amp;gt;&lt;br/&gt;
  &amp;lt;C&amp;gt; v1 v2 v3 &amp;lt;/C&amp;gt;&lt;br/&gt;
&amp;lt;/A&amp;gt;&lt;/p&gt;

&lt;p&gt;after doing setProperty(&quot;A.C&quot;,&quot;changes&quot;), then save():&lt;br/&gt;
file contains:&lt;br/&gt;
&amp;lt;A&amp;gt;&lt;br/&gt;
   &amp;lt;B&amp;gt; w1 w2 &amp;lt;/B&amp;gt;&lt;br/&gt;
   &amp;lt;B&amp;gt; w3 w4 &amp;lt;/B&amp;gt;&lt;br/&gt;
   &amp;lt;B&amp;gt; w5 &amp;lt;/B&amp;gt;&lt;br/&gt;
&amp;lt;/A&amp;gt;&lt;/p&gt;

&lt;p&gt;Note: If I input the XML and immediately save() it without using setProperty() to make a change, the new output file looks identical to the original. There are about 500 &amp;lt;A&amp;gt; constellations. In the latter 15 or so, the C nodes are removed in the new output XML. Also, It doesn&apos;t make sense to me why it would split the &amp;lt;B&amp;gt; into a few. Could the encoding of the XML affect the setProperty() method? I ask because the &amp;lt;C&amp;gt; nodes contain Hebrew letters. Yet that&apos;s interesting that it works, except for removing the latter 15 or 20 &amp;lt;C&amp;gt; nodes.&lt;br/&gt;
Any thoughts on how to resolve this? Thanks in advance!&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, latest Eclipse, Configuration 1.6&lt;/p&gt;</environment>
        <key id="12427540">CONFIGURATION-386</key>
            <summary>XMLConfiguration setProperty(), then save() corrupts and deletes XML nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scraniel">Scraniel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Jun 2009 10:48:58 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:12 +0000</updated>
                            <resolved>Sat, 20 Aug 2011 19:50:04 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12718482" author="oliver.heger@t-online.de" created="Thu, 11 Jun 2009 14:49:32 +0000"  >&lt;p&gt;To be honest: no idea!&lt;/p&gt;

&lt;p&gt;Is it possible to provide a simple example (a XML document and a short code fragment) where the error occurs?&lt;/p&gt;

&lt;p&gt;Could it somehow depend on the content of the file? If you remove the part of the XML document that is stripped by the save() operation, does &lt;tt&gt;setProperty()&lt;/tt&gt; then work correctly? It may be an issue with the encoding, perhaps due to incorrect encoding parts of the content are interpreted as list delimiters or file end markers? Just speculating. Did you try to set an encoding explicitly using the &lt;tt&gt;setEncoding()&lt;/tt&gt; method?&lt;/p&gt;</comment>
                            <comment id="13088255" author="oliver.heger@t-online.de" created="Sat, 20 Aug 2011 19:50:04 +0000"  >&lt;p&gt;Closing this issue. There was no more feedback.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Jun 2009 14:49:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-385] clearProperty does not generate events in DatabaseConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-385</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;clearProperty does not generate a EVENT_CLEAR_PROPERTY event because it overrides AbstractConfiguration.clearProperty instead of AbstractConfiguration.clearPropertyDirect as recommended by the superclass.  &lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.6 on Mac OSX 32 bit&lt;/p&gt;</environment>
        <key id="12427055">CONFIGURATION-385</key>
            <summary>clearProperty does not generate events in DatabaseConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="shyamss">Shyam Santhanam</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Jun 2009 19:35:10 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:04 +0000</updated>
                            <resolved>Sat, 6 Jun 2009 15:34:24 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Events &amp;amp; Notifications</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12716165" author="oliver.heger@t-online.de" created="Thu, 4 Jun 2009 06:02:24 +0000"  >&lt;p&gt;That&apos;s true, &lt;tt&gt;DatabaseConfiguration&lt;/tt&gt; should override &lt;tt&gt;clearPropertyDirect()&lt;/tt&gt; rather than &lt;tt&gt;clearProperty()&lt;/tt&gt;. Thank you for spotting this. Fortunately, this should be easy to fix.&lt;/p&gt;

&lt;p&gt;Note: The experimental configuration2 branch is also affected.&lt;/p&gt;</comment>
                            <comment id="12716744" author="oliver.heger@t-online.de" created="Fri, 5 Jun 2009 20:22:05 +0000"  >&lt;p&gt;Just noticed that the &lt;tt&gt;clear()&lt;/tt&gt; method of &lt;tt&gt;DatabaseConfiguration&lt;/tt&gt; does not generate the expected &lt;tt&gt;EVENT_CLEAR&lt;/tt&gt; events either.&lt;/p&gt;</comment>
                            <comment id="12716887" author="oliver.heger@t-online.de" created="Sat, 6 Jun 2009 15:34:24 +0000"  >&lt;p&gt;Fixed in subversion. Also for the experimental configuration2 branch.&lt;/p&gt;

&lt;p&gt;A new unit test was added that tests the events generated by &lt;tt&gt;DatabaseConfiguration&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Jun 2009 06:02:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uolb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177125</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-383] org.apache.commons.configuration.TestDefaultConfigurationBuilder does not compile against Java 1.4</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-383</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Test additions introduced at SVN revision 764168 rely on String.contains(), which was introduced in Java 5.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.4&lt;/p&gt;</environment>
        <key id="12423377">CONFIGURATION-383</key>
            <summary>org.apache.commons.configuration.TestDefaultConfigurationBuilder does not compile against Java 1.4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="jcbollinger">John Bollinger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Apr 2009 14:52:01 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:09 +0000</updated>
                            <resolved>Tue, 21 Apr 2009 23:09:26 +0000</resolved>
                                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12701170" author="jcbollinger" created="Tue, 21 Apr 2009 14:53:55 +0000"  >&lt;p&gt;Patch to use String.indexOf() instead of String.contains().&lt;/p&gt;</comment>
                            <comment id="12701308" author="ralph.goers@dslextreme.com" created="Tue, 21 Apr 2009 23:09:26 +0000"  >&lt;p&gt;I applied the change to trunk. Since the experimental branch uses Java 1.5 as a minimum this was not applied there.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12406033" name="configuration-383.patch" size="829" author="jcbollinger" created="Tue, 21 Apr 2009 14:53:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Apr 2009 23:09:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177423</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-382] Duplicate comments are created in Property file when using setReloadingStrategy</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-382</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Whenever we set a property value in a .properties file, the comments are created twice. For example, the following is the content of the property file initially.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;This is comment.&lt;br/&gt;
PropName = PropValue1&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;When we change the property value, the comment line is updated twice.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;This is comment.&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;This is comment.&lt;br/&gt;
PropName = PropValue2&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;This issue is seen only when we use setReloadingStrategy() method to notify the property change event to another running process.&lt;/p&gt;

&lt;p&gt;We are using the following code to notify the process which uses this property.&lt;/p&gt;

&lt;p&gt;propConf.setReloadingStrategy(new FileChangedReloadingStrategy());&lt;/p&gt;

&lt;p&gt;If we remove the above code, we do not see this issue. But if we do not use this method, the process which uses this property doesnt get this new value.&lt;/p&gt;</description>
                <environment>&lt;p&gt;all platforms&lt;/p&gt;</environment>
        <key id="12423239">CONFIGURATION-382</key>
            <summary>Duplicate comments are created in Property file when using setReloadingStrategy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anjugaselvan">Anjugaselvan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Apr 2009 07:01:17 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:05 +0000</updated>
                            <resolved>Thu, 16 Jul 2009 20:12:54 +0000</resolved>
                                                    <fixVersion>1.7</fixVersion>
                                    <component>File reloading</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12703347" author="oliver.heger@t-online.de" created="Mon, 27 Apr 2009 20:34:14 +0000"  >&lt;p&gt;I did some tests, but cannot reproduce the problem.&lt;/p&gt;

&lt;p&gt;What exactly do you mean by &quot;When we change the property value&quot;? Do you change the value programmatically by calling &lt;tt&gt;setProperty()&lt;/tt&gt; or do you change the properties file manually so that it gets reloaded?&lt;/p&gt;

&lt;p&gt;Also, I do not really understand the content of your properties file. The line&lt;br/&gt;
&lt;tt&gt;1. This is comment.&lt;/tt&gt;&lt;br/&gt;
is not a valid comment line as it does not start with a comment character like &lt;tt&gt;#&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Below is a test case I added to &lt;em&gt;TestPropertiesConfiguration&lt;/em&gt;. It works with two &lt;tt&gt;PropertiesConfiguration&lt;/tt&gt; objects that access the same file. So I can use one object for changing the file and see whether the other one picks up the change.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testCommentsWithReload() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ConfigurationException
    {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; comment = &lt;span class=&quot;code-quote&quot;&gt;&quot;A test comment&quot;&lt;/span&gt;;
        PropertiesConfiguration c = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PropertiesConfiguration();
        c.setProperty(PROP_NAME, PROP_VALUE);
        c.getLayout().setComment(PROP_NAME, comment);
        c.setFile(testSavePropertiesFile);
        c.save();
        conf.clear();
        conf.setFile(testSavePropertiesFile);
        conf.load();
        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;Wrong value&quot;&lt;/span&gt;, PROP_VALUE, conf.getString(PROP_NAME));
        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;Wrong comment&quot;&lt;/span&gt;, comment, conf.getLayout()
                .getCanonicalComment(PROP_NAME, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;));
        conf.setReloadingStrategy(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileAlwaysReloadingStrategy());
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; newValue = &lt;span class=&quot;code-quote&quot;&gt;&quot;Another value&quot;&lt;/span&gt;;
        c.setProperty(PROP_NAME, newValue);
        c.save();
        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;Wrong value after reload&quot;&lt;/span&gt;, newValue, conf
                .getString(PROP_NAME));
        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;Wrong comment after reload&quot;&lt;/span&gt;, comment, conf.getLayout()
                .getCanonicalComment(PROP_NAME, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;));
        conf.save();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This seems to work. The comment is not duplicated. (I also inspected the file manually after it was written at the end of the test).&lt;/p&gt;

&lt;p&gt;Can you perhaps provide a code fragment that reproduces the problem? Thanks.&lt;/p&gt;</comment>
                            <comment id="12716888" author="oliver.heger@t-online.de" created="Sat, 6 Jun 2009 15:36:27 +0000"  >&lt;p&gt;Any news here?&lt;/p&gt;

&lt;p&gt;As I cannot reproduce the problem and got no feedback, I tend to close this ticket as invalid.&lt;/p&gt;</comment>
                            <comment id="12732128" author="oliver.heger@t-online.de" created="Thu, 16 Jul 2009 20:12:54 +0000"  >&lt;p&gt;Closing this ticket as there is no feedback. Please reopen if you can provide more information.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Apr 2009 20:34:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-379] org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source null</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-379</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;In one of my projects, we are using commons-configuration to read properties file.  There are multiple threads that are trying to read property in this property file and many times fails giving following exception:&lt;/p&gt;

&lt;p&gt;org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source null&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:213)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:193)&lt;br/&gt;
	at com.mycomp.myapp.CIMConfiguration.configure(CIMConfiguration.java:104)&lt;br/&gt;
	at com.mycomp.myapp.CIMConfiguration.configure(CIMConfiguration.java:89)&lt;br/&gt;
	at com.mycomp.myapp.InterfaceJob.execute(InterfaceJob.java:64)&lt;br/&gt;
	at org.quartz.core.JobRunShell.run(JobRunShell.java:202)&lt;br/&gt;
	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:529)&lt;/p&gt;

&lt;p&gt;To my understanding, this error is reported from&lt;br/&gt;
Class: AbstractFileConfiguration.java&lt;br/&gt;
Method: load(String fileName) throws ConfigurationException&lt;br/&gt;
{&lt;br/&gt;
      URL url = ConfigurationUtils.locate(basePath, fileName);&lt;/p&gt;

&lt;p&gt;      if (url == null)&lt;/p&gt;
      {
             throw new ConfigurationException(&quot;Cannot locate configuration source &quot; + fileName); } 
&lt;p&gt;            load(url);&lt;br/&gt;
      }&lt;/p&gt;

&lt;p&gt;I have checked&amp;amp; printed that the filename passed to this method is correct.&lt;br/&gt;
Please advice&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, Tomcat 5.5 server, Quarts 1.6.0&lt;/p&gt;</environment>
        <key id="12421733">CONFIGURATION-379</key>
            <summary>org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ranbsing">ranbir singh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Apr 2009 02:09:28 +0000</created>
                <updated>Wed, 1 Apr 2009 06:43:46 +0000</updated>
                            <resolved>Wed, 1 Apr 2009 06:43:46 +0000</resolved>
                                    <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12694361" author="ralph.goers@dslextreme.com" created="Wed, 1 Apr 2009 02:55:58 +0000"  >&lt;p&gt;It would be helpful to know what CIMConfiguration.configure does. Can you provide the code for that?&lt;/p&gt;</comment>
                            <comment id="12694363" author="ranbsing" created="Wed, 1 Apr 2009 03:06:24 +0000"  >&lt;p&gt;Thanks a lot for your prompt action. &lt;br/&gt;
As required, please find below the code for configure method:&lt;br/&gt;
I have removed the exta code to avoid any confusion.&lt;/p&gt;

&lt;p&gt;We call configure() method, which in turns call  configure(String path) .&lt;/p&gt;

&lt;p&gt;public class CIMConfiguration &lt;br/&gt;
{&lt;br/&gt;
   ....&lt;br/&gt;
   private PropertiesConfiguration config = null;&lt;br/&gt;
   ....&lt;/p&gt;

&lt;p&gt;   public CIMConfiguration configure() &lt;/p&gt;
   {
      String configFile = System.getProperty(CIM_CONFIG_FILE);
      if (!StringUtils.isBlank(configFile)) configure(configFile);
      else configure(&quot;cim.properties&quot;);
      return this;
   }

&lt;p&gt;   public CIMConfiguration configure(String path) {&lt;br/&gt;
      URL url = ConfigurationUtils.locate(path);&lt;br/&gt;
      config = new PropertiesConfiguration();&lt;br/&gt;
      config.setURL(url);&lt;br/&gt;
      try &lt;/p&gt;
{
	log.info(&quot;Loading configuration [&quot;+url+&quot;]...&quot;);
	config.load();
      }
&lt;p&gt; catch (ConfigurationException e) &lt;/p&gt;
{
            e.printStackTrace();
            log.warn(path + &quot; open error&quot;,e);
            throw new CIMException(e);
      }

&lt;p&gt;      return this;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;FYI: &lt;br/&gt;
The line &quot;log.info(&quot;Loading configuration &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;+url+&amp;quot;&amp;#93;&lt;/span&gt;...&quot;);&quot; prints &lt;br/&gt;
&quot; Loading configuration &lt;a href=&quot;file:/D:/applications/CIM/CIM-Config/cim.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/D:/applications/CIM/CIM-Config/cim.properties&lt;/a&gt;...&quot;&lt;br/&gt;
correctly and the file exists at that location.&lt;/p&gt;</comment>
                            <comment id="12694383" author="ralph.goers@dslextreme.com" created="Wed, 1 Apr 2009 05:10:20 +0000"  >&lt;p&gt;Next question. How does InterfaceJob.execute obtain the CIMConfiguration object?&lt;/p&gt;</comment>
                            <comment id="12694400" author="ranbsing" created="Wed, 1 Apr 2009 05:54:30 +0000"  >&lt;p&gt;We use Quartz as job schduler fraework. Following is the code snipplet to schedule a Job to be processed by Quartz. Jobs are scheduled for our main class &quot;CIMSystem&quot; .&lt;/p&gt;

&lt;p&gt;Following are the steps of execution:&lt;br/&gt;
1) CIMSystem is instantiated, we instantiate CIMConfiguration also. &lt;br/&gt;
2) Next we call init() method, which turns call  cfg.configure() method and loads the properties.&lt;br/&gt;
3) When a job is scheduled, we pass the CIMSystem object as Parameter (via org.quartz.JobDetail object)&lt;br/&gt;
4) When the Job is picked by Scheduler for execution, we get the CIMSystem object (&quot;system&quot;) from JobDetail object  and call the &quot;system.getConfiguration().configure();&quot; to read the properties for properties file.&lt;/p&gt;


&lt;p&gt;public class CIMSystem &lt;br/&gt;
{&lt;br/&gt;
      private CIMConfiguration cfg;&lt;br/&gt;
      private Scheduler sched;&lt;br/&gt;
      private static CIMSystem instance = null;&lt;/p&gt;

&lt;p&gt;      public static synchronized CIMSystem getInstance() &lt;/p&gt;
{
           if (instance == null) instance = new CIMSystem();
	return instance;
      }

&lt;p&gt;      private CIMSystem() &lt;/p&gt;
      {
            ....
            cfg = new CIMConfiguration();
            ...
      }

&lt;p&gt;      public void init() &lt;/p&gt;
      {
            ...
            cfg.configure();
            ...
      }

&lt;p&gt;      private boolean scheduleJob( String jobName, String jobGroup, Long interfaceDefId, InterfaceDef intf,&lt;br/&gt;
                  User user, String runDescription, ProcessContext.Type processType, String refProcessId,              &lt;br/&gt;
                  org.quartz.Trigger trigger) &lt;br/&gt;
      {&lt;br/&gt;
	org.quartz.JobDetail jobDetail = new org.quartz.JobDetail(jobName, jobGroup, InterfaceJob.class);&lt;br/&gt;
	jobDetail.setDescription(runDescription);&lt;br/&gt;
	jobDetail.getJobDataMap().put(InterfaceJob.SYSTEM, this);&lt;br/&gt;
                      ....&lt;br/&gt;
	trigger.setName(jobName);&lt;br/&gt;
	trigger.setGroup(jobGroup);&lt;br/&gt;
	try &lt;/p&gt;
{
                        	sched.scheduleJob(jobDetail, trigger);
		log.info(&quot;Interface [&quot;+interfaceDefId+&quot;] is added to scheduler. Next fire time      
                                                            [&quot;+trigger.getNextFireTime()+&quot;]&quot;);
	}
&lt;p&gt; catch (SchedulerException e) &lt;/p&gt;
{
                        	e.printStackTrace();
		log.error(&quot;Exception when schedule job interface[&quot;+interfaceDefId+&quot;]&quot;, e);
		return false;
	}
&lt;p&gt;	return true;&lt;br/&gt;
      }&lt;br/&gt;
}&lt;/p&gt;



&lt;p&gt;public class InterfaceJob implements org.quartz.Job &lt;br/&gt;
{&lt;br/&gt;
     private CIMSystem system;&lt;/p&gt;

&lt;p&gt;     public void execute(JobExecutionContext context) throws JobExecutionException &lt;br/&gt;
     {&lt;br/&gt;
          try &lt;/p&gt;
          {
               system = (CIMSystem) context.getJobDetail().getJobDataMap().get(SYSTEM);
               system.getConfiguration().configure();
               ....do the rest of processing....
          } 
&lt;p&gt;          catch (Exception ex) &lt;/p&gt;
          {
	log.error(&quot;Job [&quot;+context.getJobDetail().getName()+&quot;] completed with Exception.&quot;, ex);
          } 
&lt;p&gt;     }&lt;br/&gt;
}&lt;/p&gt;

</comment>
                            <comment id="12694403" author="ralph.goers@dslextreme.com" created="Wed, 1 Apr 2009 06:14:49 +0000"  >&lt;p&gt;OK. Your problem is as follows. &lt;br/&gt;
1. CIMSystem is a singleton.&lt;br/&gt;
2. CIMSystem.execute is being called from multiple threads.&lt;br/&gt;
3. execute calls CIMConfiguration.configure.&lt;br/&gt;
4. CIMConfiguration has a PropertiesConfiguration as a class member variable.&lt;br/&gt;
5. The configure method sets this class member variable to a new PropertiesConfiguration.&lt;br/&gt;
6. setURL is called to set the url.&lt;br/&gt;
Here is the problem -&lt;br/&gt;
7. A second thread enters CIMConfiguration.configure and does &quot;config = new PropertiesConfiguration()&quot;. This new configuration doesn&apos;t have its url set.&lt;br/&gt;
8. The first thread calls load on the new PropertiesConfiguration created in step 7. &lt;/p&gt;</comment>
                            <comment id="12694404" author="ranbsing" created="Wed, 1 Apr 2009 06:21:57 +0000"  >&lt;p&gt;Thanks a lot for your expert comments.&lt;/p&gt;

&lt;p&gt;What is the best solution you suggest to avoid this situation.&lt;/p&gt;</comment>
                            <comment id="12694405" author="ranbsing" created="Wed, 1 Apr 2009 06:28:46 +0000"  >&lt;p&gt;I am going to use &lt;br/&gt;
     PropertiesConfiguration(URL url) method &lt;br/&gt;
instead of the existing 2 step process:&lt;br/&gt;
     config = new PropertiesConfiguration();&lt;br/&gt;
     config.setURL(url);&lt;/p&gt;

&lt;p&gt;Any advice?&lt;/p&gt;

&lt;p&gt;Also, this concludes that when using PropertiesConfiguration, we need to take care of thread safety.&lt;br/&gt;
Is my understanding correct ?&lt;/p&gt;

&lt;p&gt;Does version 1.5 or 1.6 have any enhancement in this regards? &lt;/p&gt;

&lt;p&gt;Thanks again for your assistance &amp;amp; prompt responses.&lt;/p&gt;</comment>
                            <comment id="12694407" author="ralph.goers@dslextreme.com" created="Wed, 1 Apr 2009 06:36:31 +0000"  >&lt;p&gt;First, this really isn&apos;t a problem with Commons Configuration so you should close this issue.&lt;/p&gt;

&lt;p&gt;As to how to solve it, there are a number of ways depending on what you are trying to do. Since you are getting the file name from a system property It appears that you are only dealing with a single property file. The file should be read when CIMSystem.init is called, so I really don&apos;t know why the configure method is being called again in the execute method. &lt;/p&gt;

&lt;p&gt;OTOH, if it was intended that each execution should have its own properties configuration then system.getConfiguration should really return a new CIMConfiguration.&lt;/p&gt;

&lt;p&gt;If you have further questions I would suggest posting on the dev list.&lt;/p&gt;</comment>
                            <comment id="12694408" author="ranbsing" created="Wed, 1 Apr 2009 06:43:46 +0000"  >&lt;p&gt;Not a issue with CONFIGURATION.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Apr 2009 02:55:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-373] HierarchicalConfiguration: adding a new branch using index (-1) does not work</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-373</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;profiles.profile.name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;QAL&quot;&lt;/span&gt;);
addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;profiles.profile(-1).name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;PROD&quot;&lt;/span&gt;);         &lt;span class=&quot;code-comment&quot;&gt;// &amp;lt;-  index  (-1)   to create a NEW branch
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// see: http://commons.apache.org/configuration/userguide/howto_xml.html#Hierarchical_properties - &lt;span class=&quot;code-quote&quot;&gt;&quot;Adding &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; properties&quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;should create a config like (XML view):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;profiles&amp;gt;&lt;/span&gt;
                               &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;profile&amp;gt;&lt;/span&gt;
                                               &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;QAL&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
                               &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/profile&amp;gt;&lt;/span&gt;
                               &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;profile&amp;gt;&lt;/span&gt;
                                               &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;PROD&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
                               &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/profile&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/profiles&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but it does this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;profiles&amp;gt;&lt;/span&gt;
                               &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;profile&amp;gt;&lt;/span&gt;
                                               &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;QAL&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;                                  &amp;lt;- QAL and PROD
                                               &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;PROD&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;                               &amp;lt;- in the same branch !
                               &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/profile&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/profiles&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Test program:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.configuration.ConfigurationException;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.configuration.HierarchicalConfiguration;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.configuration.XMLConfiguration;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Main {
                               &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void doit(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ConfigurationException{
                                               HierarchicalConfiguration hc=&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HierarchicalConfiguration();
                                               hc.addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;profiles.profile.name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;QAL&quot;&lt;/span&gt;);
                                               hc.addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;profiles.profile(-1).name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;PROD&quot;&lt;/span&gt;);

                                               XMLConfiguration x1=&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XMLConfiguration();
                                               x1.append(hc);
                                               x1.save(&lt;span class=&quot;code-quote&quot;&gt;&quot;conf.xml&quot;&lt;/span&gt;);
                                               &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit(0);
                               }
                
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ConfigurationException {
        Main main = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Main();
        main.doit(args);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;W2003, JDK 1.6&lt;/p&gt;</environment>
        <key id="12416929">CONFIGURATION-373</key>
            <summary>HierarchicalConfiguration: adding a new branch using index (-1) does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amorpain">Antoine Morpain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Mar 2009 00:48:45 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:14 +0000</updated>
                            <resolved>Sat, 21 Mar 2009 16:11:10 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Expression engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12683172" author="oliver.heger@t-online.de" created="Wed, 18 Mar 2009 21:07:26 +0000"  >&lt;p&gt;Improved formatting&lt;/p&gt;</comment>
                            <comment id="12683175" author="oliver.heger@t-online.de" created="Wed, 18 Mar 2009 21:15:42 +0000"  >&lt;p&gt;My guess is that the problem is not related to &lt;tt&gt;HierarchicalConfiguration&lt;/tt&gt;, but is caused by the way how you create the &lt;tt&gt;XMLConfiguration&lt;/tt&gt; in your test program. As the documentation of the &lt;tt&gt;append()&lt;/tt&gt; method states, it does not work well with hierarchical configurations:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: This method won&apos;t work well when appending hierarchical configurations because it is not able to copy information about the properties&apos; structure (i.e. the parent-child-relationships will get lost).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Try using the constructor of &lt;tt&gt;XMLConfiguration&lt;/tt&gt; that takes a &lt;tt&gt;HierarchicalConfiguration&lt;/tt&gt; as argument.&lt;/p&gt;

&lt;p&gt;I would be very surprised if there was such a big bug in &lt;tt&gt;HierarchicalConfiguration&lt;/tt&gt;. One point is that our unit tests check adding new branches using the syntax with the -1 index. Another point is that this is a central feature of &lt;tt&gt;HierarchicalConfiguration&lt;/tt&gt; that exists from the very first release of this class. So if this did not work, certainly there would have been lots of bug reports in the last years.&lt;/p&gt;

&lt;p&gt;Can you please double-check? Thanks!&lt;/p&gt;</comment>
                            <comment id="12683682" author="amorpain" created="Thu, 19 Mar 2009 23:27:30 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;Yes, it works that way, thanks a lot.&lt;br/&gt;
Antoine&lt;/p&gt;</comment>
                            <comment id="12688046" author="oliver.heger@t-online.de" created="Sat, 21 Mar 2009 16:11:10 +0000"  >&lt;p&gt;Thanks for your feedback. So closing this ticket as invalid.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Mar 2009 21:07:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33899</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqs7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177480</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-369] SubsetConfiguration ignores local StrLookups</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-369</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;For an AbstractConfiguration it is normally possible to register local StrLookup instances. These are simply ignored by the SubsetConfiguration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12416463">CONFIGURATION-369</key>
            <summary>SubsetConfiguration ignores local StrLookups</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joehni">Joerg Schaible</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Mar 2009 19:50:43 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:04 +0000</updated>
                            <resolved>Sun, 22 Mar 2009 01:00:20 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Interpolation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12688087" author="joehni" created="Sun, 22 Mar 2009 01:00:20 +0000"  >&lt;p&gt;Applied in c2 branch and merged back to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l77j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-368] CombinedConfiguration: java.util.NoSuchElementException after reload of enclosed SubnodeConfiguration/XMLConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-368</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Steps to repeat:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;create a XMLConfiguration based on a XML config file (xml file content e.g.:  &amp;lt;config&amp;gt;&amp;lt;foo&amp;gt;&amp;lt;bar&amp;gt;0&amp;lt;/bar&amp;gt;&amp;lt;/for&amp;gt;&amp;lt;/config&amp;gt;)&lt;/li&gt;
	&lt;li&gt;assign file reloading strategy to the XMLConfiguration&lt;/li&gt;
	&lt;li&gt;create a SubnodeConfiguration based on this XMLConfiguration (prefix e.g.: &apos;foor&apos;)&lt;/li&gt;
	&lt;li&gt;create a CombinedConfiguration&lt;/li&gt;
	&lt;li&gt;add the SubnodeConfiguration to this CombinedConfiguration&lt;/li&gt;
	&lt;li&gt;get a configuration value from the CombinedConfiguration (e.g. &apos;bar&apos;) -&amp;gt; OK, this works&lt;/li&gt;
	&lt;li&gt;touch the underlying xml configuration&lt;/li&gt;
	&lt;li&gt;try to get a configuration value from the CombinedConfiguration again (e.g. &apos;bar&apos;) -&amp;gt;  java.util.NoSuchElementException&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;See also attached TestCase.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12416364">CONFIGURATION-368</key>
            <summary>CombinedConfiguration: java.util.NoSuchElementException after reload of enclosed SubnodeConfiguration/XMLConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="statist@gmx.de">Paul Meyer</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 Mar 2009 08:42:06 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:11 +0000</updated>
                            <resolved>Sun, 8 Mar 2009 19:26:40 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>File reloading</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12679856" author="statist@gmx.de" created="Sat, 7 Mar 2009 08:43:33 +0000"  >&lt;p&gt;TestCase illustrating the issue.&lt;/p&gt;</comment>
                            <comment id="12680002" author="oliver.heger@t-online.de" created="Sun, 8 Mar 2009 18:59:26 +0000"  >&lt;p&gt;The problem is the following: Though the SubnodeConfiguration detects that its parent configuration was changed and it updates itself, it does not fire any change event. Thus the hosting CombinedConfiguration does not recognize that there are any changes; querying the CombinedConfiguration returns stale data.&lt;/p&gt;

&lt;p&gt;A fix is to sent a change event whenever the SubnodeConfiguration detects a change of its parent.&lt;/p&gt;

&lt;p&gt;To get the test case pass I also had to slightly modify the node construction process of CombinedConfiguration: In the tests &lt;tt&gt;FileAlwaysReloadingStrategy&lt;/tt&gt; is used as reloading strategy, which triggers a reload on every property access. Obviously it is problematic if multiple reloads occur while the node structure of a single child configuration of the CombinedConfiguration is constructed. The new code makes sure that &lt;tt&gt;getRootNode()&lt;/tt&gt; on the child configuration is called only once.&lt;/p&gt;</comment>
                            <comment id="12680005" author="oliver.heger@t-online.de" created="Sun, 8 Mar 2009 19:26:40 +0000"  >&lt;p&gt;Should be fixed now in subversion (r751500). The fix was also ported to the configuration2 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12401680" name="TestCombinedConfigurationReload.java" size="5368" author="statist@gmx.de" created="Sat, 7 Mar 2009 08:43:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 8 Mar 2009 18:59:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33951</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lig7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123639</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-366] XMLConfiguration.getKeys() broken</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-366</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;XMLConfiguration.getKeys(String prefix) returns iterator with the string argument &quot;prefix&quot;, when the xpath specified has no sub elements. The XPathExpressionEngine has been used as Expression engine.&lt;/p&gt;

&lt;p&gt;Version 1.3 does not have this problem. Here an empty Iterator is returned.&lt;/p&gt;

&lt;p&gt;This seems related to:&lt;br/&gt;
&lt;a href=&quot;http://issues.apache.org/jira/browse/CONFIGURATION-87&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/CONFIGURATION-87&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 6&lt;/p&gt;</environment>
        <key id="12415035">CONFIGURATION-366</key>
            <summary>XMLConfiguration.getKeys() broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="uldall">Christian Uldall Pedersen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Feb 2009 11:28:27 +0000</created>
                <updated>Sun, 8 Mar 2009 19:30:16 +0000</updated>
                            <resolved>Sun, 8 Mar 2009 19:30:16 +0000</resolved>
                                    <version>1.6</version>
                                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="172800">48h</timeestimate>
                                        <comments>
                            <comment id="12674777" author="oliver.heger@t-online.de" created="Wed, 18 Feb 2009 21:02:00 +0000"  >&lt;p&gt;Could you please add a small example (maybe a short XML configuration file and a code fragment accessing the configuration) demonstrating the problem? This will help us reproducing the bug.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12674928" author="uldall" created="Thu, 19 Feb 2009 08:48:18 +0000"  >&lt;p&gt;I have attached a test example. Using config file Config_1.xml we do not see the problem, using Config_2.xml we do.&lt;/p&gt;</comment>
                            <comment id="12675577" author="oliver.heger@t-online.de" created="Sat, 21 Feb 2009 17:03:18 +0000"  >&lt;p&gt;This is not a bug. In fact, the &lt;tt&gt;getKeys()&lt;/tt&gt; method is now consistent with &lt;tt&gt;containsKey()&lt;/tt&gt;. In your example configuration file the key &lt;tt&gt;&amp;lt;XPaths&amp;gt;&lt;/tt&gt; is technically present in the configuration file, though it has no value. Passing it to &lt;tt&gt;containsKeys()&lt;/tt&gt; will return true. So it is only consequent if the key is returned by the &lt;tt&gt;getKeys()&lt;/tt&gt; method. Removing the &lt;tt&gt;&amp;lt;XPaths&amp;gt;&lt;/tt&gt; element should result in an empty iterator.&lt;/p&gt;

&lt;p&gt;The change in behavior is probably related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-321&quot; title=&quot;AbstractHierarchicalConfiguration.getKeys(key) doesn&amp;#39;t return the key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-321&quot;&gt;&lt;del&gt;CONFIGURATION-321&lt;/del&gt;&lt;/a&gt;. So you were relying on a behavior of &lt;tt&gt;getKeys()&lt;/tt&gt; that was considered a bug and changed in the 1.6 release.&lt;/p&gt;</comment>
                            <comment id="12675880" author="uldall" created="Mon, 23 Feb 2009 12:45:50 +0000"  >&lt;p&gt;What I find a bit peculiar is that getKeys returns the following two elements:&lt;br/&gt;
//ConfigurationSection&lt;span class=&quot;error&quot;&gt;&amp;#91;@*=&amp;quot;DocumentTypeCollectionConfig&amp;quot;&amp;#93;&lt;/span&gt;/DocumentTypes/DocumentTypeConfig&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;/CustomHeaderConfiguration/XPaths/Test&lt;br/&gt;
//ConfigurationSection&lt;span class=&quot;error&quot;&gt;&amp;#91;@*=&amp;quot;DocumentTypeCollectionConfig&amp;quot;&amp;#93;&lt;/span&gt;/DocumentTypes/DocumentTypeConfig&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;/CustomHeaderConfiguration/XPaths/Ber&lt;/p&gt;

&lt;p&gt;On this XML (Config_1):&lt;br/&gt;
&amp;lt;XPaths&amp;gt;&lt;br/&gt;
&amp;lt;Test&amp;gt;Data&amp;lt;/Test&amp;gt;&lt;br/&gt;
&amp;lt;Ber&amp;gt;Data2&amp;lt;/Ber&amp;gt;&lt;br/&gt;
&amp;lt;/XPaths&amp;gt;&lt;/p&gt;

&lt;p&gt;And:&lt;br/&gt;
//ConfigurationSection&lt;span class=&quot;error&quot;&gt;&amp;#91;@*=&amp;quot;DocumentTypeCollectionConfig&amp;quot;&amp;#93;&lt;/span&gt;/DocumentTypes/DocumentTypeConfig&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;/CustomHeaderConfiguration/XPaths&lt;/p&gt;

&lt;p&gt;On this XML (Config_2):&lt;br/&gt;
&amp;lt;XPaths&amp;gt;&lt;br/&gt;
&amp;lt;/XPaths&amp;gt;&lt;/p&gt;

&lt;p&gt;So the logic is that if there are sub elements then return those, if no sub elements then return parent element?&lt;/p&gt;</comment>
                            <comment id="12675987" author="oliver.heger@t-online.de" created="Mon, 23 Feb 2009 17:31:01 +0000"  >&lt;p&gt;Well, yes. The idea behind that is that there should be a way to query empty elements. Per default all XML elements are listed by &lt;tt&gt;getKeys()&lt;/tt&gt; that have text content. This would exclude empty elements like the &lt;tt&gt;&amp;lt;XPaths&amp;gt;&lt;/tt&gt; element in your example. Nevertheless these elements exist in the XML document, and there may be use cases where the sole presence of an element has a certain meaning. To address those use cases it was decided that empty elements should be treated as regular keys with an empty string as value (this was in one of the first versions of this library).&lt;/p&gt;

&lt;p&gt;Due to a bug in the &lt;tt&gt;getKeys()&lt;/tt&gt; method (&lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-321&quot; title=&quot;AbstractHierarchicalConfiguration.getKeys(key) doesn&amp;#39;t return the key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-321&quot;&gt;&lt;del&gt;CONFIGURATION-321&lt;/del&gt;&lt;/a&gt;) the prefix passed to this method was never included in the iteration. That was fixed in Configuration 1.6, and that&apos;s why you now have an additional key in the iteration.&lt;/p&gt;

&lt;p&gt;I admit that in your specific case the behavior may seem a bit strange due to an unlucky combination of the bug fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-321&quot; title=&quot;AbstractHierarchicalConfiguration.getKeys(key) doesn&amp;#39;t return the key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-321&quot;&gt;&lt;del&gt;CONFIGURATION-321&lt;/del&gt;&lt;/a&gt; and the treatment of empty elements. I am not sure how this could be made more consistent. Also, I am reluctant to changing this behavior because of backwards compatibility.&lt;/p&gt;</comment>
                            <comment id="12676261" author="uldall" created="Tue, 24 Feb 2009 13:17:21 +0000"  >&lt;p&gt;What would be the best way to obtain the behavior that I am looking for? The following seems like a bad solution:&lt;/p&gt;

&lt;p&gt;Iterator&amp;lt;?&amp;gt; keys = raspConfigurationFile.getKeys(csXpath);&lt;/p&gt;

&lt;p&gt;boolean hasChildren = true;&lt;br/&gt;
if (keys.hasNext()) {&lt;br/&gt;
     if (keys.next().equals(csXpath)) &lt;/p&gt;
{
            hasChildren = false;
     }
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="12676417" author="oliver.heger@t-online.de" created="Tue, 24 Feb 2009 21:09:48 +0000"  >&lt;p&gt;I don&apos;t know your exact use case, but maybe you can rely on the fact that an empty element has an empty string as value. So you could do something like the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(Iterator it = raspConfigurationFile.getKeys(csXPath); it.hasNext())
  {
      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; value = raspConfigurationFile.getString(it.next());
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(value.length() &amp;gt; 0)
      {
          &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; something with the value
&lt;/span&gt;      }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12680006" author="oliver.heger@t-online.de" created="Sun, 8 Mar 2009 19:30:16 +0000"  >&lt;p&gt;Resolving as invalid as this is not a bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12400487" name="ConfigTest.java" size="1090" author="uldall" created="Thu, 19 Feb 2009 08:46:35 +0000"/>
                            <attachment id="12400488" name="Config_1.xml" size="574" author="uldall" created="Thu, 19 Feb 2009 08:47:06 +0000"/>
                            <attachment id="12400489" name="Config_2.xml" size="518" author="uldall" created="Thu, 19 Feb 2009 08:47:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Feb 2009 21:02:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33889</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-365] Bean handling not allowing an XPathExpressionEngine</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-365</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Trying to set an XPathExpressionEngine in the config file:&lt;/p&gt;

&lt;p&gt;===&lt;br/&gt;
  &amp;lt;xml  &lt;br/&gt;
    config-name=&quot;config.product.xml&quot; &lt;br/&gt;
    fileName=&quot;${sys:bundle.root}/etc/${sys:launch.target}.properties.xml&quot; &lt;br/&gt;
    &amp;gt;&lt;br/&gt;
        &amp;lt;expressionEngine config-class=&quot;org.apache.commons.configuration.tree.xpath.XPathExpressionEngine&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;/xml&amp;gt;&lt;br/&gt;
===&lt;/p&gt;

&lt;p&gt;And it throws an exception:&lt;/p&gt;

&lt;p&gt;====&lt;br/&gt;
Caused by: org.apache.commons.configuration.ConfigurationException: org.apache.commons.configuration.ConfigurationRuntimeException:&lt;br/&gt;
java.lang.IllegalArgumentException: Cannot invoke org.apache.commons.configuration.HierarchicalConfiguration.setExpressionEngine on&lt;br/&gt;
bean class &apos;class org.apache.commons.configuration.XMLConfiguration&apos; - argument type mismatch - had objects of type &quot;org.apache.comm&lt;br/&gt;
ons.configuration.tree.xpath.XPathExpressionEngine&quot; but expected signature &quot;org.apache.commons.configuration.tree.ExpressionEngine&quot;&lt;br/&gt;
        at org.apache.commons.configuration.DefaultConfigurationBuilder.createConfigurationAt(DefaultConfigurationBuilder.java:752)&lt;br/&gt;
        at org.apache.commons.configuration.DefaultConfigurationBuilder.initCombinedConfiguration(DefaultConfigurationBuilder.java:6&lt;br/&gt;
28)&lt;br/&gt;
        at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfiguration(DefaultConfigurationBuilder.java:560)&lt;br/&gt;
        at com.ascert.vt.modules.propsmgr.PropsMgrMainOSGI.&amp;lt;init&amp;gt;(PropsMgrMainOSGI.java:102)&lt;br/&gt;
        ... 13 more&lt;br/&gt;
Caused by: org.apache.commons.configuration.ConfigurationRuntimeException: java.lang.IllegalArgumentException: Cannot invoke org.apa&lt;br/&gt;
che.commons.configuration.HierarchicalConfiguration.setExpressionEngine on bean class &apos;class org.apache.commons.configuration.XMLCon&lt;br/&gt;
figuration&apos; - argument type mismatch - had objects of type &quot;org.apache.commons.configuration.tree.xpath.XPathExpressionEngine&quot; but e&lt;br/&gt;
xpected signature &quot;org.apache.commons.configuration.tree.ExpressionEngine&quot;&lt;br/&gt;
        at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:252)&lt;br/&gt;
        at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:269)&lt;br/&gt;
        at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:283)&lt;br/&gt;
        at org.apache.commons.configuration.DefaultConfigurationBuilder.createConfigurationAt(DefaultConfigurationBuilder.java:747)&lt;br/&gt;
        ... 16 more&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: Cannot invoke org.apache.commons.configuration.HierarchicalConfiguration.setExpressio&lt;br/&gt;
nEngine on bean class &apos;class org.apache.commons.configuration.XMLConfiguration&apos; - argument type mismatch - had objects of type &quot;org.&lt;br/&gt;
apache.commons.configuration.tree.xpath.XPathExpressionEngine&quot; but expected signature &quot;org.apache.commons.configuration.tree.Express&lt;br/&gt;
ionEngine&quot;&lt;br/&gt;
===&lt;/p&gt;

&lt;p&gt;Since XPathExpressionEngine implements ExpressionEngine, this looks like a reflection bug to me i.e. not finding a method with a signature for implemented interfaces as opposed to just subclasses.&lt;/p&gt;


&lt;p&gt;Not sure if this is OSGi / Felix classloading related, but don&apos;t think so&lt;/p&gt;</description>
                <environment>&lt;p&gt;OSGi / Felix&lt;/p&gt;</environment>
        <key id="12414938">CONFIGURATION-365</key>
            <summary>Bean handling not allowing an XPathExpressionEngine</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="walkerr">Rob Walker</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Feb 2009 11:04:20 +0000</created>
                <updated>Wed, 22 Apr 2009 00:18:18 +0000</updated>
                            <resolved>Wed, 22 Apr 2009 00:18:18 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12674345" author="oliver.heger@t-online.de" created="Tue, 17 Feb 2009 20:10:42 +0000"  >&lt;p&gt;We have unit tests that do similar things. For instance, in &lt;tt&gt;TestDefaultConfigurationBuilder&lt;/tt&gt; we have a test that reads a complex configuration file containing the following declaration:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;ISO-8859-1&quot;&lt;/span&gt; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- Test configuration definition file that demonstrates complex initialization --&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;header&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;result delimiterParsingDisabled=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;nodeCombiner config-class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.commons.configuration.tree.OverrideCombiner&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;expressionEngine config-class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.commons.configuration.tree.xpath.XPathExpressionEngine&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;combiner&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;override&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;list-nodes&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;node&amp;gt;&lt;/span&gt;table&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/node&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;node&amp;gt;&lt;/span&gt;list&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/node&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/list-nodes&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/override&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/combiner&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/header&amp;gt;&lt;/span&gt;
  ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can you check the code in a normal environment to make sure that the problem is not related to OSGi and class loading issues?&lt;/p&gt;</comment>
                            <comment id="12701328" author="ralph.goers@dslextreme.com" created="Wed, 22 Apr 2009 00:18:18 +0000"  >&lt;p&gt;Please provide more information on how to reproduce this problem. As noted, there are unit tests that test this exact scenario that pass.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Feb 2009 20:10:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110849</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170183</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-362] XMLPropertyListConfiguration doesn&apos;t handle empty dictionary correctly</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-362</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Empty &quot;dict&quot; elements are not handled properly.   During printing of a configuration, configuration nodes that have no children and no value are assumed to be &quot;strings&quot; (see XMLPropertyListConfiguration.java:printValue()&apos;s last &quot;else&quot; clause).   &amp;lt;dict/&amp;gt; is parsed in such a way (see startElement() and endElement() of that same file) that it ends up creating a configuration node with no children and no value.  Thus printing out a parsed property list will print &amp;lt;string&amp;gt;null&amp;lt;/string&amp;gt; everywhere an empty dictionary was in the input.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OS X 10.5.6  JDK 1.5&lt;/p&gt;</environment>
        <key id="12413825">CONFIGURATION-362</key>
            <summary>XMLPropertyListConfiguration doesn&apos;t handle empty dictionary correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ebourg">Emmanuel Bourg</assignee>
                                    <reporter username="travellingman">Kent McPhee</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Feb 2009 23:25:52 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:14 +0000</updated>
                            <resolved>Sun, 21 Jun 2009 17:38:14 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12669799" author="travellingman" created="Mon, 2 Feb 2009 23:32:02 +0000"  >&lt;p&gt;Suggestion for a quick fix is to change the assumption that no value and no children means empty dict, not a string.&lt;/p&gt;

&lt;p&gt;Longer term it would probably be best to make a PListNode subclass for &amp;lt;dict&amp;gt; elements similar to the ArrayNode for &amp;lt;array&amp;gt; elements.  Or perhaps use a Map in some clever way as I see that there is support for Map objects in printValue() already.&lt;/p&gt;

&lt;p&gt;Anyone with more familiarity with the code and the types of input it has to deal with care to comment?&lt;/p&gt;</comment>
                            <comment id="12671489" author="oliver.heger@t-online.de" created="Sat, 7 Feb 2009 16:51:05 +0000"  >&lt;p&gt;The author of XMLPropertyListConfiguration is currently not active on the mailing list, but hopefully he will join again. So I would recommend giving him some time to comment.&lt;/p&gt;

&lt;p&gt;Unfortunately I do not use this class and have no knowledge of the plist format, so I won&apos;t be of great help in solving this problem.&lt;/p&gt;</comment>
                            <comment id="12721767" author="ebourg" created="Fri, 19 Jun 2009 12:35:17 +0000"  >&lt;p&gt;I got a look at the issue, it doesn&apos;t seem specific to the dict element. I observed the same behavior with &amp;lt;date/&amp;gt;. The &amp;lt;data/&amp;gt; and &amp;lt;array/&amp;gt; elements are ok, but &amp;lt;real/&amp;gt; and &amp;lt;integer/&amp;gt; cause an exception.&lt;/p&gt;

&lt;p&gt;I think the solution is to save the type of the data in the PListNode when the configuration is parsed, and use this type to determine how to format the value when it&apos;s null.&lt;/p&gt;</comment>
                            <comment id="12721771" author="ebourg" created="Fri, 19 Jun 2009 12:50:37 +0000"  >&lt;p&gt;Also, &amp;lt;string/&amp;gt; is turned into &amp;lt;string&amp;gt;&amp;lt;/string&amp;gt;, which is incorrect.&lt;/p&gt;</comment>
                            <comment id="12721779" author="ebourg" created="Fri, 19 Jun 2009 13:21:20 +0000"  >&lt;p&gt;Actually the issue with the string element can&apos;t be fixed. The XML parser can&apos;t make the difference between &amp;lt;string/&amp;gt; and &amp;lt;string&amp;gt;&amp;lt;/string&amp;gt; unless we play with the xsi:nil attribute. We have to assume it&apos;s either a null string or an empty string. I&apos;ll stick to the later.&lt;/p&gt;</comment>
                            <comment id="12722389" author="ebourg" created="Sun, 21 Jun 2009 17:38:03 +0000"  >&lt;p&gt;I fixed the issue for the dictionary, there was also a similar issue with the non XML plist configuration. I haven&apos;t found an elegant solution to solve the issue with the empty date, the best I could do was to turn it into &amp;lt;string/&amp;gt; instead of &amp;lt;string&amp;gt;null&amp;lt;/string&amp;gt;. Empty real and integer are just errors, so I&apos;ll not change the exception.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 7 Feb 2009 16:51:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uopr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177145</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-361] MultiFileHierarchicalConfiguration does not create url correctly and should be able to ignore missing files.</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-361</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;1. MultiFileHierarchicalConfiguration does not incorporate the basepath when creating the file url.&lt;br/&gt;
2. If the file pattern results in a non-existent file an exception is thrown. When used in conjunction with another file in a DynamicCombinedConfiguration however, an exception should not be thrown. Instead an empty configuration should be used. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12413219">CONFIGURATION-361</key>
            <summary>MultiFileHierarchicalConfiguration does not create url correctly and should be able to ignore missing files.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="rgoers">Ralph Goers</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Jan 2009 06:57:32 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:12 +0000</updated>
                            <resolved>Mon, 23 Mar 2009 18:02:30 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12688357" author="ralph.goers@dslextreme.com" created="Mon, 23 Mar 2009 18:02:30 +0000"  >&lt;p&gt;The fix was committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6a7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121668</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-359] Links to the API in the user&apos;s guide are broken</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-359</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;A while ago the documents the user&apos;s guide consists of were moved into a sub folder. Unfortunately the links to classes in the API documentation (which are relative) have not been adapted, so they are invalid now.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12412125">CONFIGURATION-359</key>
            <summary>Links to the API in the user&apos;s guide are broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 Jan 2009 20:25:02 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:10 +0000</updated>
                            <resolved>Sat, 10 Jan 2009 20:54:26 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12662694" author="oliver.heger@t-online.de" created="Sat, 10 Jan 2009 20:54:26 +0000"  >&lt;p&gt;A fix was applied to both trunk and configuration2 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61953</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lo13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124543</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-358] subset returned from HierarchicalINIConfiguration has unexpected property names</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-358</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;With the following ini file&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;comment&lt;br/&gt;
property.1 = g1&lt;br/&gt;
property.2 : g2&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;section&amp;#93;&lt;/span&gt;&lt;br/&gt;
property.1 = l1&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;HierarchicalINIConfiguration properly creates two sections: null and &quot;section&quot;.  However, the subsets from this configuration do not have the expected property names.&lt;/p&gt;

&lt;p&gt;The global subset contains the following name=value pairs:&lt;br/&gt;
property..1=g1&lt;br/&gt;
property..2=g2&lt;br/&gt;
section.property..1=l1&lt;/p&gt;

&lt;p&gt;The &quot;section&quot; subset contains the following name=value pairs:&lt;br/&gt;
property..1=g1&lt;/p&gt;

&lt;p&gt;I expected the global subset to contain:&lt;br/&gt;
property.1=g1&lt;br/&gt;
property.2=g2&lt;/p&gt;

&lt;p&gt;I expected the &quot;section&quot; subset to contain:&lt;br/&gt;
property.1 = l1&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12411882">CONFIGURATION-358</key>
            <summary>subset returned from HierarchicalINIConfiguration has unexpected property names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="chonton">Charles Honton</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jan 2009 19:32:57 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:15 +0000</updated>
                            <resolved>Sat, 10 Jan 2009 20:22:19 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Documentation</component>
                    <component>Format</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12661674" author="charles_honton@intuit.com" created="Wed, 7 Jan 2009 19:34:54 +0000"  >&lt;p&gt;JUnit test&lt;/p&gt;</comment>
                            <comment id="12661862" author="oliver.heger@t-online.de" created="Thu, 8 Jan 2009 07:01:49 +0000"  >&lt;p&gt;I think, what you observe here is standard behavior of hierarchical configurations:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The dot character in &lt;tt&gt;property.1&lt;/tt&gt; has a special meaning as property delimiter for the expression engine used per default by &lt;tt&gt;HierarchicalINIConfiguration&lt;/tt&gt;, so it is automatically escaped by duplicating it. This is explained in the &lt;a href=&quot;http://commons.apache.org/configuration/userguide/howto_xml.html#Escaping_dot_characters_in_XML_tags&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;User Guide&lt;/a&gt;. If you do not want to use escaping, you can set an &lt;tt&gt;ExpressionEngine&lt;/tt&gt; that is configured to use a different property delimiter. An example of how to do this can be found &lt;a href=&quot;http://commons.apache.org/configuration/userguide/howto_xml.html#The_default_expression_engine&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
	&lt;li&gt;The &lt;tt&gt;subset()&lt;/tt&gt; method does not what you want when you need to access the global section. Invoking &lt;tt&gt;subset(null)&lt;/tt&gt; returns a configuration that contains all properties below the key &lt;b&gt;null&lt;/b&gt;, which denotes the root node - i.e. all properties of the original configuration. Use the &lt;tt&gt;getSection()&lt;/tt&gt; method instead. &lt;tt&gt;getSection(null)&lt;/tt&gt; should return only the properties of the global section and no more.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;These are subtle differences between &lt;tt&gt;INIConfiguration&lt;/tt&gt; and &lt;tt&gt;HierarchicalINIConfiguration&lt;/tt&gt; caused by the fact that the latter is derived from &lt;tt&gt;HierarchicalConfiguration&lt;/tt&gt;. But I don&apos;t think these are bugs. Maybe some hints in the documentation could be added?&lt;/p&gt;</comment>
                            <comment id="12661986" author="charles_honton@intuit.com" created="Thu, 8 Jan 2009 15:04:58 +0000"  >&lt;p&gt;Updated test to use getSection() instead of subset()&lt;/p&gt;</comment>
                            <comment id="12661999" author="charles_honton@intuit.com" created="Thu, 8 Jan 2009 15:21:06 +0000"  >&lt;p&gt;The dot escaping documentation is buried in a section about XML tags - not INI files.  As you said, more hints required.&lt;/p&gt;

&lt;p&gt;A bigger question to me is why the dot escaping is required at all.  It appears to be an implementation relic of property file parsing.  I finally got the results I wanted with &lt;/p&gt;

&lt;p&gt;			DefaultExpressionEngine expressionEngine = new DefaultExpressionEngine();&lt;br/&gt;
			expressionEngine.setPropertyDelimiter(&quot;\000&quot;);&lt;/p&gt;

&lt;p&gt;			HierarchicalINIConfiguration rc= new HierarchicalINIConfiguration();&lt;br/&gt;
			rc.setExpressionEngine(expressionEngine);&lt;/p&gt;

&lt;p&gt;An aside, how about a method on the ExpressionEngine to turn off property delimiting?&lt;/p&gt;</comment>
                            <comment id="12662001" author="charles_honton@intuit.com" created="Thu, 8 Jan 2009 15:21:55 +0000"  >&lt;p&gt;Working test with property delimiter set.&lt;/p&gt;</comment>
                            <comment id="12662257" author="oliver.heger@t-online.de" created="Fri, 9 Jan 2009 07:06:45 +0000"  >&lt;p&gt;You are right that the dot is used as property delimiter for historic reasons. When XML configurations were introduced it was decided to use the dot as delimiter between XML element names to resemble the way properties files are typically constructed. Now it became a standard for hierarchical configurations, and we probably have to stick with it.&lt;/p&gt;

&lt;p&gt;I don&apos;t know whether it makes sense to disable parsing of the property delimiter in an ExpressionEngine. This is a central part of what an expression engine does. And it restricts using of a hierarchical configuration dramatically. For instance, using a hierarchical INI configuration you still want to access single properties with a key like &lt;tt&gt;section.property&lt;/tt&gt;. You could not do that if property delimiters are not recognized. So changing the property delimiter to a character that is not contained in the keys makes sense to me, but not disabling it at all.&lt;/p&gt;

&lt;p&gt;I agree that the documentation about the escaping syntax is hidden in the XML section. If we restructure it to apply to all hierarchical configurations, can we then close this ticket?&lt;/p&gt;</comment>
                            <comment id="12662368" author="charles_honton@intuit.com" created="Fri, 9 Jan 2009 13:49:55 +0000"  >&lt;p&gt;yes, thanks.&lt;/p&gt;</comment>
                            <comment id="12662688" author="oliver.heger@t-online.de" created="Sat, 10 Jan 2009 20:22:19 +0000"  >&lt;p&gt;Some head lines in the user&apos;s guide were changed and the wording was altered to make it more explicit that features described for &lt;tt&gt;XMLConfiguration&lt;/tt&gt; apply to other hierarchical configuration implementations as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397429" name="TestHierarchicalINIConfiguration.java" size="3692" author="chonton" created="Thu, 8 Jan 2009 15:21:55 +0000"/>
                            <attachment id="12397427" name="TestHierarchicalINIConfiguration.java" size="3444" author="chonton" created="Thu, 8 Jan 2009 15:04:58 +0000"/>
                            <attachment id="12397319" name="TestHierarchicalINIConfiguration.java" size="3501" author="chonton" created="Wed, 7 Jan 2009 19:34:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Jan 2009 07:01:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33908</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uor3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177151</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-357] ConversionException message is incorrect for AbstractConfiguration.getBigInteger(String,BigInteger)</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-357</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The message in the ConfigurationException thrown from AbstractConfiguration.getBigInteger(String,BigInteger) reads &quot;BigDecimal&quot; but should read &quot;BigInteger&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411481">CONFIGURATION-357</key>
            <summary>ConversionException message is incorrect for AbstractConfiguration.getBigInteger(String,BigInteger)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="swwyatt">Steven Wyatt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Dec 2008 17:19:05 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:15 +0000</updated>
                            <resolved>Fri, 2 Jan 2009 16:47:15 +0000</resolved>
                                    <version>1.5</version>
                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Type conversion</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12660343" author="oliver.heger@t-online.de" created="Fri, 2 Jan 2009 16:47:15 +0000"  >&lt;p&gt;A fix was applied to both trunk and the configuration2 branch. The error message should now be correct.&lt;/p&gt;

&lt;p&gt;Thank you for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Jan 2009 16:47:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61938</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-354] XML configuration handles non-default list delimiter bad way</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-354</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When setting the list separator character the XML configuration engine does not handle the lists properly. Sample code:&lt;/p&gt;

&lt;p&gt;Junit test code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testConfig() {
        CompositeConfiguration conf = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            conf = (CompositeConfiguration) &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ConfigurationFactory(&lt;span class=&quot;code-quote&quot;&gt;&quot;config.xml&quot;&lt;/span&gt;).getConfiguration();
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ConfigurationException ex) {
            Logger.getLogger(TestConfig.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getName()).log(Level.SEVERE, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, ex);
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
        }
        PrintStream o = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out;
        conf.setListDelimiter(conf.getString(&lt;span class=&quot;code-quote&quot;&gt;&quot;list.delimiter&quot;&lt;/span&gt;).charAt(0));
        o.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;c=&quot;&lt;/span&gt; + conf.getString(&lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;));
        o.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;x=&quot;&lt;/span&gt;+conf.getString(&lt;span class=&quot;code-quote&quot;&gt;&quot;key.subkey(1)&quot;&lt;/span&gt;));
        o.print(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;java.version&quot;&lt;/span&gt;));
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The config.xml contains&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;configuration&amp;gt;
  &amp;lt;xml fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;application.xml&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and finally the application.xml is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;windows-1250&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;konfig&amp;gt;
    &amp;lt;list&amp;gt;&amp;lt;delimiter&amp;gt;\,&amp;lt;/delimiter&amp;gt;&amp;lt;/list&amp;gt;
    &amp;lt;key&amp;gt;
        &amp;lt;subkey&amp;gt;one,two,three&amp;lt;/subkey&amp;gt;
        &amp;lt;subkey &amp;gt;four&amp;lt;/subkey&amp;gt;
    &amp;lt;/key&amp;gt;
    &amp;lt;c&amp;gt;${key.subkey(1)}&amp;lt;/c&amp;gt;
&amp;lt;/konfig&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The resulting output is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;c=two
x=two
1.6.0_07
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is correct so far. This is the case when I comment out the &lt;tt&gt;setListDelimiter&lt;/tt&gt; code line. After this I change the application.xml to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;windows-1250&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;konfig&amp;gt;
    &amp;lt;list&amp;gt;&amp;lt;delimiter&amp;gt;;&amp;lt;/delimiter&amp;gt;&amp;lt;/list&amp;gt;
    &amp;lt;key&amp;gt;
        &amp;lt;subkey&amp;gt;one;two;three&amp;lt;/subkey&amp;gt;
        &amp;lt;subkey &amp;gt;four&amp;lt;/subkey&amp;gt;
    &amp;lt;/key&amp;gt;
    &amp;lt;c&amp;gt;${key.subkey(1)}&amp;lt;/c&amp;gt;
&amp;lt;/konfig&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;even though I expect the same result what I got was:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;c=four
x=four
1.6.0_07
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Do I miss some point or &lt;tt&gt;setListDelimiter&lt;/tt&gt; does not work for XML files?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP Home edition, Java 1.6.0_07&lt;/p&gt;</environment>
        <key id="12411112">CONFIGURATION-354</key>
            <summary>XML configuration handles non-default list delimiter bad way</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="verhas">Peter Verhas</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Dec 2008 12:17:09 +0000</created>
                <updated>Sun, 21 Dec 2008 17:28:08 +0000</updated>
                            <resolved>Sun, 21 Dec 2008 17:28:08 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12658399" author="oliver.heger@t-online.de" created="Sun, 21 Dec 2008 16:59:18 +0000"  >&lt;p&gt;The handling of list delimiters is always a source of problems and confusion.&lt;/p&gt;

&lt;p&gt;However, in this case it really works as designed. The problem is that you call &lt;tt&gt;setListDelimiter()&lt;/tt&gt; &lt;b&gt;after&lt;/b&gt; loading the configuration. Citing the Javadocs of &lt;tt&gt;setListDelimiter()&lt;/tt&gt;:&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Change the list delimiter for this configuration. Note: this change will only be effective for new parsings. If you want it to take effect for all loaded properties use the no arg constructor and call this method before setting the source.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;In your case this means you have to specify the list delimiter before the configuration is actually loaded by the configuration factory. This can be done in &lt;tt&gt;config.xml&lt;/tt&gt; by specifying an additional attribute for the &lt;tt&gt;&amp;lt;xml&amp;gt;&lt;/tt&gt; element:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &amp;lt;xml fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;application.xml&quot;&lt;/span&gt; listDelimiter=&lt;span class=&quot;code-quote&quot;&gt;&quot;;&quot;&lt;/span&gt;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(Note: I have not tried this out for &lt;tt&gt;ConfigurationFactory&lt;/tt&gt;, but it will work using &lt;tt&gt;DefaultConfigurationBuilder&lt;/tt&gt;. It is recommended to use the latter class; its API is almost identical to &lt;tt&gt;ConfigurationFactory&lt;/tt&gt;, but it provides many more features.)&lt;/p&gt;

&lt;p&gt;You first experiment works because with &quot;,&quot; you are using the default list delimiter. So the call to &lt;tt&gt;setListDelimiter()&lt;/tt&gt; does not change anything.&lt;/p&gt;</comment>
                            <comment id="12658401" author="verhas" created="Sun, 21 Dec 2008 17:28:08 +0000"  >&lt;p&gt;I tried to modify the &lt;tt&gt;config.xml&lt;/tt&gt; file as you pointed and it works fine. This also means that now I did try it out for &lt;tt&gt;ConfigurationFactory&lt;/tt&gt;. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I was not aware that &lt;tt&gt;config.txt&lt;/tt&gt; may also define the list delimiter.&lt;/p&gt;

&lt;p&gt;As for my case this is a very good practice. I am developing company policy regarding the use of commons config and I will discourage to use list inside XML configuration. This means that listDelimiter will be set to something like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;configuration&amp;gt;
  &amp;lt;xml fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;application.xml&quot;&lt;/span&gt; listDelimiter=&lt;span class=&quot;code-quote&quot;&gt;&quot;\u0000&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which will prevent to interpret any probable character as list delimiter.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Peter&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 21 Dec 2008 16:59:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33945</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uq0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-349] XMLConfigurationProvider cannot create a class that extends XMLConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-349</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;XMLConfigurationProvider in DefaultConfigurationBuilder has default scope. When configuring a new ConfigurationProvider to use a class that extends XMLConfiguration an Exception is raised because the setConfigurationClass method cannot be called from the bean utility classes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12408133">CONFIGURATION-349</key>
            <summary>XMLConfigurationProvider cannot create a class that extends XMLConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="rgoers">Ralph Goers</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Nov 2008 08:27:54 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:54 +0000</updated>
                            <resolved>Tue, 11 Nov 2008 21:25:39 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12646200" author="ralph.goers@dslextreme.com" created="Mon, 10 Nov 2008 08:29:38 +0000"  >&lt;p&gt;The attached patch provides a unit test for the problem as well as the fix.&lt;/p&gt;</comment>
                            <comment id="12646668" author="oliver.heger@t-online.de" created="Tue, 11 Nov 2008 21:25:39 +0000"  >&lt;p&gt;Patch applied in revision 713166. Many thanks.&lt;/p&gt;

&lt;p&gt;Note: I was unable to port this patch to the configuration2 branch because the new type converters cannot deal with conversions to Class objects. We will have to port this later if necessary.&lt;/p&gt;</comment>
                            <comment id="12646688" author="ralph.goers@dslextreme.com" created="Tue, 11 Nov 2008 22:08:08 +0000"  >&lt;p&gt;Thanks. I will take a look at what to do on the configuration2 branch.&lt;/p&gt;</comment>
                            <comment id="12647062" author="oliver.heger@t-online.de" created="Wed, 12 Nov 2008 20:54:30 +0000"  >&lt;p&gt;In this branch the dependency to commons-beanutils was dropped and replaced by an own converter framework (in the &lt;tt&gt;converter&lt;/tt&gt; package). Obviously these converters are not yet as powerful as the ones of beanutils were. In this special case a converter for Class objects is missing.&lt;/p&gt;

&lt;p&gt;But maybe we should create a new ticket for this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12393620" name="extended.txt" size="4392" author="rgoers" created="Mon, 10 Nov 2008 08:29:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Nov 2008 21:25:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33883</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-348] AbstractHierarchicalFileConfiguration does not trigger a reload for the getKeys() method</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-348</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;In &lt;tt&gt;getKeys()&lt;/tt&gt; the obligatory call to &lt;tt&gt;reload()&lt;/tt&gt; was forgotten.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12408070">CONFIGURATION-348</key>
            <summary>AbstractHierarchicalFileConfiguration does not trigger a reload for the getKeys() method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 8 Nov 2008 16:29:36 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:54 +0000</updated>
                            <resolved>Sat, 8 Nov 2008 16:39:13 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>File reloading</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12645994" author="oliver.heger@t-online.de" created="Sat, 8 Nov 2008 16:39:13 +0000"  >&lt;p&gt;A fix was applied in revision 712405.&lt;/p&gt;

&lt;p&gt;AbstractHierarchicalFileConfiguration now overrides &lt;tt&gt;getKeys()&lt;/tt&gt; to perform the reload check.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 46 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l78v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121824</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-347] Iterating over the keys of a file-based configuration can cause a ConcurrentModificationException</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-347</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Some implementations of FileConfiguration return an iterator in their &lt;tt&gt;getKeys()&lt;/tt&gt; method that is directly connected to the underlying data store. When now a reload is performed (which can happen at any time) the data store is modified, and the iterator becomes invalid.&lt;/p&gt;

&lt;p&gt;This behavior is very confusing because ConcurrentModificationExceptions are typically related to multi-threading access. But even if the code performing the iteration is the only instance that accesses the configuration, the exception can be thrown.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407892">CONFIGURATION-347</key>
            <summary>Iterating over the keys of a file-based configuration can cause a ConcurrentModificationException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Nov 2008 21:06:22 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:54 +0000</updated>
                            <resolved>Thu, 6 Nov 2008 07:29:11 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>File reloading</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12645416" author="oliver.heger@t-online.de" created="Thu, 6 Nov 2008 07:29:11 +0000"  >&lt;p&gt;AbstractFileConfiguration.getKeys() now creates a snapshot of the keys contained in the configuration when the method is called. Then an iterator of this snapshot is returned. This avoids ConcurrentModificationExceptions.&lt;/p&gt;

&lt;p&gt;Clients should be aware that changes made at the configuration (including those caused by reload operations) are not reflected by the iterator. The Javadocs of AbstractFileConfiguration.getKeys() has been updated correspondingly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uprb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-346] ConfigurationUtils.convertToHierarchical() does not correctly handle properties with multiple values</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-346</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;If a property has multiple values, the resulting hierarchical configuration will contain a node whose value is a list with these values. There should, however, be a single node for each value. Some queries, especially those containing indices, do not work on such structures.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407732">CONFIGURATION-346</key>
            <summary>ConfigurationUtils.convertToHierarchical() does not correctly handle properties with multiple values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Nov 2008 20:51:22 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:54 +0000</updated>
                            <resolved>Mon, 3 Nov 2008 21:12:09 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12644808" author="oliver.heger@t-online.de" created="Mon, 3 Nov 2008 21:12:09 +0000"  >&lt;p&gt;Fixed in revision 710159.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l5tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121595</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-345] PropertiesConfiguration does not use the default encoding to load files</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-345</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The piece of code&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;PropertiesConfiguration.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-comment&quot;&gt;// initialization block to set the encoding before loading the file in the constructors
&lt;/span&gt;    {
        setEncoding(DEFAULT_ENCODING);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;seems to set correctly the default encoding, but this block is called after &quot;super()&quot; in constructors.&lt;/p&gt;

&lt;p&gt;So when using either PropertiesConfiguration(java.io.File file), PropertiesConfiguration(java.lang.String fileName) or PropertiesConfiguration(java.net.URL url), the super() statement is called, and it loads the file without the default encoding.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Win XP / Sun JVM 1.5.0_14&lt;/p&gt;</environment>
        <key id="12407694">CONFIGURATION-345</key>
            <summary>PropertiesConfiguration does not use the default encoding to load files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="gdarmont">Guillaume Darmont</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Nov 2008 10:45:49 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:54 +0000</updated>
                            <resolved>Sat, 8 Nov 2008 21:17:02 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12644688" author="joehni" created="Mon, 3 Nov 2008 11:05:05 +0000"  >&lt;p&gt;Well, Java does not really support a special encoding for a property file. According the spec &lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/api/java/util/Properties.html#store(java.io.OutputStream,%20java.lang.String&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/j2se/1.5.0/docs/api/java/util/Properties.html#store(java.io.OutputStream,%20java.lang.String&lt;/a&gt;) a property file is always in ISO-8859-1 encoding.&lt;/p&gt;</comment>
                            <comment id="12644692" author="gdarmont" created="Mon, 3 Nov 2008 11:28:29 +0000"  >&lt;p&gt;That&apos;s exactly the point.&lt;br/&gt;
If I have an ISO-8859-1 properties file (as it must be) but the current JVM default encoding is UTF-8, the 3 constructors above will use UTF-8 since they call the load() method (&lt;em&gt;via&lt;/em&gt; super(...)) &lt;b&gt;before&lt;/b&gt; the block setEncoding(DEFAULT_ENCODING).&lt;/p&gt;

&lt;p&gt;I&apos;m not used to work with initialization block so I checked the behavior using the debugger to understand why the &quot;setEncoding(DEFAULT_ENCODING)&quot; wasn&apos;t called before &quot;load()&quot;.&lt;/p&gt;

&lt;p&gt;Hope this helps.&lt;/p&gt;</comment>
                            <comment id="12646031" author="oliver.heger@t-online.de" created="Sat, 8 Nov 2008 21:17:02 +0000"  >&lt;p&gt;A fix was applied in revision 712431 (and also ported to the configuration2 branch).&lt;/p&gt;

&lt;p&gt;Hm, in &quot;Effective Java&quot; (&lt;a href=&quot;http://java.sun.com/docs/books/effective/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/docs/books/effective/&lt;/a&gt;) Joshua Bloch advises against calling protected non-final methods in constructors. Here we see why.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 3 Nov 2008 11:05:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33944</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 46 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-344] Deadlock during refresh properties</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-344</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hi&lt;br/&gt;
Commons configurations get itself stuck in deadlock when refreshing&lt;br/&gt;
properties using Managed reloading strategy. It seems to me it get stuck&lt;br/&gt;
because of fireEvent in reload method. Another access grabs lock on&lt;br/&gt;
synchronized (getNodeCombiner()) when trying to rebuild but Combined&lt;br/&gt;
configuration is one of the listeners for event es well and it gets&lt;br/&gt;
stuck when processing invalidate. Can anyone suggest quick fix please?&lt;br/&gt;
Relevant information follows.&lt;br/&gt;
Thanks&lt;br/&gt;
Pavel&lt;/p&gt;

&lt;p&gt;Configuration:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt; 
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;override&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;system/&amp;gt;&lt;/span&gt;    
    &amp;lt;properties fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;gsxweb.properties&quot;&lt;/span&gt; throwExceptionOnMissing=&lt;span class=&quot;code-quote&quot;&gt;&quot;false&quot;&lt;/span&gt;
       config-name=&lt;span class=&quot;code-quote&quot;&gt;&quot;gsxweb&quot;&lt;/span&gt; config-optional=&lt;span class=&quot;code-quote&quot;&gt;&quot;false&quot;&lt;/span&gt; listDelimiter=&lt;span class=&quot;code-quote&quot;&gt;&quot;|&quot;&lt;/span&gt;&amp;gt;
       &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;reloadingStrategy config-class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.commons.configuration.reloading.ManagedReloadingStrategy&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;      
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;    
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/override&amp;gt;&lt;/span&gt; 
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Our Reload code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; ln = combinedConfiguration.getNumberOfConfigurations();
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; reloaded = 0;
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; ln; i++) {
            Configuration conf = combinedConfiguration.getConfiguration(i);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (conf &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; PropertiesConfiguration) {
                ManagedReloadingStrategy strat = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
                ReloadingStrategy strategy = ((PropertiesConfiguration) conf).getReloadingStrategy();
                &lt;span class=&quot;code-comment&quot;&gt;//refresh &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; managed strategy
&lt;/span&gt;                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (strategy &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ManagedReloadingStrategy) {
                    ((ManagedReloadingStrategy) strategy).refresh();
                &lt;span class=&quot;code-comment&quot;&gt;//reload &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; file changed strategy    
&lt;/span&gt;                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (strategy &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; FileChangedReloadingStrategy) {                    
                    ((PropertiesConfiguration) conf).reload();
                }
                reloaded++;
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Stack trace of deadlock threads
Name: http-10980-1
State: BLOCKED on
org.apache.commons.configuration.tree.OverrideCombiner@8511bb owned by:
http-10980-6
Total blocked: 154  Total waited: 2

Stack trace: 
org.apache.commons.configuration.CombinedConfiguration.invalidate(CombinedConfiguration.java:474)
org.apache.commons.configuration.CombinedConfiguration.configurationChanged(CombinedConfiguration.java:488)
org.apache.commons.configuration.event.EventSource.fireEvent(EventSource.java:249)
org.apache.commons.configuration.AbstractFileConfiguration.fireEvent(AbstractFileConfiguration.java:911)
org.apache.commons.configuration.AbstractFileConfiguration.reload(AbstractFileConfiguration.java:828)
   - locked java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@127e34c
org.apache.commons.configuration.AbstractFileConfiguration.isEmpty(AbstractFileConfiguration.java:927)
org.apache.commons.configuration.reloading.ManagedReloadingStrategy.refresh(ManagedReloadingStrategy.java:91)
com.gsx.properties.PropertyProviderImpl.reset(PropertyProviderImpl.java:203)
   - locked java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;@109bcda
org.apache.jsp.test.testPropertyProvider_jsp._jspService(testPropertyProvider_jsp.java:60)
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)


Name: http-10980-6
State: BLOCKED on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@127e34c owned by: http-10980-1
Total blocked: 115  Total waited: 2

Stack trace: 
org.apache.commons.configuration.AbstractFileConfiguration.reload(AbstractFileConfiguration.java:814)
org.apache.commons.configuration.AbstractFileConfiguration.getKeys(AbstractFileConfiguration.java:939)
org.apache.commons.configuration.ConfigurationUtils.copy(ConfigurationUtils.java:139)
org.apache.commons.configuration.ConfigurationUtils.convertToHierarchical(ConfigurationUtils.java:199)
org.apache.commons.configuration.CombinedConfiguration
$ConfigData.getTransformedRoot(CombinedConfiguration.java:794)
org.apache.commons.configuration.CombinedConfiguration.constructCombinedNode(CombinedConfiguration.java:653)
org.apache.commons.configuration.CombinedConfiguration.getRootNode(CombinedConfiguration.java:504)
   - locked
org.apache.commons.configuration.tree.OverrideCombiner@8511bb
org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:925)
org.apache.commons.configuration.HierarchicalConfiguration.getProperty(HierarchicalConfiguration.java:327)
org.apache.commons.configuration.CombinedConfiguration.getProperty(CombinedConfiguration.java:578)
org.apache.commons.configuration.AbstractConfiguration.resolveContainerStore(AbstractConfiguration.java:1155)
org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1034)
org.apache.jsp.test.testPropertyProvider_jsp._jspService(testPropertyProvider_jsp.java:69)
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12407513">CONFIGURATION-344</key>
            <summary>Deadlock during refresh properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="palko">Pavel Savara</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Oct 2008 11:46:39 +0000</created>
                <updated>Sat, 26 Sep 2009 14:52:35 +0000</updated>
                            <resolved>Sat, 8 Nov 2008 15:53:53 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>Events &amp;amp; Notifications</component>
                    <component>File reloading</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12643957" author="palko" created="Thu, 30 Oct 2008 12:49:21 +0000"  >&lt;p&gt;Here is my quick dirty fix, &lt;br/&gt;
Because getNodeCombiner() is public method i can grab lock in my code first before try to do reloading.&lt;/p&gt;

&lt;p&gt;synchronized (combinedConfiguration.getNodeCombiner()){&lt;br/&gt;
 //do the reloading &lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;It means locks are grabbed always in the same order so deadlock can&apos;t happen.&lt;/p&gt;

&lt;p&gt;Best &lt;br/&gt;
Pavel&lt;/p&gt;</comment>
                            <comment id="12645329" author="oliver.heger@t-online.de" created="Wed, 5 Nov 2008 21:28:42 +0000"  >&lt;p&gt;This is indeed a classic deadlock scenario. I can reproduce the problem with a unit test.&lt;/p&gt;

&lt;p&gt;While testing I found another problem related to reloading strategies. I created &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-347&quot; title=&quot;Iterating over the keys of a file-based configuration can cause a ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-347&quot;&gt;&lt;del&gt;CONFIGURATION-347&lt;/del&gt;&lt;/a&gt; for this issue.&lt;/p&gt;</comment>
                            <comment id="12645991" author="oliver.heger@t-online.de" created="Sat, 8 Nov 2008 15:53:53 +0000"  >&lt;p&gt;A fix was applied to trunk in revision 712401.&lt;/p&gt;

&lt;p&gt;So far, accessing the root node of the combined configuration was synchronized because it had to be re-constructed if something had changed. This fix removes this synchronization and - to ensure proper visibility - adds the &lt;b&gt;volatile&lt;/b&gt; modifier to the root node field. If now multiple threads want to access the combined configuration, there may be a race condition causing the root node to be constructed multiple times. However, this does not impact the results of queries or have other undesired side effects.&lt;/p&gt;

&lt;p&gt;When testing I found out that reloading operations are indeed problematic when multiple threads are involved. The unit test case uses a synthetic reloading strategy that forces a reload on every access. &lt;tt&gt;AbstractFileConfiguration&lt;/tt&gt; overrides all access methods to ensure that &lt;tt&gt;reload()&lt;/tt&gt; is invoked as in the following example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getProperty(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key)
    {
        reload();
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.getProperty(key);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If there are multiple concurrent reloads or property accesses in sequence - as in the test I created -, the following race condition can happen:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;One thread executes &lt;tt&gt;reload()&lt;/tt&gt; and then is going to enter &lt;tt&gt;getProperty()&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;Another thread wants to read a property and enters &lt;tt&gt;reload()&lt;/tt&gt;. Because &lt;tt&gt;reload()&lt;/tt&gt; is guarded by a lock, the thread has to wait.&lt;/li&gt;
	&lt;li&gt;As soon as the first thread leaves &lt;tt&gt;reload()&lt;/tt&gt; the second can proceed and initiates the reload operation.&lt;/li&gt;
	&lt;li&gt;While trying to read a property the first thread sees an invalid state because a reload operation is in progress.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;To get my test running I changed the implementation of &lt;tt&gt;getProperty()&lt;/tt&gt; in the following way:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getProperty(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key)
    {
        &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (reloadLock)
        {
            reload();
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.getProperty(key);
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So the whole property read operation is now guarded by the lock. To be on the safe side this change would have to be applied for the other methods, too. But I think, the architecture of the reloading implementation should better be re-worked in the next major release. Note that it is very unlikely that multiple reloads happen in short intervals because the available reloading strategies have a refresh delay.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12428678">CONFIGURATION-390</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 5 Nov 2008 21:28:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 46 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l78f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121822</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-343] JNDIConfiguration::recursiveGetKeys goes out of stack (2)</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-343</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://issues.apache.org/jira/browse/CONFIGURATION-281&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/CONFIGURATION-281&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I think the maxDepth feature should be implemented.&lt;/p&gt;

&lt;p&gt;The reason for this is that in WebSphere it seems possible that some contexts seem te be generated on the fly, like&lt;br/&gt;
thisNode.cell --&amp;gt;&lt;br/&gt;
thisNode.cell.cell --&amp;gt;&lt;br/&gt;
 ...--&amp;gt;&lt;br/&gt;
 thisNode.cell.cell.cell.cell.cell.cell.cell.cell.cell.cell.cell.cell.cell&lt;br/&gt;
etc.&lt;/p&gt;

&lt;p&gt;(anybody any idea why this is so ?)&lt;/p&gt;



</description>
                <environment></environment>
        <key id="12407165">CONFIGURATION-343</key>
            <summary>JNDIConfiguration::recursiveGetKeys goes out of stack (2)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="michielgkalkman">Michiel Kalkman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Oct 2008 10:55:31 +0000</created>
                <updated>Mon, 21 Oct 2013 23:21:03 +0000</updated>
                                            <version>1.5</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12642623" author="oliver.heger@t-online.de" created="Sat, 25 Oct 2008 14:50:37 +0000"  >&lt;p&gt;In the configuration2 branch (&lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/configuration/branches/configuration2_experimental/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/commons/proper/configuration/branches/configuration2_experimental/&lt;/a&gt;) there is a complete new implementation of JNDIConfiguration which also supports the maxDepth feature: &lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/configuration/branches/configuration2_experimental/src/main/java/org/apache/commons/configuration2/JNDIConfiguration.java?view=log&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/commons/proper/configuration/branches/configuration2_experimental/src/main/java/org/apache/commons/configuration2/JNDIConfiguration.java?view=log&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Is it possible for you to check out whether this implementation fits your needs?&lt;/p&gt;
</comment>
                            <comment id="12655550" author="oliver.heger@t-online.de" created="Thu, 11 Dec 2008 07:19:32 +0000"  >&lt;p&gt;Setting fix version to 1.7. However, it is possible that a fix will only be provided in 2.0. Nevertheless, patches are welcome.&lt;/p&gt;</comment>
                            <comment id="12970187" author="michielgkalkman" created="Fri, 10 Dec 2010 15:13:24 +0000"  >&lt;p&gt;I am unable to reproduce the original problem. However, I now have a problem which looks like this one, where different Context instances are generated for the same JNDI name.&lt;/p&gt;

&lt;p&gt;Because I work in a jdk 1.4 environment, I could not use the contents of the configuration2 branch for testing.&lt;/p&gt;

&lt;p&gt;To solve the problem, I applied a few changes - see the attached patch. This patch is applied on CONFIGURATION_1_6.&lt;/p&gt;

&lt;p&gt;In the patch I use getNameInNamespace() operation on contexts. If this operation is supported, the result of the operation is used to register processed Contexts. Otherwise, whe the getNameInNamespace() is not supported, the Contexts are used to register processed Contexts.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465990" name="configuration-343-patch.txt" size="8205" author="michielgkalkman" created="Fri, 10 Dec 2010 15:22:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 25 Oct 2008 14:50:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61990</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-342] DatabaseConfiguration.copy() loses list/array values</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-342</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I&apos;ve found a bug where adding a list property to a BaseConfiguration, then copying that full BaseConfiguration to a DatabaseConfiguration, the list is lost and only the first element is copied to the destination DatabaseConfiguration.  For example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;BaseConfiguration bc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BaseConfiguration();
bc.addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;myList&quot;&lt;/span&gt;, Arrays.asList(&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;3&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;4&quot;&lt;/span&gt;);

DatabaseConfiguration dc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DatabaseConfiguration(...);
dc.copy(bc);

List list = dc.getList(&lt;span class=&quot;code-quote&quot;&gt;&quot;myList&quot;&lt;/span&gt;);
&lt;span class=&quot;code-comment&quot;&gt;// At &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; point, you&apos;ll get a single element list containing only &lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12407004">CONFIGURATION-342</key>
            <summary>DatabaseConfiguration.copy() loses list/array values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scwells72">Scott Wells</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Oct 2008 15:22:19 +0000</created>
                <updated>Mon, 21 Oct 2013 23:20:33 +0000</updated>
                                            <version>1.5</version>
                                                    <component>Type conversion</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12641890" author="scwells72" created="Wed, 22 Oct 2008 15:42:12 +0000"  >&lt;p&gt;After a little more debugging, it looks like it may be worse than just copy.  I just tried to add the list directly and it still only picked up the first element.  So basically the following:&lt;/p&gt;

&lt;p&gt;DatabaseConfiguration dc = new DatabaseConfiguration(...);&lt;br/&gt;
dc.addProperty(&quot;myList&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;);&lt;br/&gt;
List list = dc.getList(&quot;myList&quot;);&lt;br/&gt;
// At this point, you&apos;ll get a single element list containing only &quot;1&quot;&lt;/p&gt;

&lt;p&gt;Scanning the bug DB, it looks like there was a problem earlier with this.  Perhaps a regression?  Or (hopefully!) I&apos;m doing something wrong?  I haven&apos;t changed the delimiter or whether it should be evaluated from the defaults for a new DBConfig.&lt;/p&gt;</comment>
                            <comment id="12641950" author="oliver.heger@t-online.de" created="Wed, 22 Oct 2008 20:00:13 +0000"  >&lt;p&gt;It seems to me that the support for properties with multiple values in DatabaseConfiguration is broken. I don&apos;t know whether it ever worked, but I doubt it. I guess the problem is that when inserting the 2nd value of the property the database throws an exception similar to the following one:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;java.sql.SQLException: Violation of unique constraint $$: duplicate value(s) for column(s) $$: SYS_PK_47 in statement &lt;span class=&quot;error&quot;&gt;&amp;#91;INSERT INTO configuration (key, value) VALUES (?, ?)&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;(This is at least what I get in the unit tests.) This exception is not re-thrown by the configuration, but an error event is fired. If you register an error listener, you will probably see such an event.&lt;/p&gt;

&lt;p&gt;I am not sure how to handle this problem. IMO the only solution would be to require an additional database column with a unique ID, so that no unique constraint can be violated. However, then we have to deal with stuff like ID generation, which can be highly specific depending on the use case.&lt;/p&gt;</comment>
                            <comment id="12641975" author="scwells72" created="Wed, 22 Oct 2008 21:34:57 +0000"  >&lt;p&gt;I&apos;ve actually written a simple flatten()/unflatten() pair that flattens multi-valued properties when during save and unflattens then during load.  You end up with multiple rows in the DB of the form:&lt;/p&gt;

&lt;p&gt;&amp;lt;key&amp;gt;.mventry00      value1&lt;br/&gt;
&amp;lt;key&amp;gt;.mventry01      value2&lt;br/&gt;
&amp;lt;key&amp;gt;.mventry02      value3&lt;/p&gt;

&lt;p&gt;but to the API user, things work as expected because those values are aggregated back into an actual list before being passed back.  It&apos;s not perfect, and it doesn&apos;t get to the point where I could marshal/unmarshal a full hierarchical configuration to/from the DB without using a CLOB, but it&apos;s a start.  I can send you what I have if you&apos;re interested...&lt;/p&gt;</comment>
                            <comment id="12642071" author="oliver.heger@t-online.de" created="Thu, 23 Oct 2008 06:18:13 +0000"  >&lt;p&gt;It would be nice if you could attach your code (or a patch) to this ticket.&lt;/p&gt;

&lt;p&gt;However, I am not sure whether the flatten/unflatten approach is the way to go because it violates all rules of good database design and normalization. It would be cool if the table layout used by DatabaseConfiguration could be made customizable, but this is certainly really complex.&lt;/p&gt;</comment>
                            <comment id="12642171" author="scwells72" created="Thu, 23 Oct 2008 14:42:13 +0000"  >&lt;p&gt;Yeah, it&apos;s definitely a totally denormalized form of an otherwise normalized structure, especially if you follow it to its logical end of storing entire HierarchicalConfiguration objects.  On the other hand, if there were a good mechanism to externalize arbitrarily complex Configuration instances in the simplest of storage formats, e.g., PropertiesConfiguration, I can only imagine it would be incredibly useful.&lt;/p&gt;

&lt;p&gt;I could see adding one more column to your current storage table for a parent key such that you&apos;d get proper hierarchical storage in a quite simple table, though.  Well, I guess technically if order were important, as it is in lists, then you&apos;d want key, parent key, and index in parent, so a total of two extra columns.&lt;/p&gt;

&lt;p&gt;Anyway, I&apos;ve attached the rough version of flatten()/unflatten().  This is for a proof-of-concept, so don&apos;t take this as final code, but it does allow me to successfully marshal/unmarshal multi-value properties.&lt;/p&gt;</comment>
                            <comment id="12642172" author="scwells72" created="Thu, 23 Oct 2008 14:45:56 +0000"  >&lt;p&gt;Demonstrates simple version of flattening/unflattening multi-valued property values for flat key/value storage, e.g., to properties files, current database configuration tables, etc.&lt;/p&gt;</comment>
                            <comment id="12642624" author="oliver.heger@t-online.de" created="Sat, 25 Oct 2008 15:01:47 +0000"  >&lt;p&gt;This looks interesting. For DatabaseConfiguration to be useful on its own such a feature has to be integrated into this class. E.g. when adding a new property the flattening has to be performed executing multiple inserts if necessary. (BTW I am not sure whether flatten()/unflatten() is the right naming because it can be confused with transforming a hierarchical configuration into a flat one and vice versa.)&lt;/p&gt;

&lt;p&gt;Making DatabaseConfiguration a true hierarchical configuration will even be more complex. I assume this was not intended when the class was created, and I would already be happy if we get support for multiple properties right.&lt;/p&gt;</comment>
                            <comment id="12642629" author="scwells72" created="Sat, 25 Oct 2008 15:52:56 +0000"  >&lt;p&gt;Yeah, for my proof-of-concept against commons config, I decided to do the work outside of the library, but yes, it should be encapsulated within the DatabaseConfiguration class, not external to it.  And yes, this is only intended to help with multi-valued properties, not yet with true hierarchical structures.  It wouldn&apos;t be hard to imagine a similar flattening for full hierarchies that uses the XPath format for storing keys, though.&lt;/p&gt;

&lt;p&gt;If this is something that interests you, I&apos;d be happy to work with you on an implementation that addresses both issues.  I looked briefly at what it would take to perform a traversal of a HierarchicalConfiguration and didn&apos;t quite &quot;get it&quot; at first glance.  It&apos;d be nice if there were a simple way to perform depth- and/or breadth-first traversals via a Visitor pattern or something.&lt;/p&gt;

&lt;p&gt;What are your thoughts?  It looks at this point as if we&apos;re going to proceed with commons config for our next phase of the product, and my goals are the ability to store rich config data (including components with sub-components) in the DB but, with a line or two of code, enable import/export via XML.  I can do that now, but the richness of the data is limited because of the way that DatabaseConfiguration &quot;loses&quot; multi-valued properties and hierarchies.  I can imagine this same mechanism would be broadly useful.&lt;/p&gt;</comment>
                            <comment id="12642786" author="oliver.heger@t-online.de" created="Sun, 26 Oct 2008 10:33:01 +0000"  >&lt;p&gt;Yes, I am interested in this stuff and am happy to review and apply patches.&lt;/p&gt;

&lt;p&gt;I think, adding support for multi-valued properties should not be too complicated. But making DatabaseConfiguration truly hierarchical will be challenging; we would have to implement all the enhanced query facilities.&lt;/p&gt;

&lt;p&gt;To your question about traversing hierarchical node structures: There is indeed a visitor-like approach implemented in the nodes of a hierarchical configuration. You can for instance check out the HierarchicalConfiguration.getKeys() method, which uses a visitor to gather a list of the existing keys. This should be similar to what is needed for DatabaseConfiguration.&lt;/p&gt;</comment>
                            <comment id="12643311" author="scwells72" created="Tue, 28 Oct 2008 19:14:43 +0000"  >&lt;p&gt;Okay.  I&apos;m pretty slammed with major release planning at work right now after presenting several successful proof-of-concept projects.  I&apos;m 99.999% sure that we&apos;ll be using Commons Config, and in particular DatabaseConfiguration for shared persistent storage and XMLConfiguration for externalized format (for import/export, revisioning through SCM, etc.).  As we get into the productization of that, I&apos;ll likely ping you again to chat about how DatabaseConfiguration might evolve to have the same level of expressiveness as HierarchicalConfiguration and what we might do to aid in getting it there.&lt;/p&gt;</comment>
                            <comment id="13133884" author="ebourg" created="Mon, 24 Oct 2011 08:13:27 +0000"  >&lt;p&gt;I suggest two solutions to this issue:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;either drop the unique constraint on the key and allow several entries with the same key&lt;/li&gt;
	&lt;li&gt;concatenate the values with a separator&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The fist solution is probably easier, but the list order will be lost (unless the results are sorted by rowId, but that&apos;s very database specific).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12392731" name="ConfigurationUtil.java" size="2653" author="scwells72" created="Thu, 23 Oct 2008 14:45:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Oct 2008 20:00:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61985</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-341] FileChangedReloadingStrategy not working for SubnodeConfiguration with a CombinedConfiguration parent</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-341</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;A SubnodeConfiguration that has a CombinedConfiguration as its parent, doesn&apos;t &quot;hot&quot; reload properties even if the combined configuration consists of XMLConfigurations that have the FileChangedReloadingStrategy set, the combined configuration has the setForceReloadCheck flag set and the SubnodeConfiguration was obtained by calling configurationAt method and passing in true for the &quot;supportUpdates&quot; flag.  &lt;/p&gt;

&lt;p&gt;Here&apos;s some code that shows the problem where the final assertion will fail.&lt;/p&gt;

&lt;p&gt; @Test&lt;br/&gt;
  public void testSubnodeReadload() throws ConfigurationException &lt;/p&gt;
{
    XMLConfiguration xmlConfiguration = new XMLConfiguration(&quot;service.xml&quot;);
    FileChangedReloadingStrategy fileReloadStrategy = new FileChangedReloadingStrategy();
    fileReloadStrategy.setRefreshDelay(1000);
    xmlConfiguration.setReloadingStrategy(fileReloadStrategy);
    XMLConfiguration config2 = new XMLConfiguration(&quot;environment.xml&quot;);
    FileChangedReloadingStrategy fileReloadStrategy2 = new FileChangedReloadingStrategy();
    fileReloadStrategy2.setRefreshDelay(1000);
    xmlConfiguration.setReloadingStrategy(fileReloadStrategy2);

    CombinedConfiguration combinedConfig = new CombinedConfiguration();
    combinedConfig.setForceReloadCheck(true);
    combinedConfig.addConfiguration(xmlConfiguration);
    combinedConfig.addConfiguration(config2);
    int queue0threads2 = xmlConfiguration.getInt(&quot;messaging-new.queue(0).threads&quot;);
    assert 2 == queue0threads2;

    //change the value in service.xml to 4
    int queue0threads4 = xmlConfiguration.getInt(&quot;messaging-new.queue(0).threads&quot;);
    assert 4 == queue0threads4;


    SubnodeConfiguration subConfigHier = xmlConfiguration.configurationAt(&quot;messaging-new.queue(0)&quot;, true);
    int queue0threadsCombinedSub4 = subConfigHier.getInt(&quot;threads&quot;);
    assert queue0threadsCombinedSub4 == 4;

    //change the value service.xml to 8
    int queue0threadsCombinedSub8 = subConfigHier.getInt(&quot;threads&quot;);
    assert queue0threadsCombinedSub8 == 8;


    SubnodeConfiguration subNodeConfigParentIsCombinedConfig = combinedConfig.configurationAt(&quot;messaging-new.queue(0)&quot;, true);
    int queue0threadsSub8 = subNodeConfigParentIsCombinedConfig.getInt(&quot;threads&quot;);
    assert queue0threadsSub8 == 8;

    //change the value service.xml file to 16
    int queue0threadsSub16 = subNodeConfigParentIsCombinedConfig.getInt(&quot;threads&quot;);
    assert queue0threadsSub16 == 16;         //THIS TEST FAILS

  }
</description>
                <environment></environment>
        <key id="12406708">CONFIGURATION-341</key>
            <summary>FileChangedReloadingStrategy not working for SubnodeConfiguration with a CombinedConfiguration parent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="pughbri">Brian Pugh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Oct 2008 18:59:07 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:54 +0000</updated>
                            <resolved>Mon, 20 Oct 2008 19:57:13 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>File reloading</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12641136" author="oliver.heger@t-online.de" created="Mon, 20 Oct 2008 19:57:13 +0000"  >&lt;p&gt;A fix was applied to trunk and to the configuration2 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Oct 2008 19:57:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6yv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121779</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-339] ConfigurationConverter does not handle CompositeConfiguration correctly</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-339</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;ConfigurationConverter doesn&apos;t seem to respect the ordering of a composite configuration. I am having problems describing the behavior, but I thinks the following test case illustrates it best:&lt;/p&gt;

&lt;p&gt;	@Test&lt;br/&gt;
	public void showBug() {&lt;br/&gt;
		PropertiesConfiguration p = new PropertiesConfiguration();&lt;br/&gt;
		p.addProperty(&quot;foo&quot;, &quot;initial&quot;);&lt;br/&gt;
		p.addProperty(&quot;bar&quot;, &quot;${foo}&quot;);&lt;br/&gt;
		p.addProperty(&quot;prefix.foo&quot;, &quot;override&quot;);&lt;/p&gt;

&lt;p&gt;		CompositeConfiguration cfg = new CompositeConfiguration();&lt;br/&gt;
		cfg.addConfiguration(p.subset(&quot;prefix&quot;));&lt;br/&gt;
		cfg.addConfiguration(p);&lt;/p&gt;

&lt;p&gt;		// this assertion passes as expected since the subset&lt;br/&gt;
		// was added first to the composite configuration&lt;br/&gt;
		Assert.assertEquals(&quot;override&quot;, cfg.getString(&quot;bar&quot;));&lt;/p&gt;

&lt;p&gt;		// after converting to properties, this assertion fails and&lt;br/&gt;
		// reports that the value is &apos;initial&apos;&lt;br/&gt;
		Properties properties = ConfigurationConverter.getProperties(cfg);&lt;br/&gt;
		Assert.assertEquals(&quot;override&quot;, properties.getProperty(&quot;bar&quot;));&lt;br/&gt;
	}&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS X 10.5.5, java version &quot;1.6.0_07&quot;, Java(TM) SE Runtime Environment (build 1.6.0_07-b06-153)&lt;/p&gt;</environment>
        <key id="12406330">CONFIGURATION-339</key>
            <summary>ConfigurationConverter does not handle CompositeConfiguration correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="wdemoss">William DeMoss II</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Oct 2008 20:10:34 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:54 +0000</updated>
                            <resolved>Thu, 16 Oct 2008 20:21:48 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>Interpolation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12639951" author="oliver.heger@t-online.de" created="Wed, 15 Oct 2008 20:23:21 +0000"  >&lt;p&gt;It took a while to figure out what is going on, but I was able to track it down to the getList() implementation of CompositeConfiguration. This method performs two interpolations on the property values it returns:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;One implicit interpolation by calling getList() on the child configuration. This is where the wrong property value comes from.&lt;/li&gt;
	&lt;li&gt;One explicit interpolation on the list with property values gathered from the child configurations. Here interpolation across multiple child configurations can be done.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The first of these interpolations is pointless because the second one will produce the desired results.&lt;/p&gt;

&lt;p&gt;Because getStringArray() delegates to getList() this method is affected, too. In fact getStringArray() does again an interpolation on the values returned by getList(). Because getList() should already have substituted all variables for which this is possible, this additional interpolation won&apos;t add any value.&lt;/p&gt;</comment>
                            <comment id="12640297" author="oliver.heger@t-online.de" created="Thu, 16 Oct 2008 20:21:48 +0000"  >&lt;p&gt;Fixed in trunk and configuration2 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Oct 2008 20:23:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33895</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lo47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-336] Brackets in property key causes NumberFormatException</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-336</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hi,&lt;br/&gt;
When using brackets in property key we get an exception every time.&lt;br/&gt;
Escaping brackets with \ doesn&apos;t help.&lt;/p&gt;

&lt;p&gt;Example&lt;br/&gt;
#property in property file&lt;br/&gt;
test(ef)=false&lt;/p&gt;

&lt;p&gt;causes &lt;br/&gt;
java.lang.NumberFormatException: For input string: &quot;ef&quot; at&lt;br/&gt;
java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)&lt;br/&gt;
        at java.lang.Integer.parseInt(Integer.java:447)&lt;br/&gt;
        at java.lang.Integer.parseInt(Integer.java:497)&lt;br/&gt;
        at org.apache.commons.configuration.tree.DefaultConfigurationKey&lt;br/&gt;
$KeyIterator.checkIndex(DefaultConfigurationKey.java:834)&lt;br/&gt;
        at org.apache.commons.configuration.tree.DefaultConfigurationKey&lt;br/&gt;
$KeyIterator.nextKey(DefaultConfigurationKey.java:511) at&lt;br/&gt;
org.apache.commons.configuration.tree.DefaultExpressionEngine.findNodesForKey(DefaultExpressionEngine.java:462) at&lt;br/&gt;
org.apache.commons.configuration.tree.DefaultExpressionEngine.query(DefaultExpressionEngine.java:286) at&lt;br/&gt;
org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:925 at&lt;br/&gt;
org.apache.commons.configuration.HierarchicalConfiguration.setProperty(HierarchicalConfiguration.java:735) at&lt;br/&gt;
org.apache.commons.configuration.ConfigurationUtils.copy(ConfigurationUtils.java:143) at&lt;br/&gt;
org.apache.commons.configuration.ConfigurationUtils.convertToHierarchical(ConfigurationUtils.java:199)  at org.apache.commons.configuration.CombinedConfiguration&lt;br/&gt;
$ConfigData.getTransformedRoot(CombinedConfiguration.java:794)  at&lt;br/&gt;
org.apache.commons.configuration.CombinedConfiguration.constructCombinedNode(CombinedConfiguration.java:653) at&lt;br/&gt;
org.apache.commons.configuration.CombinedConfiguration.getRootNode(CombinedConfiguration.java:504) at&lt;br/&gt;
org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:925) at&lt;br/&gt;
org.apache.commons.configuration.HierarchicalConfiguration.getProperty(HierarchicalConfiguration.java:327) at&lt;br/&gt;
org.apache.commons.configuration.CombinedConfiguration.getProperty(CombinedConfiguration.java:578) at&lt;br/&gt;
org.apache.commons.configuration.AbstractConfiguration.resolveContainerStore(AbstractConfiguration.java:1155) at&lt;br/&gt;
org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1034)  at&lt;br/&gt;
org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1017) &lt;/p&gt;

&lt;p&gt;Explanation i got in mailing list from Oliver Heger&lt;/p&gt;

&lt;p&gt;I guess you use DefaultConfigurationBuilder for loading a combined &lt;br/&gt;
configuration?&lt;/p&gt;

&lt;p&gt;The exception is due to the fact that brackets have a special meaning in &lt;br/&gt;
the query syntax for hierarchical configurations. &lt;br/&gt;
(DefaultConfigurationBuilder transforms all configuration sources into &lt;br/&gt;
hierarchical configurations, so also for properties, which are not &lt;br/&gt;
hierarchical by default, the same rules apply.)&lt;/p&gt;

&lt;p&gt;So far escaping brackets or other specific characters in property keys &lt;br/&gt;
is not supported. It seems to be rather unusual to use brackets in &lt;br/&gt;
property keys, so you may well be the first one who noticed this problem.&lt;/p&gt;

&lt;p&gt;Unfortunately I don&apos;t have a working solution for this problem right &lt;br/&gt;
now.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12405348">CONFIGURATION-336</key>
            <summary>Brackets in property key causes NumberFormatException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="palko">Pavel Savara</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Sep 2008 07:49:06 +0000</created>
                <updated>Fri, 15 Jan 2010 05:13:41 +0000</updated>
                            <resolved>Tue, 4 Nov 2008 21:19:45 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12643769" author="oliver.heger@t-online.de" created="Thu, 30 Oct 2008 07:24:51 +0000"  >&lt;p&gt;The problem is basically caused by the conversion of a flat Configuration (e.g. a PropertiesConfiguration) into a hierarchical one. Here all keys of the flat configuration are obtained and inserted into the new hierarchical configuration. The hierarchical configuration is initialized with a default expression engine that parses the property keys for brackets and tries to interpret their contents as index values. This fails in this specific case.&lt;/p&gt;

&lt;p&gt;I think, a good solution for this problem would be to support using a specific ExpressionEngine when converting a flat configuration to a hierarchical one. If the property keys contain some critical characters like brackets, an expression engine could be used that is initialized with different index markers, e.g. square brackets.&lt;/p&gt;

&lt;p&gt;To implement this solution at least two places have to be changed:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;ConfigurationUtils needs an overloaded variant of the convertToHierarchical() method, which also expects an ExpressionEngine as parameter.&lt;/li&gt;
	&lt;li&gt;CombinedConfiguration should use its own expression engine when converting flat configurations to hierarchical ones. (This makes sense because this expression will also be used when querying the resulting combined configuration.)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12645083" author="oliver.heger@t-online.de" created="Tue, 4 Nov 2008 21:19:45 +0000"  >&lt;p&gt;It is now possible to specify an expression engine when converting a flat configuration to a hierarchical one. By using a properly configured expression engine you can work around the problem with property keys having a special meaning for the expression engine.&lt;/p&gt;

&lt;p&gt;The applied fix contains two major changes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;There is an overloaded version of &lt;tt&gt;ConfigurationUtils.convertToHierarchical()&lt;/tt&gt; that also expects an &lt;tt&gt;ExpressionEngine&lt;/tt&gt; as argument.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;CombinedConfiguration&lt;/tt&gt; has the new &lt;tt&gt;conversionExpressionEngine&lt;/tt&gt; property. The &lt;tt&gt;ExpressionEngine&lt;/tt&gt; set here is used when the internal node structure is constructed.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In the unit test class for &lt;tt&gt;CombinedConfiguration&lt;/tt&gt; a new test case was added (&lt;tt&gt;testConversionExpressionEngine()&lt;/tt&gt; demonstrating how this new property can be used.&lt;/p&gt;</comment>
                            <comment id="12800203" author="walkerr" created="Thu, 14 Jan 2010 13:51:57 +0000"  >&lt;p&gt;The fixes above provide a workaround, but it&apos;s not exactly a &quot;low pain / low effort&quot; option, and is made harder by a lot of use of private methods in DefaultConfigurationKey etc preventing a simple subclassing approach.&lt;/p&gt;

&lt;p&gt;I suspect it&apos;s going to become a bigger issue for more people too, since Vista and Windows 7 both have additional environment/path variables that break this e.g.&lt;/p&gt;

&lt;p&gt;ProgamFiles(x86) &lt;/p&gt;

&lt;p&gt;It seems a small and simple fix to DefaultConfigurationKey.KeyIterator could take away a ton of pain for the simple case e.g.&lt;/p&gt;

&lt;p&gt;        private boolean checkIndex(String key)&lt;br/&gt;
        {&lt;br/&gt;
            boolean result = false;&lt;/p&gt;

&lt;p&gt;            try&lt;br/&gt;
            {&lt;br/&gt;
                int idx = key.lastIndexOf(getExpressionEngine().getIndexStart());&lt;br/&gt;
                if (idx &amp;gt; 0)&lt;br/&gt;
                {&lt;br/&gt;
                    int endidx = key.indexOf(getExpressionEngine().getIndexEnd(),&lt;br/&gt;
                            idx);&lt;/p&gt;

&lt;p&gt;                    if (endidx &amp;gt; idx + 1)&lt;/p&gt;
                    {
                        indexValue = Integer.parseInt(key.substring(idx + 1, endidx));
                        current = key.substring(0, idx);
                        result = true;
                    }
&lt;p&gt;                }&lt;br/&gt;
            }&lt;br/&gt;
            catch (NumberFormatException nfe)&lt;/p&gt;
            {
                result = false;
            }

&lt;p&gt;            return result;&lt;br/&gt;
        }&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12445598">CONFIGURATION-404</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Oct 2008 07:24:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uptb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-335] XMLConfiguration: Can&apos;t disable attribute splitting </title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-335</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;My XML configuration has the following attribute:&lt;br/&gt;
&amp;lt;some-element some-attribute=&quot;&amp;#x0A;&amp;#x0D;&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;But XML Configuration is trying to split this string and trims it after splitting. I don&apos;t need this behaviour, but setting setDelimiterParsingDisabled() just changing delimeter to &quot;|&quot; and not disables attribute trimming.&lt;/p&gt;

&lt;p&gt;Need either to disable trimming/splitting if setDelimiterParsingDisabled() is set to TRUE (incompatible change), or add something like setParseAttributesAsIs() that will prevent attributes to be trimmed and splitted&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402395">CONFIGURATION-335</key>
            <summary>XMLConfiguration: Can&apos;t disable attribute splitting </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="bsp">Sergey Vladimirov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Aug 2008 17:27:13 +0000</created>
                <updated>Tue, 20 Oct 2009 19:30:36 +0000</updated>
                            <resolved>Sun, 30 Nov 2008 21:13:58 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>Format</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12622615" author="bsp" created="Thu, 14 Aug 2008 17:31:48 +0000"  >&lt;p&gt;Or at least constructHierarchy() and processAttributes() methods should be protected - to enable extending/changing behaviour&lt;/p&gt;</comment>
                            <comment id="12622617" author="bsp" created="Thu, 14 Aug 2008 17:37:30 +0000"  >&lt;p&gt;XMLNode class (member of XMLConfiguration) should be protected, as well as handleDelimiters(node, node) method.&lt;/p&gt;

&lt;p&gt;It seems no one tried to extend this class before...&lt;/p&gt;</comment>
                            <comment id="12622651" author="oliver.heger@t-online.de" created="Thu, 14 Aug 2008 19:18:27 +0000"  >&lt;p&gt;I think your request is not in line with the XML specification. Have a look at &lt;a href=&quot;http://www.w3.org/TR/REC-xml/#AVNormalize&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.w3.org/TR/REC-xml/#AVNormalize&lt;/a&gt; where the concept of attribute normalization is defined.&lt;/p&gt;

&lt;p&gt;What you can do is using the content of an element instead of an attribute. Recently support for the xml:space attribute was added to XMLConfiguration (see &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-307&quot; title=&quot;XMLConfiguration should support the xml:space attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-307&quot;&gt;&lt;del&gt;CONFIGURATION-307&lt;/del&gt;&lt;/a&gt;). If this attribute is set on an element, whitespace in its content will be preserved. However, the current version 1.5 does not contain this feature yet.&lt;/p&gt;</comment>
                            <comment id="12623346" author="cbriarnold" created="Mon, 18 Aug 2008 13:07:15 +0000"  >&lt;p&gt;FYI for anyone else who is encountering this bug. The parsing is not a delayed parsing. It begins parsing the document once you have used it&apos;s constructor. So the work around would be to construct an XMLConfiguration object without any parameters, use the setDelimiterParsingDisabled(true), then load the xml file. Like so:&lt;/p&gt;

&lt;p&gt;	File configurationFile = new File(&quot;test.xml&quot;);&lt;br/&gt;
	XMLConfiguration configuration = new XMLConfiguration();&lt;br/&gt;
	configuration.setDelimiterParsingDisabled(true);&lt;br/&gt;
	configuration.load(configurationFile);&lt;/p&gt;</comment>
                            <comment id="12627412" author="bsp" created="Mon, 1 Sep 2008 08:12:50 +0000"  >&lt;p&gt;Courtney,&lt;/p&gt;

&lt;p&gt;setDelimiterParsingDisabled() doesn&apos;t work for XMLConfiguration - it just changing delimeter to &quot;|&quot;&lt;/p&gt;</comment>
                            <comment id="12627414" author="bsp" created="Mon, 1 Sep 2008 08:14:52 +0000"  >&lt;p&gt;Oliver,&lt;/p&gt;

&lt;p&gt;It&apos;s my code - i want to specify any possible xml parsing option i need. It&apos;s okay if XMLConfiguration doesn&apos;t support such behaviour - then it should allow me to change it in subclass.&lt;/p&gt;</comment>
                            <comment id="12628885" author="oliver.heger@t-online.de" created="Sat, 6 Sep 2008 15:39:45 +0000"  >&lt;p&gt;My point is that the problem you are facing with the definition of CR and LF sequences in attributes is not caused by any attribute trimming or splitting activities of XMLConfiguration. Rather the XML parser already performs attribute normalization and replaces your sequence by a single white space. So even if you had access to the corresponding methods in XMLConfiguration, it would not help you because the strings passed to these methods have already been modified by the parser.&lt;/p&gt;</comment>
                            <comment id="12651147" author="oliver.heger@t-online.de" created="Wed, 26 Nov 2008 21:20:23 +0000"  >&lt;p&gt;This is not a problem of attribute splitting operations performed by XMLConfiguration. The attribute values have already been modified by the XML parser. So closing this issue as invalid.&lt;/p&gt;</comment>
                            <comment id="12651176" author="bsp" created="Wed, 26 Nov 2008 23:04:44 +0000"  >&lt;p&gt;Oliver,&lt;/p&gt;

&lt;p&gt;Is parser doing &quot;|&quot; splitting? I thought it was line 487 in XMLConfiguration:&lt;/p&gt;

&lt;p&gt;    /** Constant for the delimiter for multiple attribute values.*/&lt;br/&gt;
    private static final char ATTR_VALUE_DELIMITER = &apos;|&apos;;&lt;/p&gt;

&lt;p&gt;.......&lt;br/&gt;
                Iterator it = PropertyConverter.split(&lt;br/&gt;
                        attr.getValue(),&lt;br/&gt;
                        isDelimiterParsingDisabled() ? ATTR_VALUE_DELIMITER&lt;br/&gt;
                                : getListDelimiter()).iterator();&lt;/p&gt;
</comment>
                            <comment id="12651264" author="oliver.heger@t-online.de" created="Thu, 27 Nov 2008 07:00:54 +0000"  >&lt;p&gt;The parser is certainly not doing &quot;|&quot; splitting, but it trims whitespace. As I understand this ticket this is your original problem, isn&apos;t it?&lt;/p&gt;</comment>
                            <comment id="12651341" author="bsp" created="Thu, 27 Nov 2008 12:32:01 +0000"  >&lt;p&gt;Both actually.&lt;/p&gt;

&lt;p&gt;It called &quot;Can&apos;t disable attribute splitting&quot;, so unable to disable splitting was main problen&lt;/p&gt;</comment>
                            <comment id="12651750" author="oliver.heger@t-online.de" created="Sat, 29 Nov 2008 20:54:18 +0000"  >&lt;p&gt;So I was too quick when closing this ticket.&lt;/p&gt;

&lt;p&gt;The attribute splitting functionality was added because there is a mismatch between the configuration API and the capabilities provided by XML: the configuration API allows adding multiple values to an attribute while XML only supports a single value. For instance, you can have something like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;config.addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;element[@attr]&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;value1&quot;&lt;/span&gt;);
config.addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;element[@attr]&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;value2&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When storing such a configuration, how should the multiple values of the attribute be treated so that the file can be loaded again and the resulting configuration is not changed? Because the problem is inherent there is so far no possibility of switching off this feature.&lt;/p&gt;

&lt;p&gt;It might make sense to introduce a flag for turning off this mechanism. Can you give an example (other than that with whitespace) where this attribute splitting functionality caused undesired behavior?&lt;/p&gt;</comment>
                            <comment id="12651763" author="bsp" created="Sat, 29 Nov 2008 22:34:26 +0000"  >&lt;p&gt;Oliver,&lt;/p&gt;

&lt;p&gt;The problem were found with regular expression. Regexp can contain both commas and &quot;|&quot; characters.&lt;br/&gt;
&quot;[[some\, |other\, ]]&quot;&lt;/p&gt;

&lt;p&gt;For me switching off this mechanism should result in some limitation, but it&apos;s okay as far as program does know about it and not using multiple attribute values mechanism.&lt;/p&gt;

&lt;p&gt;Sergey&lt;/p&gt;</comment>
                            <comment id="12651871" author="oliver.heger@t-online.de" created="Sun, 30 Nov 2008 21:13:58 +0000"  >&lt;p&gt;XMLConfiguration now has a new property &lt;tt&gt;attributeSplittingDisabled&lt;/tt&gt;. If set to &lt;b&gt;true&lt;/b&gt;, the values of attributes are stored in exactly the way as they are returned by the XML parser, without further modification.&lt;/p&gt;

&lt;p&gt;Note that this property must be set &lt;b&gt;before&lt;/b&gt; the configuration is loaded. So the following pattern has to be used:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;XMLConfiguration config = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XMLConfiguration();
config.setAttributeSplittingDisabled(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
config.setFile(myConfigFile);
config.load();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is analogous to the &lt;tt&gt;delimiterParsingDisabled&lt;/tt&gt; property of &lt;tt&gt;AbstractConfiguration&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="12659289" author="ralph.goers@dslextreme.com" created="Fri, 26 Dec 2008 23:51:35 +0000"  >&lt;p&gt;Was this applied to the experimental branch?&lt;/p&gt;</comment>
                            <comment id="12659348" author="oliver.heger@t-online.de" created="Sat, 27 Dec 2008 16:10:46 +0000"  >&lt;p&gt;No, it was not. The implementation of attributes is different in the experimental branch: attributes are not represented as Nodes, but each node has a map of attributes. Currently there is no direct support for multiple values of an attribute. See also the &lt;tt&gt;NodeHandler&lt;/tt&gt; interface, which defines only a &lt;tt&gt;setAttributeValue()&lt;/tt&gt; and a &lt;tt&gt;getAttributeValue()&lt;/tt&gt; method.&lt;/p&gt;

&lt;p&gt;For the experimental branch it makes certainly sense to redesign the whole splitting mechanism. Looking back, it has caused us a lot of trouble, and I am wondering if it is worth the whole pain.&lt;/p&gt;</comment>
                            <comment id="12698052" author="ralph.goers@dslextreme.com" created="Sat, 11 Apr 2009 05:31:19 +0000"  >&lt;p&gt;I don&apos;t understand. XMLConfiguration in the experimental branch has a method named processAttributes that splits the attribute into Nodes.  I have a config file for DefaultConfigurationBuilder that requires a &apos;,&apos; in it and it doesn&apos;t work. I replaced the property converter call with List&amp;lt;String&amp;gt; values = Collections.singletonList(attr.getValue()); and my DefaultConfgurationBuilder test worked fine, but a whole bunch of other unit tests now fail because attribute splitting isn&apos;t supported.&lt;/p&gt;

&lt;p&gt;I either need to add the option to the experimental branch or disable attribute splitting entirely, otherwise I can&apos;t commit my new code to the experimental branch. What would you prefer?&lt;/p&gt;</comment>
                            <comment id="12698059" author="ralph.goers@dslextreme.com" created="Sat, 11 Apr 2009 06:53:46 +0000"  >&lt;p&gt;I added attribute splitting to the experimental branch. If we decide to not allow attribute splitting we can remove it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12438610">CONFIGURATION-400</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Aug 2008 19:18:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33901</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ljk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123819</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-334] Inconsistent parent nodes in HierarchicalConfiguration when using setRootNode()</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-334</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;HierarchicalConfiguration allows setting a root node explicitly using either setRootNode() or setRoot(). The latter exists for backwards compatibility only and operates on the type HierarchicalConfiguration.Node rather than ConfigurationNode. To support a corresponding getRoot() method a new instance of HierarchicalConfiguration.Node is created, and the child nodes of the root node are added to it. Thus these nodes become child nodes of this new node.&lt;/p&gt;

&lt;p&gt;If now addProperty() is called for adding new properties to the configuration, the nodes created for the new properties are added to the node passed to the setRootNode() method. So they have a different parent node than the existing nodes.&lt;/p&gt;

&lt;p&gt;As long as only methods of the Configuration interface are used for querying or manipulating the configuration, this does not seem to have any strange effects. But when working with the nodes directly it is certainly confusing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402151">CONFIGURATION-334</key>
            <summary>Inconsistent parent nodes in HierarchicalConfiguration when using setRootNode()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Aug 2008 19:14:12 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:53 +0000</updated>
                            <resolved>Tue, 12 Aug 2008 09:41:47 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12621750" author="oliver.heger@t-online.de" created="Tue, 12 Aug 2008 09:41:47 +0000"  >&lt;p&gt;A fix was applied, which changes the following:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;If setRootNode() is called, the parent node of the child nodes of the new root are not changed. So they remain children of the root rather than being added to the HierarchicalConfiguration.Node that is created for reasons of backwards compatibility.&lt;/li&gt;
	&lt;li&gt;The node returned by getRoot() is not created when setRootNode() is called, but it will be created each time getRoot() is called. Thus it is guaranteed that it is up-to-date and points to a life snapshot of the node structure in this configuration.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33920</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-332] PropertiesConfiguration.save() doesn&apos;t persist properties added through a DataConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-332</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;There is a regression in Commons Configuration with PropertiesConfiguration wrapped into a DataConfiguration. The properties added through a DataConfiguration aren&apos;t persisted when the configuration is saved, but they can be queried normally. Commons Configuration 1.4 wasn&apos;t affected by this issue.&lt;/p&gt;

&lt;p&gt;The following test fails on the last assertion :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testSaveWithDataConfiguration() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ConfigurationException
{
    File file = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;target/testsave.properties&quot;&lt;/span&gt;);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (file.exists()) {
        assertTrue(file.delete());
    }

    PropertiesConfiguration config = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PropertiesConfiguration(file);

    DataConfiguration dataConfig = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DataConfiguration(config);

    dataConfig.setProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;);
    assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;, config.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;));
    config.save();

    &lt;span class=&quot;code-comment&quot;&gt;// reload the file
&lt;/span&gt;    PropertiesConfiguration config2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PropertiesConfiguration(file);
    assertFalse(&lt;span class=&quot;code-quote&quot;&gt;&quot;empty configuration&quot;&lt;/span&gt;, config2.isEmpty());
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12399622">CONFIGURATION-332</key>
            <summary>PropertiesConfiguration.save() doesn&apos;t persist properties added through a DataConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jul 2008 15:54:10 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:53 +0000</updated>
                            <resolved>Fri, 1 Aug 2008 19:48:30 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12619108" author="oliver.heger@t-online.de" created="Fri, 1 Aug 2008 19:48:30 +0000"  >&lt;p&gt;There is a problem with DataConfiguration that it does not implement some methods of the Configuration interface by delegating to the wrapped configuration (as a decorator should do), but uses the default implementations inherited from AbstractConfiguration. This can cause unpredictable results if the wrapped configuration overrides one of these methods.&lt;/p&gt;

&lt;p&gt;Maybe in 2.0 we should consider reimplementing this class as a true decorator. To be safe it should not extend AbstractConfiguration, but implement all methods required by the Configuration interface manually - delegating to the wrapped configuration.&lt;/p&gt;</comment>
                            <comment id="12619136" author="ebourg" created="Fri, 1 Aug 2008 21:08:30 +0000"  >&lt;p&gt;Thank you for the fix Oliver.&lt;/p&gt;

&lt;p&gt;In 2.0 we could even remove DataConfiguration completely, it could be replaced by the generic getter in AbstractConfiguration.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Aug 2008 19:48:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33890</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uoen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177095</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-329] Auto saving does not work</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-329</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;PropertiesConfiguration does not auto save the properties file under the following circumstances:&lt;/p&gt;

&lt;p&gt;File before:&lt;br/&gt;
key=test2&lt;/p&gt;

&lt;p&gt;PropertiesConfiguration conf2 = new PropertiesConfiguration();&lt;br/&gt;
            conf2.load(new File(&quot;test2.properties&quot;));&lt;br/&gt;
            conf2.setAutoSave(true);&lt;br/&gt;
            System.out.println(&quot;Conf2: Before changing value:&quot; + conf2.getProperty(&quot;key&quot;));&lt;br/&gt;
            conf2.setProperty(&quot;key&quot;, &quot;test2after&quot;);&lt;br/&gt;
            System.out.println(&quot;Conf2: After changing value:&quot; + conf2.getProperty(&quot;key&quot;));&lt;/p&gt;

&lt;p&gt;File after:&lt;br/&gt;
key=test2&lt;/p&gt;

&lt;p&gt;If you use the contrcutor PropertiesConfigurator(File file); everything is fine!&lt;/p&gt;</description>
                <environment>&lt;p&gt;Debian Etch i386, Java 1.6&lt;/p&gt;</environment>
        <key id="12396972">CONFIGURATION-329</key>
            <summary>Auto saving does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="eliot">Andr&#233; Geisler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 May 2008 11:14:22 +0000</created>
                <updated>Wed, 28 May 2008 17:09:28 +0000</updated>
                            <resolved>Wed, 28 May 2008 17:09:28 +0000</resolved>
                                    <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="12600534" author="ebourg" created="Wed, 28 May 2008 17:09:28 +0000"  >&lt;p&gt;Actually load(File) doesn&apos;t change the source of the configuration, you have to call setFile() and then load() to enable the auto save feature.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 28 May 2008 17:09:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-328] XMLConfiguration addNodes() not behaving correctly</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-328</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Things used to work fine in 1.3, but now when I&apos;m trying 1.5 my JUnit test suite is breaking when adding new properties. Here is what I&apos;m doing,&lt;/p&gt;

&lt;p&gt;1) I already have a configuration as following,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;test&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;isOk&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;default&amp;gt;&lt;/span&gt;false&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/default&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;intProperty&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;900&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;default&amp;gt;&lt;/span&gt;500&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/default&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property extra=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;stringProperty&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;default&amp;gt;&lt;/span&gt;Bye&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/default&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/test&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2) Now I need to add two new properties under &amp;lt;test&amp;gt;,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property  name=&lt;span class=&quot;code-quote&quot;&gt;&quot;newFirst&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;first&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;newSecond&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;second&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3) Here is the code I&apos;m using,&lt;/p&gt;

&lt;p&gt;        a) First create a new HierarchicalConfiguration.Node&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; HierarchicalConfiguration.Node createNode(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; value)  {
    HierarchicalConfiguration.Node node = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HierarchicalConfiguration.Node(name);
    node.setValue(value);
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; node;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;       b) Add the node to the list&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;List&amp;lt;HierarchicalConfiguration.Node&amp;gt; attrNodes = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;HierarchicalConfiguration.Node&amp;gt;();
Node attrNode = createNode(attrName, newPropertyName);
attrNode.setAttribute(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
attrNodes.add(attrNode);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;       c) Call addNodes on XMLConfiguration,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    conf.addNodes(attrPath, attrNodes);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I run this in a look for each new property I need to add. For first property, I get element count for the test.property as 3 (conf.getMaxIndex(key)) - so I insert at test.property(3), which is right, but for the second property I get element count as 5 --&amp;gt; This is wrong, it should have been 4 (because I just added 1). &lt;/p&gt;

&lt;p&gt;I check the saved the configuration file after adding those two new properties and it looks wrong too. Here is what I get,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;test&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;isOk&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;default&amp;gt;&lt;/span&gt;false&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/default&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;intProperty&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;900&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;default&amp;gt;&lt;/span&gt;500&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/default&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property extra=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;stringProperty&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;Hi&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    default&amp;gt;Bye&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/default&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;newFirst&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;first&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;newSecond&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;second&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/test&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The total element count for test.property gives me 7 ==&amp;gt; I was expecting 5.&lt;/p&gt;


&lt;p&gt;There seems to have some code change in 1.5 releated to addNodes (for ex., &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-287&quot; title=&quot;XMLConfiguration.addNodes() problem using other configuration Nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-287&quot;&gt;&lt;del&gt;CONFIGURATION-287&lt;/del&gt;&lt;/a&gt;). I&apos;m not sure if I need to change the way I was calling addNodes before. It works fine with 1.3, but 1.5 completely fails on adding new properties. &lt;/p&gt;

&lt;p&gt;I do need 1.5 for other bug fixes ( &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-268&quot; title=&quot;XMLConfiguration does not fully support disabled delimiter parsing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-268&quot;&gt;&lt;del&gt;CONFIGURATION-268&lt;/del&gt;&lt;/a&gt; and some other), but I can&apos;t use it until the addNodes behave correctly. &lt;/p&gt;

&lt;p&gt;Marking this as blocker as I&apos;m blocked because of this issue. If there is a workaround then please let me know.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, Apache Configuration 1.5&lt;/p&gt;</environment>
        <key id="12396262">CONFIGURATION-328</key>
            <summary>XMLConfiguration addNodes() not behaving correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="vivash">vivek</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 May 2008 21:49:04 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Tue, 20 May 2008 12:11:53 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12597767" author="vivash" created="Sat, 17 May 2008 22:49:46 +0000"  >&lt;p&gt;Looks like the attribute is getting added as new tag,&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;newFirst&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;first&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is supposed to be,&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;newFirst&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;first&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In my code,&lt;/p&gt;

&lt;p&gt;1) I first add the &amp;lt;property&amp;gt; tag under the &amp;lt;test&amp;gt; element - by calling conf.addNodes&lt;br/&gt;
2) Then I add the name attribute to the newly added property - again by calling conf.addNodes&lt;br/&gt;
3) Then I add the value tag under property - again by calling conf.addNodes&lt;/p&gt;

&lt;p&gt;I do create a new HierarchicalConfiguration.Node every time to add it.  &lt;/p&gt;

&lt;p&gt;It all used to work fine in 1.3, but it&apos;s failing in 1.5.&lt;/p&gt;

&lt;p&gt;Note, my reloading strategy is false - not sure if that has anything to do with this.&lt;/p&gt;</comment>
                            <comment id="12597827" author="vivash" created="Sun, 18 May 2008 18:28:31 +0000"  >&lt;p&gt;Emmanuel,&lt;/p&gt;

&lt;p&gt;   Could you let me know if there is any workaround for this issue or if I can do things differently to make it work? It would be nice if you can give me a patch that I can apply to my local build or let me know what needs to be changed in the XMLConfiguration so I can make my own build.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-vivek&lt;/p&gt;</comment>
                            <comment id="12597831" author="oliver.heger@t-online.de" created="Sun, 18 May 2008 19:16:21 +0000"  >&lt;p&gt;Vivek, can you please post your complete code for adding the new properties? Based on the fragments you provided I don&apos;t really see the parameters (especially the keys) you pass into the addNodes() method.&lt;/p&gt;</comment>
                            <comment id="12597839" author="vivash" created="Sun, 18 May 2008 20:24:25 +0000"  >&lt;p&gt;Let&apos;s say we have an existing xml configuration,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ss&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;test&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;testProperty&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/test&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ss&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now I want add a new property under existing &amp;lt;test&amp;gt; tag,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;vivekProperty&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;vivek&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I do following,&lt;/p&gt;

&lt;p&gt;1) create a node,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  HierarchicalConfiguration.Node node = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HierarchicalConfiguration.Node(&lt;span class=&quot;code-quote&quot;&gt;&quot;property&quot;&lt;/span&gt;);
  node.setValue(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2) Find the path where the &quot;property&quot; tag needs to be added. In my case it&apos;s &quot;ss.test(0)&quot;&lt;/p&gt;

&lt;p&gt;3) I call addNodes on XMLConfiguration instance,&lt;/p&gt;

 &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    conf.addNodes(propertyPath, propertyNode);     
    &lt;span class=&quot;code-comment&quot;&gt;//where propertyPath is ss.test(0) and propertyNode is one created in step 1
&lt;/span&gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;4) I check how many property tags are under ss.test(0) - in this case it returns me 2 (1 was just added)&lt;/p&gt;

&lt;p&gt;5) I create another node object for the name attribute of property,&lt;/p&gt;

 &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  HierarchicalConfiguration.Node node = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HierarchicalConfiguration.Node(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;);
  node.setValue(&quot;vivekProperty);
  node.setAttribute(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);             &lt;span class=&quot;code-comment&quot;&gt;//setting the node as attribute
&lt;/span&gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;6) Find the path where this attribute needs to be added. In this case it&apos;s &quot;ss.test(0).property(1)&quot;&lt;/p&gt;

&lt;p&gt;7) Add the node,&lt;/p&gt;

  &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    conf.addNodes(attrPath, attrNode);     
    &lt;span class=&quot;code-comment&quot;&gt;//where attrPath is ss.test(0).property(1) and attrNode is one created in step 5
&lt;/span&gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;8) Create another node for the value tag under property,&lt;/p&gt;

 &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  HierarchicalConfiguration.Node node = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HierarchicalConfiguration.Node(&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;);
  node.setValue(&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;vivek&quot;&lt;/span&gt;);
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;9) Now, when I try to find the index of the newly added property (&quot;property name=&quot;vivekProperty&quot;) I get -1. So instead of &quot;ss.test(0).property(1)&quot;, I get &quot;ss.test(0).property(-1)&quot;. -1 in my code basically means it couldn&apos;t find that.  &amp;lt;=== So this is wrong. &lt;/p&gt;

&lt;p&gt;This is the code to get the index of the property with a specific attribute name. So I&apos;m trying to find the index of the property with name=&quot;vivekProperty&quot;,&lt;/p&gt;

   &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                lookupProp = &lt;span class=&quot;code-quote&quot;&gt;&quot;ss.test(0).property&quot;&lt;/span&gt;;
                &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt;(conf){
			elements = conf.configurationsAt(lookupProp);
		}
		
		&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Iterator it = elements.iterator(); it.hasNext();) {
			HierarchicalConfiguration sub = (HierarchicalConfiguration) it
					.next();
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(sub != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;){
				&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name = sub.getString(&lt;span class=&quot;code-quote&quot;&gt;&quot;[@&quot;&lt;/span&gt; + attrName + &lt;span class=&quot;code-quote&quot;&gt;&quot;]&quot;&lt;/span&gt;);
				&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(name != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;){
					&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (name.equals(propName)) {
						isPropFound = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
						&lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
					}
					index = index + 1;
				}	
			}					
		}
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isPropFound) {
			index = -1;
		}
     &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;10) Add the node,&lt;/p&gt;

 &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    conf.addNodes(valuePath, valueNode);     
    &lt;span class=&quot;code-comment&quot;&gt;//where valuePath is ss.test(0).property(-1) and valueNode is one created in step 8
&lt;/span&gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;11) After all this call save on the XMLConfiguration&lt;/p&gt;

&lt;p&gt;This in 1.5 is giving me structure like,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ss&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;test&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;testProperty&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
       &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;vivekProperty&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
       &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;vivek&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/test&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ss&amp;gt;&lt;/span&gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;I&apos;m not sure if I need to do &quot;addNode&quot; 3 time to add this structure or can it be added in one shot. But, all this used to work fine with 1.3. In our application this is a service so I can call any of the above 3 add nodes individaully in case user may just want to add a new value to an existing property.&lt;/p&gt;

&lt;p&gt;So the problem looks like is the code &quot;node.setAttribute(true);&quot; (in Step 5) is not seems to be doing the right thing. Instead of adding a attribute name, it&apos;s adding a new element name under property, which doesn&apos;t work in my case. &lt;/p&gt;

</comment>
                            <comment id="12597872" author="vivash" created="Mon, 19 May 2008 05:30:14 +0000"  >&lt;p&gt;I tried adding attribute as part of the property element itself,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;nodeToAdd.addAttribute(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultConfigurationNode(attrName, newPropertyName));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This seems to work fine. So, instead of using &quot;setAttribute(true)&quot; if I just do addAttribute it seems to work fine. May be that&apos;s the right way.&lt;/p&gt;

&lt;p&gt;I&apos;ll leave to you guys to see whether there is any issue in 1.5 or it used to work in 1.3 because of some bug, which has been fixed in 1.5.&lt;/p&gt;

&lt;p&gt;For me the workaround is working fine now.&lt;/p&gt;</comment>
                            <comment id="12598269" author="oliver.heger@t-online.de" created="Tue, 20 May 2008 12:11:53 +0000"  >&lt;p&gt;There was indeed a bug in XMLConfiguration, which prevented attribute nodes from being added using the addNodes() method. A fix was applied. Thank you for spotting this.&lt;/p&gt;

&lt;p&gt;Regarding your use case, I think you do not need the addNodes() method, but you can achieve the same effect in an easer way using addProperty(). For instance, in the unit test I wrote to demonstrate this bug I created a structure similar to your test configuration with the following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;conf.addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;testAddNodes.property[@name]&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;prop1&quot;&lt;/span&gt;);
conf.addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;testAddNodes.property(0).value&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;value1&quot;&lt;/span&gt;);
conf.addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;testAddNodes.property(-1)[@name]&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;prop2&quot;&lt;/span&gt;);
conf.addProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;testAddNodes.property(1).value&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;value2&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This creates two &amp;lt;property&amp;gt; structures. If you look at the last two statements, the first one creates a new &lt;em&gt;property&lt;/em&gt; node and the name attribute at the same time. The index -1 means that a new node is to be created. The following statement adds the &lt;em&gt;value&lt;/em&gt; child node. Here the index of the last &lt;em&gt;property&lt;/em&gt; node must be specified. Hope that helps.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 18 May 2008 19:16:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33904</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l647:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-327] INIConfiguration Global parameters alias sectional parameters</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-327</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;After reading the following file with INIConfiguration &lt;/p&gt;

&lt;p&gt;default = ok&lt;br/&gt;
dotted.var1 = default&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;section1&amp;#93;&lt;/span&gt;&lt;br/&gt;
dotted.var1 = foo&lt;br/&gt;
var2 = doodle&lt;/p&gt;

&lt;p&gt;The set of sections returned by INIConfiguration.getSections() includes &quot;dotted&quot; and &quot;section1&quot;.  I did not expect a section &quot;dotted&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395652">CONFIGURATION-327</key>
            <summary>INIConfiguration Global parameters alias sectional parameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="chonton">Charles Honton</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 May 2008 20:03:36 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Tue, 18 Nov 2008 21:32:35 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>Documentation</component>
                    <component>Format</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12595585" author="ebourg" created="Fri, 9 May 2008 12:52:43 +0000"  >&lt;p&gt;The sections are deduced from the prefixes of the keys, that&apos;s why &quot;dotted&quot; is considered as a section. To prevent this we should probably turn INIConfiguration into a hierarchical configuration, the sections being the first level nodes.&lt;/p&gt;</comment>
                            <comment id="12596526" author="charles_honton@intuit.com" created="Tue, 13 May 2008 20:35:19 +0000"  >&lt;p&gt;Alternatively, since the ini format does not allow brackets in a key name, include brackets in the section part of the key name.  The example above would contain:&lt;/p&gt;

&lt;p&gt;default = ok&lt;br/&gt;
dotted.var1 = default&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;section1&amp;#93;&lt;/span&gt;.dotted.var1 = foo&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;section1&amp;#93;&lt;/span&gt;.var2 = doodle&lt;/p&gt;

&lt;p&gt;This would break prior clients expecting a particular name aliasing.  This would not break clients properly appending the section name to the key name to get the property.&lt;/p&gt;</comment>
                            <comment id="12596549" author="charles_honton@intuit.com" created="Tue, 13 May 2008 22:29:56 +0000"  >&lt;p&gt;A potential fix.  However, it does change the names of the keys.&lt;/p&gt;</comment>
                            <comment id="12647213" author="oliver.heger@t-online.de" created="Thu, 13 Nov 2008 07:36:01 +0000"  >&lt;p&gt;Making INIConfiguration a true hierarchical configuration is certainly the future-proof solution because in the next major release of Commons Configuration all configuration classes are intended to be hierarchical. This will also address some of the other tickets created for INIConfiguration. I will try to create such a hierarchical implementation.&lt;/p&gt;

&lt;p&gt;Unfortunately changing the inheritance structure from AbstractFileConfiguration to AbstractHierarchicalFileConfiguration is a binary incompatible change. So I will have to create a new class, say HierarchicalINIConfiguration. We can then deprecate the original INIConfiguration.&lt;/p&gt;</comment>
                            <comment id="12648765" author="oliver.heger@t-online.de" created="Tue, 18 Nov 2008 21:32:35 +0000"  >&lt;p&gt;A new class &lt;tt&gt;HierarchicalINIConfiguration&lt;/tt&gt; was created, which provides enhanced functionality and is also a truly hierarchical configuration. It correctly deals with variables with dots in their names in the global section.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12381991" name="INIConfiguration.diff" size="4057" author="chonton" created="Tue, 13 May 2008 22:29:56 +0000"/>
                            <attachment id="12381992" name="TestINIConfiguration.diff" size="7142" author="chonton" created="Tue, 13 May 2008 22:29:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 May 2008 12:52:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-325] INIConfiguration getSections does not include global section</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-325</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The set returned from INIConfiguration.getSections() does not include the global section.  As an example,  with the following file&lt;/p&gt;

&lt;p&gt;default = ok&lt;br/&gt;
dotted.var1 = default&lt;/p&gt;

&lt;p&gt;[]&lt;br/&gt;
dotted.var1 = empty&lt;br/&gt;
var2 = empty&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;section1&amp;#93;&lt;/span&gt;&lt;br/&gt;
dotted.var1 = foo&lt;br/&gt;
var2 = doodle&lt;/p&gt;

&lt;p&gt;calling INIConfiguration.getSections()  produces a Set with elements &quot;&quot; and &quot;section1&quot;.  I expected a Set with elements null,&quot;&quot;, and &quot;section1&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395650">CONFIGURATION-325</key>
            <summary>INIConfiguration getSections does not include global section</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chonton">Charles Honton</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 May 2008 19:46:29 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Tue, 18 Nov 2008 21:30:52 +0000</resolved>
                                                    <fixVersion>1.6</fixVersion>
                                    <component>Documentation</component>
                    <component>Format</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12648763" author="oliver.heger@t-online.de" created="Tue, 18 Nov 2008 21:30:52 +0000"  >&lt;p&gt;The getSections() method of HierarchicalINIConfiguration takes the global section into account.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Nov 2008 21:30:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l5z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121618</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-323] DefaultConfigurationBuilder, property-value misinterpreted as list, escaped notation of list-delimiter lost during internal processing</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-323</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Shortly we switched from ConfigurationFactory to DefaultConfigurationBuilder for parsing out configuration-files. Unfortunately the resulting Configuration-Objects show different behaviour. The following example illustrates the problem.&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class CommonsConfigTest extends TestCase
{
    public void testCommonsConfig() 
    {
        try
        {
            URL oConfigURL = new File(&quot;c:\\config.xml&quot;).toURL();
			
            //========= ConfigurationFactory ===========
            final ConfigurationFactory oConfigurationFactory = new ConfigurationFactory();
            oConfigurationFactory.setConfigurationURL( oConfigURL );
            printPropertyValue( oConfigurationFactory.getConfiguration() );

            //========= DefaultConfigurationBuilder 1st attempt ===========
            final DefaultConfigurationBuilder oBuilder = new DefaultConfigurationBuilder();
            oBuilder.setURL( oConfigURL );
            printPropertyValue( oBuilder.getConfiguration() );

            //========= DefaultConfigurationBuilder 2nd attempt ===========
            final DefaultConfigurationBuilder oDelimiterBuilder = new DefaultConfigurationBuilder();
            oDelimiterBuilder.setListDelimiter( &apos;;&apos; );
            oDelimiterBuilder.setDelimiterParsingDisabled( true );
            oDelimiterBuilder.setURL( oConfigURL );
            printPropertyValue( oDelimiterBuilder.getConfiguration() );
        }
        catch ( Exception configEx )
        {
            configEx.printStackTrace();
        }
    }
    void printPropertyValue(final Configuration a_oConfig) {
        System.out.println( a_oConfig.getString( &quot;demo.prop&quot; ) );
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;contents of config.xml&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&amp;gt;
&amp;lt;configuration&amp;gt;
    &amp;lt;properties optional=&quot;true&quot; fileName=&quot;/config.properties&quot;/&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;contents of config.properties&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;demo.prop=test\, text using \,\, escaped list delimiters
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the output looks like this&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;test, text using ,, escaped list delimiters
test
test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The value of demo.prop depends on the mechanism which was used to create the Configuration-objects. &lt;br/&gt;
Using ConfigurationFactory gives the expected result: the list delimiters are ignored as they are escaped by backslashes.&lt;br/&gt;
Both attempts using a DefaultConfigurationBuilder fail; even changing the List-delimiter and disabling delimiter-processing doesn&apos;t give the expected result.&lt;/p&gt;

&lt;p&gt;One reason for the problem is the invocation of ConfigurationUtils.copy() during internel processing. The method copies the value of the property from one configuration into another. During insertion of the property, the value of the property is split (StringUtils.split) a second time. Unfortunately the escape-backslashes have already been removed, as a result of the first invocation of StringUtils.split(), which happended during the initial parsing of the file.  That&apos;s why the second split-invocation treats the value as list.&lt;/p&gt;

&lt;p&gt;I see two problems&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the information about escape-characters is lost, copying a property from one configuration into another gives different results&lt;/li&gt;
	&lt;li&gt;setListDelimiter() and setDelimiterParsingDisabled() don&apos;t work as expected&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment>&lt;p&gt;WinXP&lt;/p&gt;</environment>
        <key id="12395523">CONFIGURATION-323</key>
            <summary>DefaultConfigurationBuilder, property-value misinterpreted as list, escaped notation of list-delimiter lost during internal processing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="juergens">juergen schad</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 May 2008 13:55:12 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Tue, 8 Jul 2008 20:06:51 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12595024" author="oliver.heger@t-online.de" created="Wed, 7 May 2008 20:02:57 +0000"  >&lt;p&gt;Thank you for this detailed bug report.&lt;/p&gt;

&lt;p&gt;Did you check this with version 1.5 of Commons Configuration? The 1.5 release addresses some problems with list delimiter handling. Especially &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-283&quot; title=&quot;CombinedConfiguration doesn&amp;#39;t take escaped characters into account.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-283&quot;&gt;&lt;del&gt;CONFIGURATION-283&lt;/del&gt;&lt;/a&gt; seems to be of interest for you.&lt;/p&gt;

&lt;p&gt;Please let us know whether this solves your problem.&lt;/p&gt;</comment>
                            <comment id="12601409" author="oliver.heger@t-online.de" created="Sat, 31 May 2008 19:44:36 +0000"  >&lt;p&gt;Any news on this issue? I tend to close it as duplicate.&lt;/p&gt;</comment>
                            <comment id="12611777" author="oliver.heger@t-online.de" created="Tue, 8 Jul 2008 20:06:50 +0000"  >&lt;p&gt;Got no more feedback, so closing this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 May 2008 20:02:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33926</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177462</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-322] ConfigurationDynaBean doesn&apos;t work with indexed properties stored internally as arrays</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-322</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;ConfigurationDynaBean is not fully tested for properties stored in the configuration as arrays. This case is rare because any array added to a configuration is automatically transformed into a List. To reproduce this issue the configuration must be a wrapper of a source that already contains an array, such as a MapConfiguration or a JNDIConfiguration.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12395054">CONFIGURATION-322</key>
            <summary>ConfigurationDynaBean doesn&apos;t work with indexed properties stored internally as arrays</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ebourg">Emmanuel Bourg</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Apr 2008 09:30:14 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Wed, 30 Apr 2008 11:02:35 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12593286" author="ebourg" created="Wed, 30 Apr 2008 11:02:35 +0000"  >&lt;p&gt;Fixed on the trunk and the 2.x branch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-321] AbstractHierarchicalConfiguration.getKeys(key) doesn&apos;t return the key</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-321</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The getKeys(String prefix) implementation of AbstractHierarchicalConfiguration doesn&apos;t return anything if the prefix used is the key of an existing property. The iterator returned should at least contain the key used as the prefix.&lt;/p&gt;

&lt;p&gt;Here is the test method for TestHierarchicalConfiguration, currently the first assertion fails:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testGetKeysWithKeyAsPrefix()
{
    Iterator&amp;lt;?&amp;gt; it = config.getKeys(&lt;span class=&quot;code-quote&quot;&gt;&quot;order.key1&quot;&lt;/span&gt;);
    assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;no key found&quot;&lt;/span&gt;, it.hasNext());
    assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;1st key&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;order.key1&quot;&lt;/span&gt;, it.next());
    assertFalse(&lt;span class=&quot;code-quote&quot;&gt;&quot;more keys than expected&quot;&lt;/span&gt;, it.hasNext());
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12393847">CONFIGURATION-321</key>
            <summary>AbstractHierarchicalConfiguration.getKeys(key) doesn&apos;t return the key</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Sun, 13 Apr 2008 22:39:21 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Mon, 1 Dec 2008 21:30:55 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12652164" author="oliver.heger@t-online.de" created="Mon, 1 Dec 2008 21:30:55 +0000"  >&lt;p&gt;A fix was applied to both trunk and configuration2 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Dec 2008 21:30:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uppj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-320] XMLPropertyListConfiguration is limited to 32 bits integers</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-320</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;XMLPropertyListConfiguration parses integers as 32 bits values, but the plist spec doesn&apos;t limit the size of the integers. It should at least support Long values, and maybe BigIntegers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393267">CONFIGURATION-320</key>
            <summary>XMLPropertyListConfiguration is limited to 32 bits integers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Apr 2008 15:32:06 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Mon, 7 Apr 2008 15:50:37 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12586435" author="ebourg" created="Mon, 7 Apr 2008 15:50:37 +0000"  >&lt;p&gt;Integer values are now parsed with BigDecimals, and for consistency real value are parsed with BigDecimals&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110829</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-319] Reload(addConfigurationListener) not works for CompositeConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-319</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt; I created 2 XMLConfiguration and added this to CompositeConfiguration using addConfiguration. Now I addConfigurationListern at CompositeConfiguration level. Currently CompositeConfiguration.addConfigurationListern is not overriden and addConfigurationListern never get registeded to any of actual configuration. The solution could be override the CompositeConfiguration.addConfigurationListern which iterate though configList(a private member of CompositeConfiguration class) and registed listern to all the configuration. In current code this is broken funtionality and callback ConfigurationListener.configurationChanged never fired.&lt;/p&gt;

&lt;p&gt;  while reproducing this problem I am calling CompositeConfiguration.getProperty() every minute for reloading from another thread.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux  2.6.9-34.ELsmp #1 SMP Fri Feb 24 16:54:53 EST 2006 i686 i686 i386 GNU/Linux&lt;/p&gt;</environment>
        <key id="12392766">CONFIGURATION-319</key>
            <summary>Reload(addConfigurationListener) not works for CompositeConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sandy_iitd">Sandeep Kumar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2008 18:09:11 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Wed, 3 Dec 2008 21:05:47 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>Events &amp;amp; Notifications</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12583826" author="oliver.heger@t-online.de" created="Mon, 31 Mar 2008 20:28:59 +0000"  >&lt;p&gt;You are right, CompositeConfiguration does not correctly handle change listeners and change events.&lt;/p&gt;

&lt;p&gt;Could you try CombinedConfiguration instead? This class should provide the functionality you need, and it also has some other advantages over CompositeConfiguration - especially it is a truly hierarchical configuration.&lt;/p&gt;

&lt;p&gt;CompositeConfiguration is a bit, well, old-fashioned. In the long run it should be replaced by CombinedConfiguration. So I wonder if it makes sense to address this issue when there is a working alternative.&lt;/p&gt;</comment>
                            <comment id="12652973" author="oliver.heger@t-online.de" created="Wed, 3 Dec 2008 21:05:47 +0000"  >&lt;p&gt;Never got a response, so closing this ticket now. With &lt;tt&gt;CombinedConfiguration&lt;/tt&gt; there is an alternative that supports the features requested here.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 31 Mar 2008 20:28:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uql3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177448</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-318] Constructor XMLConfiguration(HierarchicalConfiguration) loses the name of the root element</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-318</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When creating an XMLConfiguration from another one using the copy constructor the name of the root element (i.e. the document element) is dropped. When the configuration is saved, the default root name (&quot;configuration&quot;) is used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12392137">CONFIGURATION-318</key>
            <summary>Constructor XMLConfiguration(HierarchicalConfiguration) loses the name of the root element</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Mar 2008 19:10:10 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Mon, 24 Mar 2008 16:37:39 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12581595" author="oliver.heger@t-online.de" created="Mon, 24 Mar 2008 16:37:39 +0000"  >&lt;p&gt;Should be fixed now in subversion.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33896</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-316] Constructor XMLConfiguration(HierarchicalConfiguration) invalidates text in singular top element</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-316</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When using the XMLConfiguration(HierarchicalConfiguration) constructor for copying an XMLConfiguration e.g. originally read from the XML string &amp;lt;e a=&quot;v&quot;&amp;gt;example&amp;lt;/e&amp;gt;, the &quot;example&quot; text can still be retrieved from the copy using getString(&quot;&quot;). When saving the copy to an XML file, however, the text is not written; the resulting XML string is just &amp;lt;configuration a=&quot;v&quot;/&amp;gt;. I will attach sample code that illustrates this.&lt;/p&gt;

&lt;p&gt;Whether it is intended that the name of the top-level element gets lost as well, I don&apos;t know (but that is not my focus here).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Sun JDK 6 on Debian GNU/Linux&lt;/p&gt;</environment>
        <key id="12390845">CONFIGURATION-316</key>
            <summary>Constructor XMLConfiguration(HierarchicalConfiguration) invalidates text in singular top element</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="da_kraft">Daniel Kraft</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Mar 2008 13:40:31 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Sun, 23 Mar 2008 19:31:18 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12581418" author="oliver.heger@t-online.de" created="Sun, 23 Mar 2008 19:16:01 +0000"  >&lt;p&gt;After doing some tests the problems seems to be unrelated to the copy constructor: Simply changing the text of the root element using&lt;br/&gt;
config.setProperty(&quot;&quot;, &quot;new text&quot;);&lt;br/&gt;
has no effect when the configuration is saved. (After changing the text, the new text can be queried; but the change is not written to file when save is called.)&lt;/p&gt;

&lt;p&gt;That the name of the root element is lost is a different issue. I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-318&quot; title=&quot;Constructor XMLConfiguration(HierarchicalConfiguration) loses the name of the root element&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-318&quot;&gt;&lt;del&gt;CONFIGURATION-318&lt;/del&gt;&lt;/a&gt; to deal with it.&lt;/p&gt;</comment>
                            <comment id="12581419" author="oliver.heger@t-online.de" created="Sun, 23 Mar 2008 19:31:18 +0000"  >&lt;p&gt;A fix has been applied to both trunk and the configuration2 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12377696" name="Test.java" size="973" author="da_kraft" created="Wed, 12 Mar 2008 13:42:46 +0000"/>
                            <attachment id="12377697" name="output.txt" size="220" author="da_kraft" created="Wed, 12 Mar 2008 13:42:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 23 Mar 2008 19:16:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-315] CombinedConfiguration fire EVENT_COMBINED_INVALIDATE even before the contained configuration is updated</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-315</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;CombinedConfiguration.configurationChanged doesn&apos;t check the !event.isBeforeUpdate() and trigger the invalidate call. The invalidate call fire the EVENT_COMBINED_INVALIDATE. so now when a contained config is changed, EVENT_COMBINED_INVALIDATE is fired twice by the CombinedConfiguration. However it should only fire it after the contained FileConfiguration is updated.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Any&lt;/p&gt;</environment>
        <key id="12389649">CONFIGURATION-315</key>
            <summary>CombinedConfiguration fire EVENT_COMBINED_INVALIDATE even before the contained configuration is updated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="andyyeung">Andy Yeung</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Feb 2008 06:53:08 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:52 +0000</updated>
                            <resolved>Sun, 2 Mar 2008 21:09:10 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>Events &amp;amp; Notifications</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12572833" author="andyyeung" created="Wed, 27 Feb 2008 08:54:38 +0000"  >&lt;p&gt;I also found that the missing checking of isBeforeUpdate in CombinedConfiguration.configurationChanged sometimes mess up the detailEvents in XMLConfiguration contained in CombinedConfiguration. This would prevent !isBeforeUpdate event to sent out to CombinedConfiguration listener, when XMLConfiguration receive the event from its delegate in some cases. (this cases not always occur but happen occasionally). The detailEvents is -1 in that cases.&lt;/p&gt;</comment>
                            <comment id="12574272" author="oliver.heger@t-online.de" created="Sun, 2 Mar 2008 21:09:10 +0000"  >&lt;p&gt;You are right: sending two events per change is an inconsistent behavior.&lt;/p&gt;

&lt;p&gt;I have applied a fix. The isBeforeUpdate() property of the change event is now taken into account.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 2 Mar 2008 21:09:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33887</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 30 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-309] Missing DTD for XMLPropertyListConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-309</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The DTD for validating the XML plist files (PropertyList-1.0.dtd) is not included in the commons-configuration.jar. This prevents the usage of XMLPropertyListConfiguration if the DTD is not added manually at the root of the classpath.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12388842">CONFIGURATION-309</key>
            <summary>Missing DTD for XMLPropertyListConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Feb 2008 12:40:40 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:51 +0000</updated>
                            <resolved>Sun, 17 Feb 2008 00:55:53 +0000</resolved>
                                                    <fixVersion>1.6</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12569631" author="ebourg" created="Sun, 17 Feb 2008 00:55:53 +0000"  >&lt;p&gt;Fixed on the trunk and the 2.x branch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110822</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177246</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-308] User Guide overview section has invalid links to API docs</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-308</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;overview.xml has the following links to Configuration api doc which leads to 404:&lt;/p&gt;

&lt;p&gt;&amp;lt;a href=&quot;apidocs/org/apache/commons/configuration/Configuration.html&quot;&amp;gt;Configuration&amp;lt;/a&amp;gt;&lt;/p&gt;

&lt;p&gt;They should be changed to:&lt;/p&gt;

&lt;p&gt;&amp;lt;a href=&quot;../apidocs/org/apache/commons/configuration/Configuration.html&quot;&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12388006">CONFIGURATION-308</key>
            <summary>User Guide overview section has invalid links to API docs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="fwu">Feng Wu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Feb 2008 19:25:10 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:51 +0000</updated>
                            <resolved>Thu, 7 Feb 2008 07:11:26 +0000</resolved>
                                    <version>1.5</version>
                    <version>1.6</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="180">0.05h</timeoriginalestimate>
                            <timeestimate seconds="180">0.05h</timeestimate>
                                        <comments>
                            <comment id="12566290" author="fwu" created="Wed, 6 Feb 2008 19:26:55 +0000"  >&lt;p&gt;patch is attached here.&lt;/p&gt;</comment>
                            <comment id="12566478" author="oliver.heger@t-online.de" created="Thu, 7 Feb 2008 07:11:25 +0000"  >&lt;p&gt;Patch applied. Many thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12374899" name="overview.xml.patch" size="1247" author="fwu" created="Wed, 6 Feb 2008 19:26:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Feb 2008 07:11:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177438</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-306] INIConfiguration: Quoted values should not be trimmed</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-306</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I am reading in .ini files with quoted strings.  Here is an example of a line:&lt;/p&gt;

&lt;p&gt;CmdPrompt=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;sdog@rosco ~&amp;#93;&lt;/span&gt;$ &quot;&lt;/p&gt;

&lt;p&gt;In Commons Configuration 1.4, this incorrectly reads in as &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;sdog@rosco ~&amp;#93;&lt;/span&gt;$ &quot;.  When I saw that this had been addressed in 1.5, I was excited... until I started using 1.5.  Now I don&apos;t get quotes, but I also don&apos;t get my trailing space, which is the reason I&apos;m using quotes in the first place.  I expect the offending line is the final line in the parseValue(String) method of INIConfiguration:&lt;/p&gt;

&lt;p&gt;line 403:&lt;br/&gt;
        return result.toString().trim();&lt;/p&gt;

&lt;p&gt;Expected behavior: INIConfiguration should read in the exact string between the quotes, not a trimmed version.&lt;/p&gt;

&lt;p&gt;I&apos;m going back to 1.4 and my own code to strip the quotes.  Please address this as I cannot move to future versions without it.&lt;/p&gt;</description>
                <environment>&lt;p&gt;N/A&lt;/p&gt;</environment>
        <key id="12387662">CONFIGURATION-306</key>
            <summary>INIConfiguration: Quoted values should not be trimmed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="jek">John Smith</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Feb 2008 19:23:54 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:51 +0000</updated>
                            <resolved>Sat, 9 Feb 2008 16:53:15 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12567332" author="oliver.heger@t-online.de" created="Sat, 9 Feb 2008 16:53:15 +0000"  >&lt;p&gt;Should be fixed now in subversion. Thanks for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Feb 2008 16:53:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lo0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-305] Downloads should be from Apache mirrors, not iBiblio</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-305</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description></description>
                <environment>&lt;p&gt;Website&lt;/p&gt;</environment>
        <key id="12386712">CONFIGURATION-305</key>
            <summary>Downloads should be from Apache mirrors, not iBiblio</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bayard">Henri Yandell</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Jan 2008 04:41:35 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:51 +0000</updated>
                            <resolved>Sun, 17 Feb 2008 23:53:31 +0000</resolved>
                                                    <fixVersion>1.6</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12569257" author="ebourg" created="Fri, 15 Feb 2008 12:48:48 +0000"  >&lt;p&gt;There are 2 download links in the menu, the first one uses the Apache mirrors, and the second one is for direct jar download on Ibiblio. Is it possible to replace the latter by a link to the Maven repository (repo1.maven.org) ?&lt;/p&gt;</comment>
                            <comment id="12569761" author="ebourg" created="Sun, 17 Feb 2008 23:53:31 +0000"  >&lt;p&gt;Change applied. Please reopen if this was not appropriate.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Feb 2008 12:48:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110820</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uocv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177087</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-303] PropertiesConfigurationLayout </title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-303</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I use UTF8 property file.&lt;/p&gt;

&lt;p&gt;private FileConfiguration config;&lt;br/&gt;
....&lt;br/&gt;
public testGetMessage() throws ConfigurationException &lt;/p&gt;
{ 
 config.setEncoding(&quot;UTF-8&quot;); 
  layout =   config.getLayout();
  System.out.println(config.getString(key));  // good.
  System.out.println(layout .getComment(comment)); //&amp;lt;---
}}

&lt;p&gt;It doesn&apos;t work well. &lt;span class=&quot;error&quot;&gt;&amp;#91;getComment&amp;#93;&lt;/span&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="12386044">CONFIGURATION-303</key>
            <summary>PropertiesConfigurationLayout </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="popiruse">huhjinsuk</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jan 2008 11:28:14 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:51 +0000</updated>
                            <resolved>Sat, 2 Feb 2008 16:54:23 +0000</resolved>
                                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12557965" author="oliver.heger@t-online.de" created="Fri, 11 Jan 2008 11:49:10 +0000"  >&lt;p&gt;Sorry, but from the title of this ticket and your problem description (&quot;it doesn&apos;t work well&quot;) I have no idea what your concrete problem is.&lt;/p&gt;

&lt;p&gt;Can you please be a bit more specific? It is probably also helpful if you attach the affected properties file, so we can do some tests.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12565083" author="oliver.heger@t-online.de" created="Sat, 2 Feb 2008 16:54:23 +0000"  >&lt;p&gt;Got no more feedback on this, so closing as invalid.&lt;/p&gt;

&lt;p&gt;Please reopen if you can provide more information. We need at least&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;a code fragment how your configuration object is created and initialized&lt;/li&gt;
	&lt;li&gt;an excerpt from the properties file you are reading&lt;/li&gt;
	&lt;li&gt;the code how you access the configuration&lt;/li&gt;
	&lt;li&gt;the expected result&lt;/li&gt;
	&lt;li&gt;the actual result&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Jan 2008 11:49:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-302] FileChangedReloadingStrategy.reloadingRequired() can fail</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-302</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;If reloadingRequired() returns true and you call it again before calling reloadingPerformed(), the 2nd time it can return false (but you have not yet reloaded!) because it doesn&apos;t check the file system again until the refresh delay is expired.&lt;br/&gt;
Of course this is a very unusual test case (usually you reload immediately) but the behaviour of the method should be consistent in this case too: if reloadingRequired() returns true any subsequent call to this method should return true until reloadingPerformed() is called.&lt;/p&gt;

&lt;p&gt;In my project I have fixed the method by promoting the flag called &quot;reloading&quot; to class scope so I that can check whether the previous call returned true or false:&lt;/p&gt;

&lt;p&gt;protected boolean reloading = false;&lt;br/&gt;
public boolean reloadingRequired()&lt;br/&gt;
{&lt;br/&gt;
	if (!reloading)&lt;br/&gt;
	{&lt;br/&gt;
		long now = System.currentTimeMillis();&lt;br/&gt;
		if (now &amp;gt; lastChecked + refreshDelay)&lt;br/&gt;
		{&lt;br/&gt;
			lastChecked = now;&lt;br/&gt;
			if (hasChanged())&lt;/p&gt;
			{
				reloading = true;
			}
&lt;p&gt;		}&lt;br/&gt;
	}&lt;br/&gt;
	return reloading;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Of course I reset this flag in init() and reloadingPerformed().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12384648">CONFIGURATION-302</key>
            <summary>FileChangedReloadingStrategy.reloadingRequired() can fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="pnavato">Pino Navato</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Dec 2007 12:37:52 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:51 +0000</updated>
                            <resolved>Tue, 25 Dec 2007 19:06:52 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12551926" author="oliver.heger@t-online.de" created="Fri, 14 Dec 2007 20:13:50 +0000"  >&lt;p&gt;You are probably right. The behavior you describe seems to be more consistent. So I am +1 for applying this change.&lt;/p&gt;

&lt;p&gt;But hey, if we now receive bug reports of this quality, this means that our code base has become pretty stable &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12554352" author="oliver.heger@t-online.de" created="Tue, 25 Dec 2007 19:06:52 +0000"  >&lt;p&gt;A fix has been applied. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Dec 2007 20:13:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-301] NullPointerException in XMLConfiguration.save() after creating it from HierarchicalConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-301</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The subject says it all, the following code reproduces it. The two commented lines work around the bug: The first one fixes the NullPointerException, but destroys the name of the root element; the second arranges for the name being recreated.&lt;/p&gt;

&lt;p&gt;import org.apache.commons.configuration.ConfigurationException;&lt;br/&gt;
import org.apache.commons.configuration.SubnodeConfiguration;&lt;br/&gt;
import org.apache.commons.configuration.XMLConfiguration;&lt;/p&gt;

&lt;p&gt;public class Tester {&lt;br/&gt;
	public static void main(String[] args) throws ConfigurationException &lt;/p&gt;
{
		XMLConfiguration c1 = new XMLConfiguration(&quot;test.xml&quot;);
		c1.save(System.out);
		SubnodeConfiguration c1sub = c1.configurationAt(&quot;b&quot;);
		XMLConfiguration c2 = new XMLConfiguration(c1sub);
		// This fixes the error: c2.getRootNode().setName(null);
		// This fixes the name loss: c2.setRootElementName(&quot;b&quot;);
		c2.save(System.out);
	}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Here comes a simple configuration file to use (test.xml):&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;a&amp;gt;&lt;br/&gt;
  &amp;lt;b&amp;gt;&lt;br/&gt;
    &amp;lt;c /&amp;gt;&lt;br/&gt;
  &amp;lt;/b&amp;gt;&lt;br/&gt;
&amp;lt;/a&amp;gt;&lt;/p&gt;

&lt;p&gt;And here a Stracktrace against &lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/configuration/trunk@603551:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/configuration/trunk@603551:&lt;/a&gt;&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.configuration.XMLConfiguration$XMLBuilderVisitor.insert(XMLConfiguration.java:1188)&lt;br/&gt;
	at org.apache.commons.configuration.HierarchicalConfiguration$BuilderVisitor.visitBeforeChildren(HierarchicalConfiguration.java:1642)&lt;br/&gt;
	at org.apache.commons.configuration.HierarchicalConfiguration$Node.visit(HierarchicalConfiguration.java:1319)&lt;br/&gt;
	at org.apache.commons.configuration.XMLConfiguration$XMLBuilderVisitor.processDocument(XMLConfiguration.java:1153)&lt;br/&gt;
	at org.apache.commons.configuration.XMLConfiguration.createDocument(XMLConfiguration.java:621)&lt;br/&gt;
	at org.apache.commons.configuration.XMLConfiguration.save(XMLConfiguration.java:711)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration$FileConfigurationDelegate.save(AbstractHierarchicalFileConfiguration.java:448)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:544)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:511)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.save(AbstractHierarchicalFileConfiguration.java:214)&lt;br/&gt;
	at Tester.main(Tester.java:14)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Sun JDK 1.5.0-13 on Debian GNU/Linux&lt;/p&gt;</environment>
        <key id="12384489">CONFIGURATION-301</key>
            <summary>NullPointerException in XMLConfiguration.save() after creating it from HierarchicalConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="da_kraft">Daniel Kraft</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Dec 2007 11:23:57 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:51 +0000</updated>
                            <resolved>Thu, 13 Dec 2007 06:52:13 +0000</resolved>
                                    <version>1.4</version>
                    <version>1.5</version>
                    <version>Nightly Builds</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12551116" author="oliver.heger@t-online.de" created="Wed, 12 Dec 2007 21:35:35 +0000"  >&lt;p&gt;You are right, I can reproduce the bug. The problem seems to be that the root element&apos;s reference (which should point to the corresponding XML element) is not correctly initialized. I will have a look.&lt;/p&gt;</comment>
                            <comment id="12551236" author="oliver.heger@t-online.de" created="Thu, 13 Dec 2007 06:52:13 +0000"  >&lt;p&gt;A fix has been applied. Thank you for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Dec 2007 21:35:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177348</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-300] Can not create a PropertiesConfiguration if the filename contains a &apos;#&apos;</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-300</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;It is not possible to load a properties file if there is a &apos;#&apos; in the filename.&lt;/p&gt;

&lt;p&gt;To reproduce:&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) throws Exception&lt;br/&gt;
    {&lt;br/&gt;
        File file = new File(&quot;myProperties #1.properties&quot;);&lt;/p&gt;

&lt;p&gt;        try&lt;/p&gt;
        {
            file.createNewFile();
            
            Configuration configuration = new PropertiesConfiguration(file);
        }
&lt;p&gt;        catch (Exception e)&lt;/p&gt;
        {
            e.printStackTrace();
        }
&lt;p&gt;        finally&lt;/p&gt;
        {
            file.delete();
        }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;The method that drops the &apos;#&apos; is : ConfigurationUtils.fileFromURL...&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 2000&lt;/p&gt;</environment>
        <key id="12382538">CONFIGURATION-300</key>
            <summary>Can not create a PropertiesConfiguration if the filename contains a &apos;#&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jflecomte">Jean-Fran&#231;ois Lecomte</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Nov 2007 18:53:06 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:51 +0000</updated>
                            <resolved>Sun, 17 Feb 2008 23:22:06 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12542603" author="oliver.heger@t-online.de" created="Wed, 14 Nov 2007 21:37:59 +0000"  >&lt;p&gt;Thank you for spotting this. I will have a look.&lt;/p&gt;

&lt;p&gt;We are just in the progress of getting the 1.5 release out. So a fix won&apos;t be possible before 1.6.&lt;/p&gt;</comment>
                            <comment id="12546008" author="oliver.heger@t-online.de" created="Tue, 27 Nov 2007 21:30:58 +0000"  >&lt;p&gt;The problem does not seem to be the fileFromURL() method, but the URL returned by File.toURL() is already incorrect because the &quot;#&quot; character should have been escaped. We have hit a bug in the JDK here:&lt;br/&gt;
&lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4273532&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4273532&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I tend to close this issue as WONT FIX because this is a problem of the JDK with no really satisfying workaround (at least according to the discussion in the ticket mentioned above) . In the future we will probably implement a different mechanism for specifying configuration files based on so-called locators (see &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-153&quot; title=&quot;Use a strategy pattern for locating resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-153&quot;&gt;&lt;del&gt;CONFIGURATION-153&lt;/del&gt;&lt;/a&gt;). With this approach the problem can be solved.&lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="12546120" author="alex+news@olmisoft.com" created="Wed, 28 Nov 2007 05:37:58 +0000"  >&lt;p&gt;&lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/io/File.html#toURL(&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/javase/6/docs/api/java/io/File.html#toURL(&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;File.toURL() is deprecated&lt;br/&gt;
File.toURI().toURL() should be used instead.&lt;/p&gt;</comment>
                            <comment id="12546392" author="oliver.heger@t-online.de" created="Wed, 28 Nov 2007 20:57:24 +0000"  >&lt;p&gt;Yes, this workaround is also mentioned in the bug description for File.toURL(). I intend to drop the JDK 1.3 compatibility anyway, so this can be implemented.&lt;/p&gt;</comment>
                            <comment id="12569760" author="ebourg" created="Sun, 17 Feb 2008 23:22:06 +0000"  >&lt;p&gt;I applied a fix on the trunk but it will only works with Java 1.4 or above. I fixed it on the 2.x branch as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Nov 2007 21:37:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6gn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121697</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-299] Interpolation of ${const:xxx} variables can cause a ClassCastException</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-299</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;If ConstantLookup is used for resolving a variable that is of a different type than String, a ClassCastException can be thrown:&lt;/p&gt;

&lt;p&gt;The first access to this variable obtains the value and stores it in an internal cache. If this variable is requested again, the value is fetched from the cache and a type cast to String is performed. This will fail with a ClassCastException.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12381183">CONFIGURATION-299</key>
            <summary>Interpolation of ${const:xxx} variables can cause a ClassCastException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Oct 2007 19:49:42 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:50 +0000</updated>
                            <resolved>Thu, 25 Oct 2007 20:02:57 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12537713" author="oliver.heger@t-online.de" created="Thu, 25 Oct 2007 20:02:57 +0000"  >&lt;p&gt;A fix was applied for this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123330</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-298] XMLConfiguration/XMLBeanDeclaration problem, garbage data</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-298</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I&apos;m using XMLConfiguration/XMLBeanDeclaration to construct a simple bean from an XML file. &lt;br/&gt;
The bean gets filled with garbage.&lt;/p&gt;

&lt;p&gt;A complete test case is available at: &lt;a href=&quot;http://claywiki.googlecode.com/svn/trunk/claywiki-backyard/src/testcases/commons/config/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://claywiki.googlecode.com/svn/trunk/claywiki-backyard/src/testcases/commons/config/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The same test case works with commons-configuration that is currently (2007-10-04) in trunk.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-S.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Sun JDK 1.6_02&lt;/p&gt;</environment>
        <key id="12379622">CONFIGURATION-298</key>
            <summary>XMLConfiguration/XMLBeanDeclaration problem, garbage data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="j4zzcat">Sharon Dagan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Oct 2007 23:44:40 +0000</created>
                <updated>Sat, 6 Oct 2007 23:13:40 +0000</updated>
                            <resolved>Sat, 6 Oct 2007 23:13:40 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12532514" author="oliver.heger@t-online.de" created="Thu, 4 Oct 2007 19:51:10 +0000"  >&lt;p&gt;Hm, do I understand you correctly that the bug has been fixed since the 1.4 release? So, what&apos;s the point of this ticket?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Oct 2007 19:51:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110817</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uocf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-297] NoSuchMethodError if reloading strategy is specified in configuration XML</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-297</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I&apos;m using the DefaultConfigurationBuilder to load the config.xml which contains the configuration definitions.&lt;/p&gt;

&lt;p&gt;DefaultConfigurationBuilder builder = new DefaultConfigurationBuilder();&lt;br/&gt;
builder.setFile(new File(&quot;config.xml&quot;));&lt;br/&gt;
CombinedConfiguration cc = builder.getConfiguration(true);&lt;/p&gt;

&lt;p&gt;It definitely finds the config.xml file, but it keeps throwing java.lang.NoSuchMethodError: getClass during the loading.&lt;/p&gt;

&lt;p&gt;java.lang.NoSuchMethodError: getClass&lt;br/&gt;
        at org.apache.commons.configuration.beanutils.BeanHelper.loadClass(BeanH&lt;br/&gt;
elper.java:297)&lt;br/&gt;
        at org.apache.commons.configuration.beanutils.BeanHelper.fetchBeanClass(&lt;br/&gt;
BeanHelper.java:322)&lt;br/&gt;
        at org.apache.commons.configuration.beanutils.BeanHelper.createBean(Bean&lt;br/&gt;
Helper.java:244)&lt;br/&gt;
        at org.apache.commons.configuration.beanutils.BeanHelper.createBean(Bean&lt;br/&gt;
Helper.java:266)&lt;br/&gt;
        at org.apache.commons.configuration.beanutils.BeanHelper.initBean(BeanHe&lt;br/&gt;
lper.java:176)&lt;/p&gt;

&lt;p&gt;The config.xml file is:&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&amp;gt;&lt;br/&gt;
&amp;lt;!-- This is the configuration file for the Apache Commons Configuration. --&amp;gt;&lt;br/&gt;
&amp;lt;configuration&amp;gt;&lt;br/&gt;
  	&amp;lt;override&amp;gt;&lt;br/&gt;
    		&amp;lt;properties fileName=&quot;uup.properties&quot; throwExceptionOnMissing=&quot;true&quot; config-name=&quot;uup&quot; config-optional=&quot;true&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;reloadingStrategy refreshDelay=&quot;10000&quot; config-class=&quot;org.apache.commons.configuration.reloading.FileChangedReloadingStrategy&quot;/&amp;gt;&lt;br/&gt;
    		&amp;lt;/properties&amp;gt;&lt;br/&gt;
  	&amp;lt;/override&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;If I remove the reloadingStrategy element from the config.xml file, everything works properly.  I can confirm I have all the required commons jars in my classpath.  Would anyone know what the problem is?  Is there something wrong with my configuration file or is there something more major?  Thanks!&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, WebLogic Portal Server 10.0&lt;/p&gt;</environment>
        <key id="12379533">CONFIGURATION-297</key>
            <summary>NoSuchMethodError if reloading strategy is specified in configuration XML</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsvoon">Jin Voon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Oct 2007 02:14:22 +0000</created>
                <updated>Sun, 23 Jun 2013 15:13:02 +0000</updated>
                            <resolved>Mon, 15 Oct 2007 19:40:25 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12531990" author="jsvoon" created="Wed, 3 Oct 2007 03:36:08 +0000"  >&lt;p&gt;Please note I tried this in an application running in WebLogic Portal Server.  When I tried it on a standalone Java app, this problem does not exists.&lt;/p&gt;</comment>
                            <comment id="12532140" author="oliver.heger@t-online.de" created="Wed, 3 Oct 2007 15:40:01 +0000"  >&lt;p&gt;This does not appear to be a specific problem of Commons Configuration, but a class path issue (welcome to jar hell &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;From tracking down the stack trace, the exception is thrown at a point where org.apache.commons.lang.ClassUtils.getClass(String) is invoked. This class is part of Commons Lang. It seems that you have an older version of this library in your class path, in which the ClassUtils class does not have this method. Maybe a version of Commons Lang is already bundled with WebLogic Portal Server?&lt;/p&gt;

&lt;p&gt;Try to pack the newest version of Commons Lang to your web application (i.e. in WEB-INF/lib).&lt;/p&gt;</comment>
                            <comment id="12534610" author="oliver.heger@t-online.de" created="Sun, 14 Oct 2007 08:52:53 +0000"  >&lt;p&gt;Does this problem still persist? I tend to close this ticket because it obviously is not strictly related to Commons Configuration.&lt;/p&gt;</comment>
                            <comment id="12534688" author="jsvoon" created="Sun, 14 Oct 2007 22:09:26 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
Please close this ticket.  It is related to the class path issue (hell) as suggested.  Thanks a lot for your help!&lt;/p&gt;</comment>
                            <comment id="12534948" author="oliver.heger@t-online.de" created="Mon, 15 Oct 2007 19:40:25 +0000"  >&lt;p&gt;This problem is not related to Commons Configuration.&lt;/p&gt;</comment>
                            <comment id="13691483" author="anuragk" created="Sun, 23 Jun 2013 15:13:02 +0000"  >&lt;p&gt;Hi Jin, &lt;br/&gt;
Can you please let me know what version of commons-lang and commons-configuration did you used to resolve this? I am using the latest commons-lang 2.6 and commons-configuration 1.9 and I am still getting this error. Any help would be much appreciated. &lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Anurag&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Oct 2007 15:40:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 13 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-296] XMLConfiguration and attributes on the root node</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-296</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;With XMLConfiguration it is not possible to change the value of an attribute of the root element.&lt;/p&gt;

&lt;p&gt;New attributes on the root level can be created, e.g.:&lt;/p&gt;

&lt;p&gt;XMLConfiguration config = new XMLConfiguration();&lt;br/&gt;
config.addProperty(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;@test&amp;#93;&lt;/span&gt;&quot;, &quot;true&quot;);&lt;/p&gt;

&lt;p&gt;would create a new &quot;test&quot; attribute of the root element. However if this configuration is saved and loaded again, a&lt;/p&gt;

&lt;p&gt;config.setProperty(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;@test&amp;#93;&lt;/span&gt;&quot;, &quot;false&quot;);&lt;/p&gt;

&lt;p&gt;only temporarily changes the value: getProperty() returns the new value, but when the configuration is saved, the old value is written.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12378926">CONFIGURATION-296</key>
            <summary>XMLConfiguration and attributes on the root node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Sep 2007 15:03:59 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:50 +0000</updated>
                            <resolved>Sun, 23 Sep 2007 16:23:14 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12529748" author="oliver.heger@t-online.de" created="Sun, 23 Sep 2007 16:23:14 +0000"  >&lt;p&gt;The problem was that the root node of a XMLConfiguration was not correctly initialized with a reference to the XML document&apos;s root element. So the value could be temporarily changed, but this change was not applied to the backing XML document. So it got lost when the configuration was saved.&lt;/p&gt;

&lt;p&gt;This problem should be fixed now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33888</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0up6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177220</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-295] HierarchicalConfiguration.subset(...) misses an entry with the key equal to the subset prefix.</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-295</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Having a HierarchicalConfiguration with entries alike:&lt;br/&gt;
    test.sample = subset title&lt;br/&gt;
    test.sample.boolean = true&lt;br/&gt;
    test.sample.int = 123456&lt;br/&gt;
    test.sample.text = I wish it worked!&lt;/p&gt;

&lt;p&gt;When performing subset(&quot;test.sample&quot;), I get a configuration of only three entries, the &quot;subset title&quot; value is not present (should have an empty string key).&lt;/p&gt;

&lt;p&gt;The behaviour is in contradiction to Javadoc of the Configuration interface &lt;a href=&quot;http://commons.apache.org/configuration/apidocs/org/apache/commons/configuration/Configuration.html#subset(java.lang.String&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://commons.apache.org/configuration/apidocs/org/apache/commons/configuration/Configuration.html#subset(java.lang.String&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Seems to me, that the bug is hidden in iterating the cloned configuration, where only children of the clone are processed, but not the root itself.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Commons configuration V1.4&lt;br/&gt;
Loaded configuration: An ordinary commons config XML file referring to two property files.&lt;/p&gt;</environment>
        <key id="12377876">CONFIGURATION-295</key>
            <summary>HierarchicalConfiguration.subset(...) misses an entry with the key equal to the subset prefix.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="eduard.rindt@seznam.cz">Eduard Rindt</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Sep 2007 09:29:59 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:50 +0000</updated>
                            <resolved>Fri, 14 Sep 2007 20:27:56 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12526675" author="oliver.heger@t-online.de" created="Wed, 12 Sep 2007 05:55:52 +0000"  >&lt;p&gt;Setting fix version to 1.5. This should not be too difficult to fix.&lt;/p&gt;</comment>
                            <comment id="12527622" author="oliver.heger@t-online.de" created="Fri, 14 Sep 2007 20:27:56 +0000"  >&lt;p&gt;A fix was committed. The value of the root node of the returned configuration will now be set if possible.&lt;/p&gt;

&lt;p&gt;There is one problem however: If the key that is passed to the subset() method selects multiple nodes and more than one of these nodes has a value, the value of the root node cannot be determined. This is because in this case multiple source nodes have to be mapped to a single destination (the root) node. With child and attribute nodes this is no problem because we can simple construct the union. But for node values (which can be arbitrary objects) we cannot decide how to merge this data.&lt;/p&gt;

&lt;p&gt;I have mentioned this point in the Javadocs of the subset() method. Simple cases, as the one in your example, should now work as expected.&lt;/p&gt;

&lt;p&gt;Thank you for spotting this problem!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Sep 2007 05:55:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33941</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l7e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-294] Trying to set values in the newly added node (using XMLConfiguration) doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-294</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I&apos;m using XMLConfiguration to manipulate my xml configuration file. Here is what I did,&lt;/p&gt;

&lt;p&gt;1) Add a new node using &quot;addNodes&quot;&lt;br/&gt;
2) Save the configuration (using save method)&lt;br/&gt;
3) The new node gets added to the configuration file   &amp;lt;--- Good&lt;br/&gt;
4) Now try setting a value in the just added new node using &quot;setProperty&quot; method.&lt;br/&gt;
5) Save the configuration (using save method)&lt;br/&gt;
6) The save method still writes the configuration that was in step 3        &amp;lt;------- Bug&lt;/p&gt;

&lt;p&gt;Looks like for some reason the save still holds the old configuration in cache that after the add nodes. If I call &quot;reload&quot; after each save then everything works fine. &lt;/p&gt;

&lt;p&gt;Just a setProperty on its own (without addNodes) work fine. It&apos;s only when you try to addNodes and then do setProperty that this fails.&lt;/p&gt;

&lt;p&gt;I&apos;ve tried this with the latest nightly build (1.5), released 1.4 and 1.3 --&amp;gt; all of them fail in this situation.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12376735">CONFIGURATION-294</key>
            <summary>Trying to set values in the newly added node (using XMLConfiguration) doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="vivash">vivek</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Aug 2007 18:04:47 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:50 +0000</updated>
                            <resolved>Fri, 24 Aug 2007 09:38:07 +0000</resolved>
                                    <version>1.4</version>
                    <version>1.5</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12522242" author="oliver.heger@t-online.de" created="Thu, 23 Aug 2007 19:35:47 +0000"  >&lt;p&gt;You are right, this is a bug.&lt;/p&gt;

&lt;p&gt;The problem seems to be that the nodes passed to addNodes() are directly added to the internal node structure without checking for their type: If they are HierarchicalConfiguration.Node objects and not XMLConfiguration.XMLNode objects, a change of their value is not reflected in the internally hold XML document.&lt;/p&gt;

&lt;p&gt;A solution is to convert the nodes in addNodes() to the correct type XMLNode if necessary.&lt;/p&gt;</comment>
                            <comment id="12522451" author="oliver.heger@t-online.de" created="Fri, 24 Aug 2007 09:38:07 +0000"  >&lt;p&gt;A fix was applied. Thank you for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Aug 2007 19:35:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-293] HierarchicalConfiguration.clearTree() does not remove named property</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-293</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;HierarchicalConfiguration.clearTree(String) calls HierarchicalConfiguration.removeNode(ConfigurationNode) which removes nothing if the passed in ConfigurationNode has no parent. Having no parent is true of nodes that have the root for their parent (it seems to me) as well as for nodes that have no properties defined &quot;above&quot; them. Here is an example:&lt;/p&gt;

&lt;p&gt;config.addProperty(&quot;a.b.c&quot;, &quot;c&quot;);&lt;br/&gt;
config.addProperty(&quot;a.b.c.d&quot;, &quot;d&quot;);&lt;br/&gt;
config.addProperty(&quot;a.b.c.d.e&quot;, &quot;e&quot;);&lt;/p&gt;

&lt;p&gt;The following sequence of calls will fail:&lt;br/&gt;
config.clearTree(&quot;a.b.c&quot;);&lt;br/&gt;
assert config.containsKey(&quot;a.b.c&quot;) == false;&lt;/p&gt;

&lt;p&gt;The following sequence of calls will succeed:&lt;br/&gt;
config.clearTree(&quot;a.b.c.d&quot;);&lt;br/&gt;
assert config.containsKey(&quot;a.b.c.d&quot;) == false;&lt;br/&gt;
assert config.containsKey(&quot;a.b.c.d.e&quot;) == false;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12376550">CONFIGURATION-293</key>
            <summary>HierarchicalConfiguration.clearTree() does not remove named property</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="josuah">Wesley Miaw</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Aug 2007 23:08:48 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:50 +0000</updated>
                            <resolved>Fri, 24 Aug 2007 15:10:41 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12521846" author="oliver.heger@t-online.de" created="Wed, 22 Aug 2007 16:29:58 +0000"  >&lt;p&gt;I tried to reproduce the problem, but without success. The following test case (which I have added to TestHierarchicalConfiguration) based on your description does not cause any problems (on the current SVN head):&lt;/p&gt;

&lt;p&gt;    public void testClearTreeHierarchy()&lt;/p&gt;
    {
        config.addProperty(&quot;a.b.c&quot;, &quot;c&quot;);
        config.addProperty(&quot;a.b.c.d&quot;, &quot;d&quot;);
        config.addProperty(&quot;a.b.c.d.e&quot;, &quot;e&quot;);
        config.clearTree(&quot;a.b.c&quot;);
        assertFalse(&quot;Property not removed&quot;, config.containsKey(&quot;a.b.c&quot;));
        assertFalse(&quot;Sub property not removed&quot;, config.containsKey(&quot;a.b.c.d&quot;));
    }

&lt;p&gt;The code of removeNode() seems okay to me. It removes the affected node from its parent, which effectively causes the whole sub tree to be removed from the configuration.&lt;/p&gt;

&lt;p&gt;Can you please double-check?&lt;/p&gt;</comment>
                            <comment id="12521907" author="josuah" created="Wed, 22 Aug 2007 19:46:56 +0000"  >&lt;p&gt;Yeah. I looked into removeNode() and the code makes sense. I just tried again and it works, unless you have the following set up. I&apos;ll attach the bug-config.xml and the two files it tries to load up as well. (This is a CombinedConfiguration; I can only make this happen with the CombinedConfiguration, it works fine if either of the two files mentioned in bug-config.xml loses its inner-most definition (i.e. bug-override.xml only has &amp;lt;a&amp;gt;&amp;lt;/a&amp;gt; or bug-test.properties is empty).&lt;/p&gt;

&lt;p&gt;	final String prefix = &quot;a.b.c&quot;;&lt;br/&gt;
	public void clearTree() throws ConfigurationException &lt;/p&gt;
{
		final URL xml = this.getClass().getClassLoader().getResource(&quot;bug-config.xml&quot;);
		final DefaultConfigurationBuilder builder = new DefaultConfigurationBuilder(xml);
		final CombinedConfiguration config = (CombinedConfiguration)builder.getConfiguration(true);
		
		config.addProperty(prefix, &quot;c&quot;);
		config.addProperty(prefix + &quot;.d&quot;, &quot;d&quot;);
		config.addProperty(prefix + &quot;.d.e&quot;, &quot;e&quot;);
        
		config.clearTree(prefix);
		assert !config.containsKey(prefix + &quot;.d&quot;) : &quot;Sub property not removed&quot;;
		assert !config.containsKey(prefix) : &quot;Property not removed&quot;;
	}</comment>
                            <comment id="12521909" author="josuah" created="Wed, 22 Aug 2007 19:48:35 +0000"  >&lt;p&gt;The CombinedConfiguration initialization files for the situation described by this bug.&lt;/p&gt;</comment>
                            <comment id="12522059" author="oliver.heger@t-online.de" created="Thu, 23 Aug 2007 08:19:30 +0000"  >&lt;p&gt;Ah, I think I know now what is going on.&lt;/p&gt;

&lt;p&gt;With a CombinedConfiguration things are a little bit different. The node structure of a combined configuration is constructed from the nodes of its contained child configurations each time one of the children is modified. In your test you remove a sub tree, which causes a child configuration to be changed and results in an update event. This event causes the combined configuration to be re-created. This time, because an override node combiner is used (the child configurations are defined in an &amp;lt;override&amp;gt; section), the just deleted sub tree is pulled in from another child configuration.&lt;/p&gt;

&lt;p&gt;The following section of the user guide contains more information about updates on combined configurations; it should give you some background information about what is happening:&lt;br/&gt;
&lt;a href=&quot;http://commons.apache.org/configuration/userguide/howto_combinedconfiguration.html#Dealing_with_changes&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://commons.apache.org/configuration/userguide/howto_combinedconfiguration.html#Dealing_with_changes&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Well, how should this issue be treated? What you have found here is a known limitation of CombinedConfiguration. Given its design, it is not trivial to change. So I tend to resolve this issue as Won&apos;t fix. What do you think?&lt;/p&gt;</comment>
                            <comment id="12522195" author="josuah" created="Thu, 23 Aug 2007 17:00:57 +0000"  >&lt;p&gt;So I reimplemented clearTree() as follows, and it does what I expect it to do this way.&lt;/p&gt;

&lt;p&gt;  Iterator&amp;lt;String&amp;gt; keys = getKeys(key);&lt;br/&gt;
  while (keys.hasNext()) &lt;/p&gt;
{
    clearProperty(keys.next());
  }
&lt;p&gt;  if (containsKey(key)) &lt;/p&gt;
{
    clearProperty(key);
  }

&lt;p&gt;the getKeys() while loop clears out all of the sub-properties, and clearProperty(key) does the right thing because it actually sets the value of the property to null. So even though the node isn&apos;t actually removed because it has no parent, it has no value anymore. From what I understand, this fulfills the contract of clear*(), since technically none of the clear*() methods say the nodes are removed, just that they have no value.&lt;/p&gt;

&lt;p&gt;Of course, this fires off EVENT_CLEAR_PROPERTY instead of EVENT_CLEAR_TREE, but that&apos;s just because the above code calls the public methods.&lt;/p&gt;

&lt;p&gt;But that doesn&apos;t really match up with how you described it (and as the documentation mentions). Why is it that in a non-CombinedConfiguration, the node would have a parent, but in a CombinedConfiguration, it doesn&apos;t?&lt;/p&gt;</comment>
                            <comment id="12522210" author="oliver.heger@t-online.de" created="Thu, 23 Aug 2007 18:10:41 +0000"  >&lt;p&gt;As far as I understand it, clearTree() indeed removes a node from the combined configuration. This affects the child configuration, from which this node was obtained. After that the combined configuration has to be re-constructed. In this process the used override combiner will again add a node that matches the just removed key - but this time it is obtained from the other child configuration.&lt;/p&gt;

&lt;p&gt;The only save way of implementing your clearTree() method would be to iterate over all child configurations and to call clearTree() on them. Then you can be sure that all possible nodes have been removed.&lt;/p&gt;</comment>
                            <comment id="12522226" author="josuah" created="Thu, 23 Aug 2007 18:57:08 +0000"  >&lt;p&gt;I understand what you&apos;re saying, but tracing the code for clearTree() in this example case does not seem to modify the internal structure at all. So I don&apos;t see how the node is actually removed from anything.&lt;/p&gt;

&lt;p&gt;Well, I&apos;ll let you guys figure out if you&apos;d like to change this behavior, and if so, how you would do it. Iterating over the configurations to call clearTree() doesn&apos;t work because there&apos;s no guarantee a child configuration is an instance of HierarchicalConfiguration.&lt;/p&gt;

&lt;p&gt;It just seems to me that CombinedConfiguration, as a subclass of HierarchicalConfiguration, should not result in behavior different than that documented by HierarchicalConfiguration, otherwise things don&apos;t do what you&apos;d expect inheritance-wise.&lt;/p&gt;</comment>
                            <comment id="12522246" author="oliver.heger@t-online.de" created="Thu, 23 Aug 2007 19:47:26 +0000"  >&lt;p&gt;If nothing gets removed, this is probably because you have hit one of the &quot;link&quot; nodes that have been added by the NodeCombiner. Those nodes may indeed have no parent.&lt;/p&gt;

&lt;p&gt;Your statements about inheritance do make sense. OTOH a CombinedConfiguration acts like a logic view on an arbitrary number of child configurations. And this view is constructed by a pluggable strategy, a NodeCombiner. In this scenario I simply see no way of implementing all the operations defined in HierarchicalConfiguration in a generic way that is compatible with each possible NodeCombiner. Hence the warning in the user guide about updates of a combined configuration. Maybe this fact should be made more obvious in the class&apos;s documentation?&lt;/p&gt;</comment>
                            <comment id="12522254" author="josuah" created="Thu, 23 Aug 2007 20:07:07 +0000"  >&lt;p&gt;Maybe examples would help to illustrate the issue. I took &quot;It is not strictly forbidden to manipulate a CombinedConfiguration directly, but the results may be unpredictable.&quot; to mean if I tried to play around with its insides in a way other than the public interface.&lt;/p&gt;</comment>
                            <comment id="12522556" author="oliver.heger@t-online.de" created="Fri, 24 Aug 2007 15:10:41 +0000"  >&lt;p&gt;The javadocs for CombinedConfiguration have been updated with some examples why updates on such a configuration can be problematic.&lt;/p&gt;

&lt;p&gt;Closing this issue as Won&apos;t fix because no code is altered.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12364346" name="bug-config.xml" size="217" author="josuah" created="Wed, 22 Aug 2007 19:48:35 +0000"/>
                            <attachment id="12364347" name="bug-override.xml" size="95" author="josuah" created="Wed, 22 Aug 2007 19:48:35 +0000"/>
                            <attachment id="12364348" name="bug-test.properties" size="13" author="josuah" created="Wed, 22 Aug 2007 19:48:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Aug 2007 16:29:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33852</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqlj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-292] removeChild() doen&apos;t trigger auto saving</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-292</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When I remove nodes from the XMLConfiguration with autoSave enabled the file doesn&apos;t change. Here is an example &lt;/p&gt;

&lt;p&gt;XMLConfiguration config = new XMLConfiguration(&quot;c:&lt;br class=&quot;atl-forced-newline&quot; /&gt;conf.xml&quot;); &lt;br/&gt;
config.setAutoSave(true) ; &lt;br/&gt;
ConfigurationNode parentNode = config.getRootNode();&lt;br/&gt;
parentNode.removeChild(childName);&lt;/p&gt;

&lt;p&gt;config.xml didn&apos;t change to reflect the changes&lt;/p&gt;</description>
                <environment>&lt;p&gt;I am using Nightly build dated July 19, 2007 &lt;/p&gt;</environment>
        <key id="12375801">CONFIGURATION-292</key>
            <summary>removeChild() doen&apos;t trigger auto saving</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ifridkina">irina fridkina</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Aug 2007 22:14:46 +0000</created>
                <updated>Thu, 24 Mar 2016 20:13:01 +0000</updated>
                                            <version>1.4</version>
                                    <fixVersion>2.x</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12519240" author="oliver.heger@t-online.de" created="Sat, 11 Aug 2007 15:15:39 +0000"  >&lt;p&gt;When directly accessing the nodes of a hierarchical configuration you circumvent all internal update mechanisms. For normal operations you should not do that (why don&apos;t you call clearProperty() or clearTree() instead?). The way hierarchical configurations are implemented at the moment makes it very hard detect such direct changes on the raw data model.&lt;/p&gt;

&lt;p&gt;Maybe this can be changed in a future release. We might for instance implement an event notification mechanism that operates on a certain hierarchy of nodes. This will however involve incompatible changes on classes and interfaces, so I am setting the fix version to the next major release.&lt;/p&gt;</comment>
                            <comment id="12519531" author="ifridkina" created="Mon, 13 Aug 2007 21:33:31 +0000"  >&lt;p&gt;What if I want to remove a specific child element rather then all children with the given name. Why not make removeNode(ConfigurationNode node) public and add a remove node event?&lt;/p&gt;</comment>
                            <comment id="12519651" author="oliver.heger@t-online.de" created="Tue, 14 Aug 2007 11:48:09 +0000"  >&lt;p&gt;Can&apos;t you achieve the same effects with clearProperty() or clearTree() if the key you specify is specifc enough to select exactly one node?&lt;/p&gt;</comment>
                            <comment id="12519760" author="ifridkina" created="Tue, 14 Aug 2007 20:05:32 +0000"  >&lt;p&gt;I have a list of nodes with the same key. I use value inside the node to determine which node I want to remove.&lt;/p&gt;

&lt;p&gt;&quot;Oliver Heger (JIRA)&quot; &amp;lt;jira@apache.org&amp;gt; wrote:   &lt;br/&gt;
[ &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-292?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#action_12519651&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CONFIGURATION-292?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#action_12519651&lt;/a&gt; ] &lt;/p&gt;

&lt;p&gt;Oliver Heger commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-292&quot; title=&quot;removeChild() doen&amp;#39;t trigger auto saving&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-292&quot;&gt;CONFIGURATION-292&lt;/a&gt;:&lt;br/&gt;
--------------------------------------------&lt;/p&gt;

&lt;p&gt;Can&apos;t you achieve the same effects with clearProperty() or clearTree() if the key you specify is specifc enough to select exactly one node?&lt;/p&gt;


&lt;p&gt;&amp;#8211; &lt;br/&gt;
This message is automatically generated by JIRA.&lt;br/&gt;
-&lt;br/&gt;
You can reply to this email to add a comment to the issue online.&lt;/p&gt;




&lt;p&gt;---------------------------------&lt;br/&gt;
Looking for a deal? Find great prices on flights and hotels with Yahoo! FareChase.&lt;/p&gt;</comment>
                            <comment id="12525252" author="ifridkina" created="Wed, 5 Sep 2007 23:10:46 +0000"  >&lt;p&gt;Is it posible to add a new event  EVENT_REMOVE_NODE and have this event fired when invoking  removeNode(ConfigurationNode node) methods of HierarchicalConfiguration and make that method public?&lt;/p&gt;</comment>
                            <comment id="12525608" author="oliver.heger@t-online.de" created="Fri, 7 Sep 2007 06:32:21 +0000"  >&lt;p&gt;I am very reluctant to make the removeNode() method public and add the event for the following reasons:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;This would add a new method to the public API of HierarchicalConfiguration with a semantic that somewhat conflicts with the clearProperty()/clearTree() methods.&lt;/li&gt;
	&lt;li&gt;The method was originally intended to do some cleanup after a property was deleted (to remove empty nodes without children). This is more an implementation detail rather than a feature to be exposed.&lt;/li&gt;
	&lt;li&gt;What would be the relation between an EVENT_REMOVE_NODE event and an EVENT_CLEAR_PROPERTY? Would either event trigger the other one or not? For event listeners it would be harder to properly react on these events.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Having said that, what other options are there to solve your problem. As I understand it, you have a parent node and want to remove some of its children matching a certain condition. You could do the following:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Use the XPathExpressionEngine. Here you can use the full power of XPath to specify your condition when defining the key for clearProperty() or clearTree().&lt;/li&gt;
	&lt;li&gt;Construct the keys on your own using indices. This could look roughly like the following pseudo code:&lt;br/&gt;
ConfigurationNode parent = ...&lt;br/&gt;
String parentKey = ...&lt;br/&gt;
boolean found = false;&lt;br/&gt;
do {&lt;br/&gt;
  for(Iterator it = parent.getChildren(); it.hasNext()) {&lt;br/&gt;
    ConfigurationNode node = (ConfigurationNode) it.next();&lt;br/&gt;
    if(node meets my condition) 
{
      // construct a key for the first node with this name by using index 0
      String nodeKey = parentKey + &quot;.&quot; + node.getName() + &quot;(0)&quot;;
      config.clearTree(nodeKey);
      found = true;
      break;
    }
&lt;p&gt;}while(found);&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Here you create unambiguous keys for every single node to be removed.&lt;/p&gt;

&lt;p&gt;Does this help you?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 11 Aug 2007 15:15:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19x9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266022</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-291] addNodes() doesn&apos;t trigger auto saving</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-291</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When I add nodes the XMLConfiguration with autoSave enabled the file doen&apos;t change to reflect new nodes. Here is an example&lt;/p&gt;

&lt;p&gt;XMLConfiguration config = new XMLConfiguration(&quot;c:&lt;br class=&quot;atl-forced-newline&quot; /&gt;conf.xml&quot;); &lt;br/&gt;
config.setAutoSave(true) ;&lt;br/&gt;
ConfigurationNode childNode = new HierarchicalConfiguration.Node(&quot;ChildNodeName&quot;,&quot;ChildNodeValue&quot;);&lt;br/&gt;
List nodes = new ArrayList();&lt;br/&gt;
nodes.add(childNode);&lt;br/&gt;
config.addNodes(null,nodes);&lt;/p&gt;

&lt;p&gt;config.xml didn&apos;t change to include child node.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;I am using Nightly build dated July 19, 2007&lt;/p&gt;</environment>
        <key id="12375715">CONFIGURATION-291</key>
            <summary>addNodes() doesn&apos;t trigger auto saving</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="ifridkina">irina fridkina</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Aug 2007 01:16:39 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:50 +0000</updated>
                            <resolved>Sat, 11 Aug 2007 14:52:26 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12518985" author="oliver.heger@t-online.de" created="Fri, 10 Aug 2007 11:20:53 +0000"  >&lt;p&gt;Yes, this is a bug. I will have a look.&lt;/p&gt;</comment>
                            <comment id="12519236" author="oliver.heger@t-online.de" created="Sat, 11 Aug 2007 14:52:26 +0000"  >&lt;p&gt;A fix was committed. Thanks for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 Aug 2007 11:20:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33854</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177301</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-287] XMLConfiguration.addNodes() problem using other configuration Nodes</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-287</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Trying to use the method XMLConfiguration.addNodes() to add a tree of configuration properties to a node in other tree fails. &lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;public static void main(String ...args){            &lt;br/&gt;
try&lt;/p&gt;
{
           configDestination = new XMLConfiguration(&quot;output.xml&quot;);
           configSource = new XMLConfiguration(&quot;input.xml&quot;);
       }
&lt;p&gt;       catch(ConfigurationException cex)&lt;/p&gt;
{
           System.out.println(&quot;File not found&quot;);
       }
&lt;p&gt;             Collection collection = new ArrayList();&lt;br/&gt;
       collection = configSource.getRoot().getChildren();&lt;br/&gt;
             configDestination.addNodes(&quot;newNodes&quot;, collection);                  &lt;br/&gt;
try &lt;/p&gt;
{
           configDestination.save();
            }
&lt;p&gt; catch (ConfigurationException e) &lt;/p&gt;
{
           System.out.println(&quot;Error saving&quot;);
       }
&lt;p&gt;}&lt;/p&gt;


&lt;p&gt;The XML files:&lt;/p&gt;

&lt;p&gt;input.xml&lt;/p&gt;

&lt;p&gt;&amp;lt;rootNode&amp;gt;&lt;br/&gt;
   &amp;lt;newNodeChild&amp;gt;&lt;br/&gt;
       &amp;lt;newNodeChildChild&amp;gt;child value&amp;lt;/newNodeChildChild&amp;gt;&lt;br/&gt;
       &amp;lt;newNodeChildChild&amp;gt;child value 2&amp;lt;/newNodeChildChild&amp;gt;&lt;br/&gt;
       &amp;lt;newNodeChildChild&amp;gt;child value 3&amp;lt;/newNodeChildChild&amp;gt;&lt;br/&gt;
   &amp;lt;/newNodeChild&amp;gt;&lt;br/&gt;
&amp;lt;/rootNode&amp;gt;&lt;/p&gt;

&lt;p&gt;output.xml&lt;/p&gt;

&lt;p&gt;&amp;lt;testRootNode&amp;gt;&lt;br/&gt;
   &amp;lt;test&amp;gt;TEST&amp;lt;/test&amp;gt;&lt;br/&gt;
&amp;lt;/testRootNode&amp;gt;&lt;/p&gt;

&lt;p&gt;output.xml after running the code:&lt;/p&gt;

&lt;p&gt;&amp;lt;testRootNode&amp;gt;&lt;br/&gt;
   &amp;lt;test&amp;gt;TEST&amp;lt;/test&amp;gt;&lt;br/&gt;
   &amp;lt;newNodes/&amp;gt;&lt;br/&gt;
&amp;lt;/testRootNode&amp;gt;&lt;/p&gt;

&lt;p&gt;Expected output.xml:&lt;/p&gt;

&lt;p&gt;&amp;lt;testRootNode&amp;gt;&lt;br/&gt;
   &amp;lt;test&amp;gt;TEST&amp;lt;/test&amp;gt;&lt;br/&gt;
   &amp;lt;newNodes&amp;gt;&lt;br/&gt;
       &amp;lt;newNodeChild&amp;gt;&lt;br/&gt;
           &amp;lt;newNodeChildChild&amp;gt;child value&amp;lt;/newNodeChildChild&amp;gt;&lt;br/&gt;
           &amp;lt;newNodeChildChild&amp;gt;child value 2&amp;lt;/newNodeChildChild&amp;gt;&lt;br/&gt;
           &amp;lt;newNodeChildChild&amp;gt;child value 3&amp;lt;/newNodeChildChild&amp;gt;&lt;br/&gt;
       &amp;lt;/newNodeChild&amp;gt;&lt;br/&gt;
   &amp;lt;newNodes/&amp;gt;&lt;br/&gt;
&amp;lt;/testRootNode&amp;gt; &lt;/p&gt;

&lt;p&gt;Apparently &quot;the copied nodes still contain a reference to their old configuration (because you directly fetched them from the root node of the source configuration). Because of this reference they are not detected as new nodes when the destination configuration is saved, and hence not written to disk.&lt;/p&gt;

&lt;p&gt;I think addNodes() should reset this reference, so that the added nodes can be detected as new nodes. (But then you have to be aware that you break the source configuration because a node can only be contained in exactly one configuration.) &quot; &lt;/p&gt;</description>
                <environment></environment>
        <key id="12374654">CONFIGURATION-287</key>
            <summary>XMLConfiguration.addNodes() problem using other configuration Nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="rsilva4">Ruben Silva</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jul 2007 14:05:49 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:50 +0000</updated>
                            <resolved>Thu, 26 Jul 2007 20:17:03 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12515849" author="oliver.heger@t-online.de" created="Thu, 26 Jul 2007 20:17:03 +0000"  >&lt;p&gt;HierarchicalConfiguration.addNodes() now resets the references of the added nodes. This allows XMLConfiguration to detect the affected nodes as new, and they are correctly saved. I also added a note to the Javadocs of addNodes() about directly copying nodes from one configuration to another one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Jul 2007 20:17:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33953</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0up07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-285] &lt;configuration fileName=&quot;local-configuration.xml&quot; config-optional=&quot;true&quot; /&gt; does not report parsing errors in local-configuration.xml</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-285</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I&apos;m trying to build a configuration system to be shared between our Java applications.  I therefore want to have optional configurations included from the main configuration file read by DefaultConfigurationBuilder&lt;/p&gt;

&lt;p&gt;&amp;lt;configuration fileName=&quot;local-configuration.xml&quot; config-optional=&quot;true&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;I have found that if the sub-configuration file is invalid the error is silently ignored.  The same without config-options=&quot;true&quot; results in a ConfigurationException to be thrown (which wraps a ConfigurationRuntimeException which wraps the ConfigurationException which wraps the SAXException).&lt;/p&gt;

&lt;p&gt;I believe that the behaviour is incorrect.  The sub-configuration file should be skipped if not found, but any errors found when parsing the existing file should be logged.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12373504">CONFIGURATION-285</key>
            <summary>&lt;configuration fileName=&quot;local-configuration.xml&quot; config-optional=&quot;true&quot; /&gt; does not report parsing errors in local-configuration.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="ravn">Thorbj&#248;rn Ravn Andersen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2007 12:30:33 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:50 +0000</updated>
                            <resolved>Sat, 21 Jul 2007 19:09:43 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12511852" author="oliver.heger@t-online.de" created="Wed, 11 Jul 2007 20:20:27 +0000"  >&lt;p&gt;Just to make sure I understand your request correctly: If the config-optional attribute is set to true and loading this sub configuration causes an error, the exception should be logged. Other behavior need not be changed, correct?&lt;/p&gt;</comment>
                            <comment id="12514434" author="oliver.heger@t-online.de" created="Sat, 21 Jul 2007 19:09:43 +0000"  >&lt;p&gt;DefaultConfigurationBuilder now fires an error event when loading of an optional configuration source fails.&lt;/p&gt;

&lt;p&gt;If I understand this request correctly, you want to distinguish between cases where an optional configuration cannot be found and where it is present, but loading it causes an error. However this is not possible: &quot;Being present&quot; is specific for file-based configurations, but an optional configuration could be anything, e.g. a JNDI or database configuration. How could we decide, based on the thrown exceptions, whether the current problem was caused by a non-available configuration source or by a source that is available, but cannot be accessed because of an internal error?&lt;/p&gt;

&lt;p&gt;With the error listener mechanism you can hook into the process of loading the declared configuration sources. If an error occurs, you are notified and can make this decision yourself based on any criteria suitable for your concrete application and use case.&lt;/p&gt;</comment>
                            <comment id="12514493" author="ravn" created="Sun, 22 Jul 2007 18:23:21 +0000"  >&lt;p&gt;Thank you for adding this extension.&lt;/p&gt;

&lt;p&gt;I still believe that invalid subconfigurations should be treated differently from optional, non-existant subconfigurations regardless of the invalidation cause, and that the silent ignoring should be a switch that needs to be set, similarly to the config-optional attribute.   I.e. if an optional subconfiguration is invalid, a configuration exception should be thrown.&lt;/p&gt;

&lt;p&gt;I&apos;d prefer not to use CVS-snapshots in production code - do you have a rough estimate of when 1.5 will be released?&lt;/p&gt;</comment>
                            <comment id="12514507" author="oliver.heger@t-online.de" created="Sun, 22 Jul 2007 20:27:44 +0000"  >&lt;p&gt;I follow your argumentation in principle, but I don&apos;t see an easy (and generic) way to find out when a subconfiguration is invalid. So the idea with the event listener approach is to provide a way for implementing this decision yourself.&lt;/p&gt;

&lt;p&gt;ATM there are no concrete plans for a 1.5 release yet. There are still some JIRA tickets, which need to be addressed. So, unfortunately,  I really cannot anticipate a release date.&lt;/p&gt;</comment>
                            <comment id="12517915" author="ravn" created="Mon, 6 Aug 2007 12:38:58 +0000"  >&lt;p&gt;I have now tried running this with the trunk code, and now an Internal Error is logged for every optional sub-configuration which is not present i.e.&lt;/p&gt;

&lt;p&gt;689 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; WARN org.apache.commons.configuration.DefaultConfigurationBuilder  - Internal error&lt;br/&gt;
org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source application-ConfigurationLoader.main-configuration-defaults.xml&lt;/p&gt;

&lt;p&gt;which corresponds to &lt;/p&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
...&lt;br/&gt;
	&amp;lt;configuration fileName=&quot;4s-application-${application}-configuration-defaults.xml&quot; config-optional=&quot;true&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;in the bootstrap configuration file.&lt;/p&gt;

&lt;p&gt;This apparently is caused by the AbstractConfiguration.addErrorListener() call in the AbstractConfiguration constructor.&lt;/p&gt;

&lt;p&gt;Generally a stacktrace in our log means big trouble, so this behaviour is actually worse than before.   Any suggestions?&lt;/p&gt;</comment>
                            <comment id="12518004" author="oliver.heger@t-online.de" created="Mon, 6 Aug 2007 19:56:58 +0000"  >&lt;p&gt;With clearErrorListeners() you can remove the logging listener. Then you can register your own listener that does whatever you want.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jul 2007 20:20:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0up6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-283] CombinedConfiguration doesn&apos;t take escaped characters into account.</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-283</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;I&apos;ve tried to used CombinedConfiguration but it seems escaped characters are not taken into account :&lt;/p&gt;

&lt;p&gt;import org.apache.commons.configuration.CombinedConfiguration;&lt;br/&gt;
import org.apache.commons.configuration.ConfigurationException;&lt;br/&gt;
import org.apache.commons.configuration.PropertiesConfiguration;&lt;/p&gt;

&lt;p&gt;import junit.framework.TestCase;&lt;/p&gt;

&lt;p&gt;public class TestProp extends TestCase {&lt;/p&gt;


&lt;p&gt;	public void testprop() throws ConfigurationException &lt;/p&gt;
{
		// test.properties contains :
		//    without_escape=aa,bb
		//    with_escape=aa\,bb
		//    with_2escapes=aa\\,bb
		
		String prop_filename = &quot;c:\\tmp\\test.properties&quot;;
		PropertiesConfiguration properties_config = new PropertiesConfiguration(prop_filename);
		CombinedConfiguration   combined_config   = new CombinedConfiguration();
		combined_config.addConfiguration(properties_config);
		
		System.out.println(&quot;Properties config&quot;);
		System.out.println(properties_config.getString(&quot;without_escape&quot;));
		System.out.println(properties_config.getString(&quot;with_escape&quot;));
		System.out.println(properties_config.getString(&quot;with_2escapes&quot;));

		System.out.println(&quot;\nCombined config&quot;);
		System.out.println(combined_config.getString(&quot;without_escape&quot;));
		System.out.println(combined_config.getString(&quot;with_escape&quot;));
		System.out.println(combined_config.getString(&quot;with_2escapes&quot;));
		
	}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Result : &lt;br/&gt;
---------&lt;br/&gt;
Properties config&lt;br/&gt;
aa&lt;br/&gt;
aa,bb&lt;br/&gt;
aa,bb&lt;/p&gt;

&lt;p&gt;Combined config&lt;br/&gt;
aa&lt;br/&gt;
aa&lt;br/&gt;
aa&lt;/p&gt;


&lt;p&gt;Thanks !&lt;br/&gt;
Franck&lt;/p&gt;</description>
                <environment></environment>
        <key id="12372816">CONFIGURATION-283</key>
            <summary>CombinedConfiguration doesn&apos;t take escaped characters into account.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="franckv">Franck Valentin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Jul 2007 12:38:23 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:50 +0000</updated>
                            <resolved>Thu, 12 Jul 2007 20:02:18 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12509653" author="oliver.heger@t-online.de" created="Mon, 2 Jul 2007 20:01:42 +0000"  >&lt;p&gt;Thank you for spotting this.&lt;/p&gt;

&lt;p&gt;I had a look at the code, and it seems that this bug is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-272&quot; title=&quot;ConfigurationUtils.copy results in escaped &amp;quot;,&amp;quot; characters no longer being escaped&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-272&quot;&gt;&lt;del&gt;CONFIGURATION-272&lt;/del&gt;&lt;/a&gt;: Under the hood ConfigurationUtils.copy() is called, which does not handle list delimiters correctly.&lt;/p&gt;</comment>
                            <comment id="12512237" author="oliver.heger@t-online.de" created="Thu, 12 Jul 2007 20:02:18 +0000"  >&lt;p&gt;A fix was applied to ConfigurationUtils.convertToHierarchical(), which was the source of the problem.&lt;/p&gt;

&lt;p&gt;This is a simple workaround for the problem with ConfigurationUtils.copy(). We might want to touch this again when this problem is solved. But for the moment everything works fine.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 2 Jul 2007 20:01:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33937</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0up7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177224</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-282] NPE in HierarchicalConfiguration.fetchNodeList after redeployment</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-282</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
        at org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:721)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.fetchNodeList(AbstractHierarchicalFileConfiguration.java:338)&lt;br/&gt;
        at org.apache.commons.configuration.HierarchicalConfiguration.getProperty(HierarchicalConfiguration.java:284)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.getProperty(AbstractHierarchicalFileConfiguration.java:319)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.resolveContainerStore(AbstractConfiguration.java:1222)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getBoolean(AbstractConfiguration.java:667)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getBoolean(AbstractConfiguration.java:633)&lt;/p&gt;


&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
        at org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:721)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.fetchNodeList(AbstractHierarchicalFileConfiguration.java:338)&lt;br/&gt;
        at org.apache.commons.configuration.HierarchicalConfiguration.getProperty(HierarchicalConfiguration.java:284)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.getProperty(AbstractHierarchicalFileConfiguration.java:319)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.resolveContainerStore(AbstractConfiguration.java:1222)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1097)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1077)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, Java 1.5&lt;/p&gt;</environment>
        <key id="12372405">CONFIGURATION-282</key>
            <summary>NPE in HierarchicalConfiguration.fetchNodeList after redeployment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="deki">Dennis Kieselhorst</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jun 2007 06:49:27 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Wed, 18 Jul 2007 19:36:12 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12508306" author="oliver.heger@t-online.de" created="Tue, 26 Jun 2007 19:45:35 +0000"  >&lt;p&gt;It would really be helpful if you could provide some more information: How did you create the configuration object, which properties were set and which key did you pass in.&lt;/p&gt;

&lt;p&gt;Since the last release development has been going on, so the line numbers are no longer valid.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12508808" author="deki" created="Thu, 28 Jun 2007 11:59:12 +0000"  >&lt;p&gt;Unfortunately I cannot add a testcase yet, because the error only occurs in production environment. I will try to reproduce it.&lt;/p&gt;

&lt;p&gt;I think this is the corresponding line: &lt;a href=&quot;http://jakarta.apache.org/commons/configuration/xref/org/apache/commons/configuration/HierarchicalConfiguration.html#721&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/commons/configuration/xref/org/apache/commons/configuration/HierarchicalConfiguration.html#721&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12508919" author="oliver.heger@t-online.de" created="Thu, 28 Jun 2007 19:43:52 +0000"  >&lt;p&gt;A NPE on this line would mean that getExpressionEngine() returns null, which normally should not happen. Is it possible that you do something with serialization or hot-deployment of your application? This could be an explanation why the static defaultExpressionEngine field is null.&lt;/p&gt;</comment>
                            <comment id="12509599" author="deki" created="Mon, 2 Jul 2007 15:39:28 +0000"  >&lt;p&gt;I went through the logs: you&apos;re right... the exception only occurs after a redeployment or a server restart.&lt;/p&gt;</comment>
                            <comment id="12509651" author="oliver.heger@t-online.de" created="Mon, 2 Jul 2007 19:54:06 +0000"  >&lt;p&gt;So, the cause for this problem seems to be the static field for the default expression engine in HierarchicalConfiguration. After a redeploy it obviously looses its value and is set to null.&lt;/p&gt;

&lt;p&gt;I guess, it should be possible to initialize it lazily when it is accessed and it is null. But then the getDefaultExpressionEngine() method has to be synchronized. Does anybody have a better idea? There are probably other static fields in other classes, which can cause similar problems.&lt;/p&gt;</comment>
                            <comment id="12511235" author="oliver.heger@t-online.de" created="Mon, 9 Jul 2007 19:46:39 +0000"  >&lt;p&gt;A fix was committed that initializes the default expression engine every time if it is null. Can you please check whether this solves your problem?&lt;/p&gt;

&lt;p&gt;Unfortunately I have no idea how to write a unit test that demonstrates the problem. However because the defaultExpressionEngine field is now null at the beginning, code coverage should be complete.&lt;/p&gt;

&lt;p&gt;There is now some additional overhead because of the required synchronization of the static getDefaultExpressionEngine() method, which also gets called if no specific expression engine is set for a configuration instance. This could be avoided if the default expression engine is fetched once in the constructor of HierarchicalConfiguration and copied into the member field for the local expression engine. The drawback is that this could break existing code that relies on the fact that changing the default expression engine immediately impacts all configuration instances that have no specific expression engine set. So I would prefer making this change only in a major release.&lt;/p&gt;</comment>
                            <comment id="12513695" author="oliver.heger@t-online.de" created="Wed, 18 Jul 2007 19:36:12 +0000"  >&lt;p&gt;Got no more feedback, so assuming the problem is solved. Please reopen if the issue persists.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jun 2007 19:45:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110810</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uozb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-281] JNDIConfiguration::recursiveGetKeys goes out of stack</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-281</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;There can be cycles in contexts. Websphere 5.1 certainly does have them.&lt;/p&gt;

&lt;p&gt;When getKeys() is called on a JNDIConfiguration, eventually recursiveGetKeys() is called, which calls itself for every subcontext. This will never stop if there is a cycle.&lt;/p&gt;

&lt;p&gt;I would like to suggest the following changes to recursiveGetKeys() to fix this:&lt;/p&gt;

&lt;p&gt;1) check for each subcontext if it has been processed before. If so, don&apos;t process it. An additional stack argument to recursiveGetKeys() should do the trick here.&lt;/p&gt;

&lt;p&gt;2) a maxDepth attribute, like &amp;lt;jndi maxDepth=&quot;4&quot;/&amp;gt;. If the number of subcontexts is equal to maxDepth, stop processing. The maxDepth attribute should be optional of course, and have a default value like 911or so. The stack argument could be used to check the amount of subcontexts processed.&lt;/p&gt;

&lt;p&gt;Because I want to be able to dump the configuration for debugging purposes, this item is of somewhat importance to me.&lt;/p&gt;

&lt;p&gt;I tested this in 1.2 at work, so I cannot easily test this against 1.4. But as the code of 1.4 seems to be more or less the same, I think the problem still exists.&lt;/p&gt;





</description>
                <environment>&lt;p&gt;Websphere 5.1&lt;/p&gt;</environment>
        <key id="12372066">CONFIGURATION-281</key>
            <summary>JNDIConfiguration::recursiveGetKeys goes out of stack</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="michielgkalkman">Michiel Kalkman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jun 2007 18:31:05 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Thu, 21 Jun 2007 20:00:56 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12506670" author="oliver.heger@t-online.de" created="Wed, 20 Jun 2007 21:02:47 +0000"  >&lt;p&gt;I did some testing and could reproduce the problem with mock objects. 1) fixed the problem, assuming that the involved Context objects have a meaningful implementation of equals() and hashCode(). Why would 2) be necessary in addition to 1)?&lt;/p&gt;</comment>
                            <comment id="12506696" author="michielgkalkman" created="Wed, 20 Jun 2007 21:53:51 +0000"  >&lt;p&gt;Cool, thanks.&lt;/p&gt;

&lt;p&gt;I guess #2 is less important, and therefore not necessary, however I just thought that adding maxDepth might reduce the max size of a jndi context tree, and therefore reduce the nr of keys that are returned. Just in case some app decides to be creative with jndi contexts.&lt;/p&gt;</comment>
                            <comment id="12507009" author="oliver.heger@t-online.de" created="Thu, 21 Jun 2007 20:00:56 +0000"  >&lt;p&gt;A fix was applied. Please check if this works for you.&lt;/p&gt;

&lt;p&gt;When I find the time I would like to improve JNDIConfiguration: make it a true hierarchical configuration, support updates of the JNDI tree, etc. This would be a good opportunity for adding a maxDepth property.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Jun 2007 21:02:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-280] autoSave and FileChangedReloadingStrategy corrupts configuration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-280</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;First of all, sorry if this is not a bug. I may have missed some information on how to make autoSave and FileChangedReloadingStrategy work.&lt;/p&gt;

&lt;p&gt;When a change has been detected by the FileChangedReloadingStrategy code, a clear() followed by a load() is executed in the AbstractFileConfiguration class (around line 809 of version 1.4). The clear() method leads to a possiblySave() call which overwrites the configuration. At the end of the clear() method, the configuration file is empty and the following load() method loads this empty configuration. The possiblySave() call is invoked via the work-around (according to the comment in the code) in AbstractConfiguration (line 538).&lt;/p&gt;

&lt;p&gt;I&apos;m using the following code:&lt;/p&gt;

&lt;p&gt;CompositeConfiguration config = new CompositeConfiguration();&lt;br/&gt;
XMLConfiguration xmlconfig = new XMLConfiguration(&quot;config.xml&quot;);&lt;br/&gt;
FileChangedReloadingStrategy fcrs = new FileChangedReloadingStrategy();&lt;br/&gt;
xmlconfig.setReloadingStrategy(fcrs);&lt;br/&gt;
config.addConfiguration(new SystemConfiguration());&lt;br/&gt;
config.addConfiguration(xmlconfig);&lt;br/&gt;
xmlconfig.setAutoSave(true);&lt;br/&gt;
...wait for config changes...		&lt;/p&gt;


&lt;p&gt;A workaround for the problem is to deactivate autoSave in the reload() method of the AbstractFileConfiguration class. After the configuration is cleared and loaded, the original autoSave is restored. See the diff below:&lt;/p&gt;

&lt;p&gt;806a807,808&lt;br/&gt;
&amp;gt;                         boolean autoSaveBak = this.isAutoSave(); // save the current state&lt;br/&gt;
&amp;gt;                         this.setAutoSave(false); // deactivate autoSave to prevent information loss&lt;br/&gt;
813a816&lt;br/&gt;
&amp;gt;                               this.setAutoSave(autoSaveBak); // set autoSave to previous value&lt;/p&gt;


&lt;p&gt;The code fragment looks like:&lt;br/&gt;
--------------------------&lt;br/&gt;
                    if (strategy.reloadingRequired())&lt;br/&gt;
                    {&lt;br/&gt;
                        if (getLogger().isInfoEnabled())&lt;/p&gt;
                        {
                            getLogger().info(&quot;Reloading configuration. URL is &quot; + getURL());
                        }
&lt;p&gt;                        fireEvent(EVENT_RELOAD, null, getURL(), true);&lt;br/&gt;
                        setDetailEvents(false);&lt;br/&gt;
                        boolean autoSaveBak = this.isAutoSave(); // save the current state&lt;br/&gt;
                        this.setAutoSave(false); // deactivate autoSave to prevent information loss&lt;br/&gt;
                        try&lt;/p&gt;
                        {
                            clear();
                            load();
                        }
&lt;p&gt;                        finally&lt;/p&gt;
                        {
                                this.setAutoSave(autoSaveBak); // set autoSave to previous value
                            setDetailEvents(true);
                        }
&lt;p&gt;                        fireEvent(EVENT_RELOAD, null, getURL(), false);&lt;/p&gt;

&lt;p&gt;                        // notify the strategy&lt;br/&gt;
                        strategy.reloadingPerformed();&lt;br/&gt;
                    }&lt;br/&gt;
--------------------------&lt;/p&gt;

&lt;p&gt;I hope this is a valid fix. &lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, Sun Java 5&lt;/p&gt;</environment>
        <key id="12371179">CONFIGURATION-280</key>
            <summary>autoSave and FileChangedReloadingStrategy corrupts configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="roman.kurmanowytsch">Roman Kurmanowytsch</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jun 2007 21:33:35 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Sun, 10 Jun 2007 16:11:36 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12502536" author="roman.kurmanowytsch" created="Thu, 7 Jun 2007 21:36:27 +0000"  >&lt;p&gt;This may be related to ticket 119:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://issues.apache.org/jira/browse/CONFIGURATION-119&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/CONFIGURATION-119&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12502558" author="roman.kurmanowytsch" created="Thu, 7 Jun 2007 22:24:17 +0000"  >&lt;p&gt;Added patch based on trunk revision 545335.&lt;/p&gt;</comment>
                            <comment id="12503181" author="oliver.heger@t-online.de" created="Sun, 10 Jun 2007 16:11:36 +0000"  >&lt;p&gt;Patch applied. A test case was also added.&lt;/p&gt;

&lt;p&gt;Many thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12359217" name="autosave_reload.patch.txt" size="1143" author="roman.kurmanowytsch" created="Thu, 7 Jun 2007 22:24:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 10 Jun 2007 16:11:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uozr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-279] PropertiesConfiguration dysfunctional if constructed with nonexistent File</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-279</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When PropertiesConfiguration is constructed around a File that does not exist, everything seemingly goes well, but saving the configuration only results in an empty file. This differs from constructing a PropertiesConfiguration around a file name passed as String, which appropriately fails at construction-time, since it tries to load() the configuration, which fails.&lt;/p&gt;

&lt;p&gt;When the nonexistent configuration file is passed as File, this does not happen, since the File constructor in AbstractFileConfiguration specifically tests if the file exists before calling load() and succeeds even if it wasn&apos;t called. However, if load() is not called, no PropertiesConfigurationLayout is created or registered to the EventSource, and thus nothing is saved when save() is called on the PropertiesConfiguration. Calling save() actually calls getLayout(), which creates a layout and registers it, but the properties set between construction of the PropertiesConfiguration and calling save() on it are still lost.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12370694">CONFIGURATION-279</key>
            <summary>PropertiesConfiguration dysfunctional if constructed with nonexistent File</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="tazle">Tuure Laurinolli</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Jun 2007 12:51:34 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Sat, 2 Jun 2007 20:03:17 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                    <component>Events &amp;amp; Notifications</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12500967" author="oliver.heger@t-online.de" created="Sat, 2 Jun 2007 20:03:17 +0000"  >&lt;p&gt;A fix was applied. Thank you for spotting this. This was a pretty comprehensive analysis of the problem &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 2 Jun 2007 20:03:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0up7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177226</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-278] ConcurrentModificationException in PropertiesConfigurationLayout</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-278</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;PropertiesConfigurationLayout is not thread safe, if a configuration event is received when the configuration is being saved, a ConcurrentModificationException is thrown :&lt;/p&gt;

&lt;p&gt;java.util.ConcurrentModificationException&lt;br/&gt;
    at org.apache.commons.collections.map.AbstractLinkedMap$LinkIterator.nextEntry(AbstractLinkedMap.java:555)&lt;br/&gt;
    at org.apache.commons.collections.map.AbstractLinkedMap$KeySetIterator.next(AbstractLinkedMap.java:455)&lt;br/&gt;
    at org.apache.commons.configuration.PropertiesConfigurationLayout.save(PropertiesConfigurationLayout.java:455)&lt;br/&gt;
    at org.apache.commons.configuration.PropertiesConfiguration.save(PropertiesConfiguration.java:410)&lt;br/&gt;
    at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:517)&lt;br/&gt;
    at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:484)&lt;br/&gt;
    at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:451)&lt;br/&gt;
    at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:425)&lt;br/&gt;
    at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:373)&lt;br/&gt;
    at org.apache.commons.configuration.AbstractFileConfiguration.possiblySave(AbstractFileConfiguration.java:725)&lt;br/&gt;
    at org.apache.commons.configuration.AbstractFileConfiguration.clearProperty(AbstractFileConfiguration.java:764)&lt;br/&gt;
    at org.apache.commons.configuration.DataConfiguration.clearProperty(DataConfiguration.java:109)&lt;br/&gt;
    at org.apache.commons.configuration.AbstractConfiguration.setProperty(AbstractConfiguration.java:483)&lt;/p&gt;

&lt;p&gt;This happens easily in a multi threaded application using a central configuration with auto saved enabled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12370541">CONFIGURATION-278</key>
            <summary>ConcurrentModificationException in PropertiesConfigurationLayout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 May 2007 15:50:52 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Sun, 17 Jun 2007 19:43:44 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12500225" author="oliver.heger@t-online.de" created="Wed, 30 May 2007 20:05:34 +0000"  >&lt;p&gt;The internally used layoutData map should probably be better synchronized.&lt;/p&gt;

&lt;p&gt;Just wondering: How can an event be received while the save() method is executed? Is the PropertiesConfiguration object that is accessed by multiple threads properly synchronized? We state that configurations need to be manually synchronized if they are modified concurrently.&lt;/p&gt;</comment>
                            <comment id="12500622" author="ebourg" created="Fri, 1 Jun 2007 08:45:10 +0000"  >&lt;p&gt;The configuration is not manually synchronized. Even if Commons Configuration is not fully thread safe I think we can at least fix the most frequent failure points in a multi threaded environment. The result could be unpredictable, but the code shouldn&apos;t crash with an exception.&lt;/p&gt;

&lt;p&gt;That makes me think that we could provide a SynchronizedConfiguration decorator that may help people synchronizing their configurations.&lt;/p&gt;</comment>
                            <comment id="12500685" author="oliver.heger@t-online.de" created="Fri, 1 Jun 2007 11:51:21 +0000"  >&lt;p&gt;Most of our configuration classes are not thread-safe when they are updated (concurrent read-only access should be unproblematic though). For instance BaseConfiguration uses a plain Map for storing its data.&lt;/p&gt;

&lt;p&gt;I disagree that unpredictable results in case of concurrent modifications are better than an exception. This would make bugs of this kind nearly undetectable. The tread-safety (or unsafety) of the configuration classes should be clearly documented (I am not sure whether there is already some information about this on our site), then it is up to the user to handle this properly.&lt;/p&gt;

&lt;p&gt;A decorator for synchronizing configurations is something I also had in mind. This is analogous to the way the Java collections framework handles this topic: plain collections are unsynchronized, but if needed, synchronization can easily be added. I am not sure how such a decorator could be implemented in an elegant way; maybe AOP or dynamic proxies could be a good choice.&lt;/p&gt;

&lt;p&gt;So I would suggest closing this ticket as WON&apos;T FIX and opening a new one for the decorator.&lt;/p&gt;</comment>
                            <comment id="12505614" author="oliver.heger@t-online.de" created="Sun, 17 Jun 2007 19:43:44 +0000"  >&lt;p&gt;The Javadocs of the most popular configuration classes were updated with notes about threading issues. A similar note was also added to the user guide.&lt;/p&gt;

&lt;p&gt;PropertiesConfiguration is not thread-safe per se, so closing this issue as won&apos;t fix.&lt;/p&gt;

&lt;p&gt;If desired, a new ticket can be created for requesting means of supporting synchronized configurations.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 30 May 2007 20:05:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110809</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-277] AbstractConfiguration should handle UnsupportedOperationExceptions in Iterator.remove() gracefully</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-277</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;In AbstractConfiguration method clear() on line 533 (see code below) a possible UnsupportedOperationException is not caught resulting in the malfunctioning of the whole method. However, the documentation of the getKeys() method itself warns about relying on the remove() method of interface Iterator. The clear() method should not propagate that exception, it should catch it and try the clearProperty(String) approach if the remove() method is not supported.&lt;/p&gt;

&lt;p&gt;            Iterator it = getKeys();&lt;br/&gt;
            while (it.hasNext())&lt;br/&gt;
            {&lt;br/&gt;
                String key = (String) it.next();&lt;br/&gt;
                it.remove();                                          &amp;lt;------- EVIL!&lt;/p&gt;

&lt;p&gt;                if (containsKey(key))&lt;/p&gt;
                {
                    // workaround for Iterators that do not remove the property on calling remove()
                    clearProperty(key);
                }

&lt;p&gt;Best regards,&lt;br/&gt;
Michael&lt;/p&gt;</description>
                <environment></environment>
        <key id="12370526">CONFIGURATION-277</key>
            <summary>AbstractConfiguration should handle UnsupportedOperationExceptions in Iterator.remove() gracefully</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="javaprog">Michael Rudolf</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 May 2007 13:52:55 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Tue, 12 Jun 2007 20:06:47 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12500464" author="oliver.heger@t-online.de" created="Thu, 31 May 2007 19:46:34 +0000"  >&lt;p&gt;Okay, we can change this.&lt;/p&gt;

&lt;p&gt;Is there a concrete Configuration class you have trouble with or is the purpose of this issue just to avoid pitfalls when creating new Configuration implementations derived from AbstractConfiguration?&lt;/p&gt;</comment>
                            <comment id="12500624" author="ebourg" created="Fri, 1 Jun 2007 08:48:19 +0000"  >&lt;p&gt;I&apos;m not sure this can be changed, if clearProperty is called in the loop a ConcurrentModificationException may be thrown. The keys to be removed could be collected in the loop and then removed outside the loop on the keys iterator.&lt;/p&gt;</comment>
                            <comment id="12500651" author="javaprog" created="Fri, 1 Jun 2007 10:01:05 +0000"  >&lt;p&gt;I don&apos;t have problems with a concrete implementation included in Commons Configuration but I want to create a new implementation. For the getKeys() method I decided to use java.util.Arrays.asList(T...).iterator(), as I did not want to create a new Iterator implementation to wrap around an array of keys. However, I then realized that the list created by that method does not support the removal of items but throws an UnsupportedOperationException instead. Because the iterator calls that very remove() method it will propagate that runtime exception thus causing the clear() method to malfunction. The point is that this behavior is perfectly fine, it is documented in the collections framework. However, the clear method() does not provide for that.&lt;/p&gt;</comment>
                            <comment id="12500846" author="oliver.heger@t-online.de" created="Fri, 1 Jun 2007 20:46:37 +0000"  >&lt;p&gt;Well, clearProperty() is already invoked in the loop as a fall back if removing through the iterator does not work. So for an iterator that does not support the remove() method there are the following possibilities:&lt;br/&gt;
(1) If it operates on a disjunct set of keys, clearProperty() will work and everything is fine.&lt;br/&gt;
(2) If it is affected by clearProperty(), a ConcurrentModificationException will be thrown. In this case, we have basically transformed the UnsupportedOperationException into another one, so we have not made things worse.&lt;/p&gt;

&lt;p&gt;In case of (2) the implementor of the derived Configuration class is forced to write a custom clear() implementation. In case of (1) we have made the implementor&apos;s life a bit easier. So we would have a certain gain.&lt;/p&gt;</comment>
                            <comment id="12503984" author="oliver.heger@t-online.de" created="Tue, 12 Jun 2007 20:06:47 +0000"  >&lt;p&gt;A fix was applied that catches the potential UnsupportedOperationException. If such an exception is caught, clearProperty() will be called for the remaining properties.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 31 May 2007 19:46:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33954</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-275] ConfigurationUtils.append() doesn&apos;t merge list properties</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-275</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;ConfigurationUtils.append() appends the list object instead of the list elements to the target list. If the list &lt;span class=&quot;error&quot;&gt;&amp;#91;X, Y&amp;#93;&lt;/span&gt; is appended to the list &lt;span class=&quot;error&quot;&gt;&amp;#91;A, B&amp;#93;&lt;/span&gt;, the result is [A, B, &lt;span class=&quot;error&quot;&gt;&amp;#91;X, Y&amp;#93;&lt;/span&gt;] instead of &lt;span class=&quot;error&quot;&gt;&amp;#91;A, B, X, Y&amp;#93;&lt;/span&gt;&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12370289">CONFIGURATION-275</key>
            <summary>ConfigurationUtils.append() doesn&apos;t merge list properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 May 2007 17:12:43 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Mon, 9 Jul 2007 20:36:22 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12511095" author="oliver.heger@t-online.de" created="Mon, 9 Jul 2007 12:09:50 +0000"  >&lt;p&gt;Actually this seems to be a problem of AbstractConfiguration.addProperty(), which does not handle collection parameters properly when delimiter parsing is disabled.&lt;/p&gt;</comment>
                            <comment id="12511247" author="oliver.heger@t-online.de" created="Mon, 9 Jul 2007 20:36:22 +0000"  >&lt;p&gt;A fix was applied. addProperty() now always obtains an iterator for the property to add using PropertyConverter.toIterator(). If delimiter parsing is disabled, a null delimiter is passed in, so that no splitting is performed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Jul 2007 12:09:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121698</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-274] PropertiesConfiguration.save() does not support escaping the escape character</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-274</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When a new property is added to a PropertiesConfiguration, it is possible to escape the escaping character for list delimiters, e.g.&lt;/p&gt;

&lt;p&gt;conf.addProperty(&quot;test.dirs&quot;, &quot;C:\\Temp\\\\,D:\\Data&lt;br class=&quot;atl-forced-newline&quot; /&gt;&quot;);&lt;/p&gt;

&lt;p&gt;Here the Backslash after Temp must be escaped, otherwise the list delimiter won&apos;t be recognized. This works, but when the configuration is saved and loaded again, the backslash that escapes the escape character is dropped. The property is then treated as a single value property with an escaped list delimiter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12370212">CONFIGURATION-274</key>
            <summary>PropertiesConfiguration.save() does not support escaping the escape character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 May 2007 20:39:24 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Thu, 24 May 2007 20:43:44 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12498821" author="oliver.heger@t-online.de" created="Thu, 24 May 2007 20:43:44 +0000"  >&lt;p&gt;A fix has been committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-272] ConfigurationUtils.copy results in escaped &quot;,&quot; characters no longer being escaped</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-272</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When using ConfigurationUtils.copy to go between configuration formats any escaped out &quot;,&quot; characters are put into the output configuration without the escape character.  This results in a different value being returned from getString calls as it now things the property is a list.  If 4 escape characters are used instead of the expected 1 then the copy will end up with the correct value, but then the original will end up with the escape character as part of the property value.  &lt;/p&gt;

&lt;p&gt;Example:&lt;br/&gt;
SomeLongProperty=This is a test\, it is only a test&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Ends up right in the copy, but not right in the original&lt;br/&gt;
SomeOtherProperty=This is also a test\\\\, it is also only a test&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;After copy:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Missing &quot;\&quot; before &quot;,&quot;&lt;br/&gt;
SomeLongProperty=This is a test, it is only a test&lt;br/&gt;
SomeOtherProperty=This is also a test\, it is also only a test&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment>&lt;p&gt;commons 1.4&lt;/p&gt;</environment>
        <key id="12369985">CONFIGURATION-272</key>
            <summary>ConfigurationUtils.copy results in escaped &quot;,&quot; characters no longer being escaped</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="jmeagher">John Meagher</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 May 2007 20:15:02 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Mon, 20 Aug 2007 17:59:56 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12497999" author="ebourg" created="Tue, 22 May 2007 20:38:38 +0000"  >&lt;p&gt;ConfigurationUtils.copy() calls setProperty on the target configuration with the value returned from getProperty() on the source configuration. The target configuration performs a new value parsing but it should not. A workaround is to disable the parsing of the delimiter before copying, and restore it after the copy :&lt;/p&gt;

&lt;p&gt;target.setDelimiterParsingDisabled(true);&lt;br/&gt;
ConfigurationUtils.copy(source, target);&lt;br/&gt;
target.setDelimiterParsingDisabled(false);&lt;/p&gt;</comment>
                            <comment id="12498213" author="jmeagher" created="Wed, 23 May 2007 12:06:12 +0000"  >&lt;p&gt;With that workaround it works as expected.  &lt;/p&gt;</comment>
                            <comment id="12499126" author="ebourg" created="Fri, 25 May 2007 16:02:23 +0000"  >&lt;p&gt;The append() function is also affected by this issue.&lt;/p&gt;

&lt;p&gt;I have two solutions in mind :&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Implement the workaround mentioned above in the copy and append functions, but this is not thread safe, if the target configuration is saved at this moment the list delimiters are lost. It&apos;s certain to happen if the target configuration is a file configuration with auto save set to true.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for copy(), use clearProperty + addPropertyDirect. Unfortunately this will trigger 2 events per key, and since fireEvent() is protected it&apos;s not possible to use the setDetail() trick to fire the right event.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12510904" author="oliver.heger@t-online.de" created="Sat, 7 Jul 2007 15:13:14 +0000"  >&lt;p&gt;I think the problem here is that ConfigurationUtils operates on plain Configuration objects and does not know about specifics like list delimiters available only for classes derived from AbstractConfiguration. And performing a cast to AbstractConfiguration in these methods would be really ugly IMO.&lt;/p&gt;

&lt;p&gt;A solution would be to add new copy() and append() methods to AbstractConfiguration with the same semantics. Then we had full control over the copy process and could also determine, which events to generate (maybe it does not make sense to trigger an event for each copied property, but only one event for the whole copy operation).&lt;/p&gt;

&lt;p&gt;copy() and append() in ConfigurationUtils could then be deprecated, or at least a remark could be added to their documentation that the variants implemented by AbstractConfiguration are preferable.&lt;/p&gt;</comment>
                            <comment id="12521178" author="oliver.heger@t-online.de" created="Mon, 20 Aug 2007 17:59:56 +0000"  >&lt;p&gt;The new append() and copy() methods (as described in my last comment) have been added to AbstractConfiguration. These methods should be used in future. They are able to correctly deal with list delimiters.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 22 May 2007 20:38:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33886</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uoyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-270] INIConfiguration Does not support multi value keys</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-270</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The INIConfiguration save(Writer writer) uses PrintWriter instead of using a class like PropertiesConfiguration.PropertiesWriter.&lt;br/&gt;
Because of that the method uses getString(String key) to get the keys value (which return onlt the first element of the list) and in doing so there is no support for multi value keys.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12369960">CONFIGURATION-270</key>
            <summary>INIConfiguration Does not support multi value keys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ebourg">Emmanuel Bourg</assignee>
                                    <reporter username="paradoxpixel">Daniel Adrian</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 May 2007 16:25:02 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:48 +0000</updated>
                            <resolved>Tue, 22 May 2007 23:10:46 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12497979" author="ebourg" created="Tue, 22 May 2007 20:08:15 +0000"  >&lt;p&gt;And the corollary of using getString() is that interpolation variables are lost. Thank your for spotting this issue Daniel.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 22 May 2007 20:08:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33884</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121683</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-269] PropertiesConfiguration.save() generates superfluous escaping character when delimiter parsing is disabled</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-269</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;PropertiesConfiguration.save() ignores the delimiter parsing disabled flag and escapes all delimiter characters it encounters. When the configuration is loaded again (with delimiter parsing disabled) the values of affected properties contain the escaping character.&lt;/p&gt;

&lt;p&gt;This bug is very similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-268&quot; title=&quot;XMLConfiguration does not fully support disabled delimiter parsing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-268&quot;&gt;&lt;del&gt;CONFIGURATION-268&lt;/del&gt;&lt;/a&gt;, but for PropertiesConfiguration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12369885">CONFIGURATION-269</key>
            <summary>PropertiesConfiguration.save() generates superfluous escaping character when delimiter parsing is disabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ebourg">Emmanuel Bourg</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 May 2007 20:31:01 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:48 +0000</updated>
                            <resolved>Thu, 24 May 2007 11:33:29 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12497582" author="ebourg" created="Mon, 21 May 2007 21:02:23 +0000"  >&lt;p&gt;The best solution is to split the property on several lines.&lt;/p&gt;

&lt;p&gt;I can work on this Oliver if you haven&apos;t started yet.&lt;/p&gt;</comment>
                            <comment id="12497838" author="oliver.heger@t-online.de" created="Tue, 22 May 2007 11:52:03 +0000"  >&lt;p&gt;Splitting is disabled, so the properties should not be splitted. The delimiter parsing disabled flag needs to be checked and, if it is set, the escaping of the list delimiter must be avoided.&lt;/p&gt;</comment>
                            <comment id="12497860" author="ebourg" created="Tue, 22 May 2007 12:56:35 +0000"  >&lt;p&gt;Here is the patch I have in mind :&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;If the list delimiter is disabled, forcing single lines has no effect, and the list properties are written on several lines. It doesn&apos;t make sense to disable the delimiter and expect list properties to be saved on a single line. If the user really wants single line properties to remain compatible with the standard Properties format, he has to enable the delimiter and change it to something else, like the pipe character.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;PropertiesWriter doesn&apos;t escape the delimiter if the delimiter is null. This is a simple change that avoid adding a state to PropertiesWriter (delimiter enabled/disabled) or a reference to the parent configuration.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12497996" author="oliver.heger@t-online.de" created="Tue, 22 May 2007 20:36:34 +0000"  >&lt;p&gt;The patch looks good. Here is a unit test demonstrating the problem. If you like, go on and apply it.&lt;/p&gt;</comment>
                            <comment id="12498596" author="ebourg" created="Thu, 24 May 2007 11:33:29 +0000"  >&lt;p&gt;Thank you for the test Oliver, I integrated it. I added a ConfigurationAssert class to check if two configurations are similar, that may be useful elsewhere.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12357923" name="Config-269_test.diff" size="3567" author="oheger" created="Tue, 22 May 2007 20:36:34 +0000"/>
                            <attachment id="12357880" name="properties.patch" size="2991" author="ebourg" created="Tue, 22 May 2007 12:56:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 May 2007 21:02:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uplj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-268] XMLConfiguration does not fully support disabled delimiter parsing</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-268</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;A call to setDelimiterParsingDisabled(true) should completely turn off the mechanism for searching for list delimiters and splitting property values.&lt;/p&gt;

&lt;p&gt;However XMLConfiguration.save() escapes list delimiters even in this mode. When later such a configuration file is loaded and delimiter parsing is turned off, the values of affected properties will contain the escape character.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12368741">CONFIGURATION-268</key>
            <summary>XMLConfiguration does not fully support disabled delimiter parsing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 May 2007 19:44:31 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:48 +0000</updated>
                            <resolved>Tue, 8 May 2007 20:58:54 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12493945" author="oliver.heger@t-online.de" created="Sun, 6 May 2007 20:44:15 +0000"  >&lt;p&gt;Attributes are also affected, but here the situation is more complicated: We support multiple values for a single attribute, so somebody could do something like this:&lt;/p&gt;

&lt;p&gt;XMLConfiguration conf = new XMLConfiguration();&lt;br/&gt;
conf.setDelimiterParsingDisabled(true);&lt;br/&gt;
conf.addProperty(&quot;test&lt;span class=&quot;error&quot;&gt;&amp;#91;@attr&amp;#93;&lt;/span&gt;&quot;, &quot;1,2,3&quot;);&lt;br/&gt;
conf.addProperty(&quot;test&lt;span class=&quot;error&quot;&gt;&amp;#91;@attr&amp;#93;&lt;/span&gt;&quot;, &quot;4,5,6&quot;);&lt;/p&gt;

&lt;p&gt;If such a configuration is saved, our current implementation will produce the following element:&lt;br/&gt;
&amp;lt;test attr=&quot;1\,2\,3,4\,5\,6&quot;/&amp;gt;&lt;br/&gt;
If this element is loaded when delimiter parsing is disabled, an attribute with two values is created, but the values contain the escaping character. (Note that this is not a problem when delimiters are enabled.)&lt;/p&gt;

&lt;p&gt;I think if delimiter parsing is disabled, attribute values should be read as they are without doing any modifications like removing escape characters. They may be part of the real attribute value. But because XML does not allow multiple occurrences of a single attribute, we always need a delimiter character for representing multiple attribute values. Now when loading a configuration file and delimiter parsing is disabled, deciding whether a delimiter character is used is not trivial. What we could do is using an untypical delimiter character, e.g. the pipe. Then the example element would look like&lt;br/&gt;
&amp;lt;test attr=&quot;1,2,3|4,5,6&quot;/&amp;gt;&lt;br/&gt;
If an attribute value contained this delimiter character, it would have to be escaped. But we still cannot be 100% sure whether the user in deed wants to define an attribute with the single value &quot;1,2,3&amp;#124;4,5,6&quot;.&lt;/p&gt;</comment>
                            <comment id="12494011" author="ebourg" created="Mon, 7 May 2007 10:19:15 +0000"  >&lt;p&gt;And what about generating 2 elements ?&lt;/p&gt;

&lt;p&gt;&amp;lt;test attr=&quot;1,2,3&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;test attr=&quot;4,5,6&quot;/&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="12494115" author="oliver.heger@t-online.de" created="Mon, 7 May 2007 19:41:25 +0000"  >&lt;p&gt;Adding new elements would change the indices of list elements in an almost unpredictable way. This could be quite confusing if keys with indices were used.&lt;/p&gt;

&lt;p&gt;I think I will go for the solution with the special delimiter and add some notes to the Javadocs. I just found out that we do not support escaping the escape character itself (e.g. in &amp;lt;dirs value=&quot;C:\Temp\,C:\Progs\&quot;&amp;gt; the backslash behind Temp would escape the list delimiter). Will try to fix this.&lt;/p&gt;</comment>
                            <comment id="12494398" author="oliver.heger@t-online.de" created="Tue, 8 May 2007 20:58:54 +0000"  >&lt;p&gt;A fix was committed. There are also some more unit tests for the &quot;pathological&quot; cases with escaped and non escaped delimiter characters.&lt;/p&gt;</comment>
                            <comment id="12494703" author="ebourg" created="Thu, 10 May 2007 11:05:05 +0000"  >&lt;p&gt;That looks a bit weird to introduce a secondary list delimiter to disable the primary list delimiter. Why not letting the user change the delimiter himself ? We might add a note in the javadoc suggesting that setDelimiterParsingDisabled(true) is not recommended if list properties are used in attributes, and that changing the list delimiter to an untypical character is preferred.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 May 2007 10:19:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uorj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177153</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-267] INIConfiguration.save() doesn&apos;t save file correctly</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-267</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The PrintWriter used by save() method implemented in INIConfiguration is not flushed so that configurations maybe not saved completely.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP SP2&lt;/p&gt;</environment>
        <key id="12367779">CONFIGURATION-267</key>
            <summary>INIConfiguration.save() doesn&apos;t save file correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ebourg">Emmanuel Bourg</assignee>
                                    <reporter username="forth">Zhenbang Wei</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Apr 2007 02:20:47 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:48 +0000</updated>
                            <resolved>Mon, 23 Apr 2007 09:41:03 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12490876" author="ebourg" created="Mon, 23 Apr 2007 09:41:03 +0000"  >&lt;p&gt;Thank you for reporting this issue, I fixed it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Apr 2007 09:41:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110805</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177295</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-265] XMLConfiguration with setAutoSave(true) doesn&apos;t save if SubnodeConfiguration is changed</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-265</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;config.xml file&lt;br/&gt;
&amp;lt;conf&amp;gt;&lt;br/&gt;
    &amp;lt;parent-item&amp;gt;&lt;br/&gt;
        &amp;lt;sub-item&amp;gt;old_value&amp;lt;/sub-item&amp;gt;&lt;br/&gt;
    &amp;lt;/parent-item&amp;gt;&lt;br/&gt;
&amp;lt;/conf&amp;gt;&lt;/p&gt;

&lt;p&gt;The problem can be reproduced as follows: &lt;/p&gt;

&lt;p&gt; 1 XMLConfiguration config = new XMLConfiguration(&quot;c:&lt;br class=&quot;atl-forced-newline&quot; /&gt;conf.xml&quot;); &lt;br/&gt;
 2 config.setAutoSave(true) ;&lt;br/&gt;
 3 SubnodeConfiguration parentItemConfig = config.configurationAt(&quot;parent-item&quot;); &lt;br/&gt;
 4 parentItemConfig.setProperty(&quot;sub-item&quot;,&quot;new_value&quot;);&lt;br/&gt;
 5. System.out.println(config.getString(&quot;parent-item.sub-item&quot;);  // will print new_value&lt;br/&gt;
 // if you look at the config.xml sub-item still has old_value&lt;/p&gt;

&lt;p&gt; // also if you try to do &lt;br/&gt;
 5 XMLConfiguration config2 = new XMLConfiguration(&quot;c:&lt;br class=&quot;atl-forced-newline&quot; /&gt;conf.xml&quot;);&lt;br/&gt;
 6. System.out.println(config2.getString(&quot;parent-item.sub-item&quot;);  // will print old_value&lt;/p&gt;</description>
                <environment></environment>
        <key id="12367337">CONFIGURATION-265</key>
            <summary>XMLConfiguration with setAutoSave(true) doesn&apos;t save if SubnodeConfiguration is changed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="irina">Irina Fridkina</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Apr 2007 00:06:51 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:48 +0000</updated>
                            <resolved>Sun, 22 Apr 2007 18:59:05 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12490649" author="oliver.heger@t-online.de" created="Sat, 21 Apr 2007 19:28:35 +0000"  >&lt;p&gt;This is indeed a bug, updates in the subnode configuration do not trigger the parent&apos;s auto-save mechanism.&lt;/p&gt;

&lt;p&gt;To be consequent, these updates should then also generate change events for the parent configuration. However this will be problematic because we cannot simply transform the configuration key used by the subnode configuration into the namespace of the parent (the expression engines do not provide this functionality at the moment).  So the only chance I see is to introduce a new event type EVENT_SUBNODE_CHANGED. The properties of this event type can contain all available information about the change.&lt;/p&gt;

&lt;p&gt;In the next major release we can extend the interface for the expression engines to work around this limitation.&lt;/p&gt;</comment>
                            <comment id="12490748" author="oliver.heger@t-online.de" created="Sun, 22 Apr 2007 18:59:05 +0000"  >&lt;p&gt;A fix was applied for triggering the auto-save mechanism for changes at a subnode configuration. There is now also the new event type EVENT_SUBNODE_CHANGED that is fired in such a case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 21 Apr 2007 19:28:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177293</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-264] SubnodeConfiguration does not see reloads of its parent configuration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-264</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The problem can be reproduced as follows:&lt;/p&gt;

&lt;p&gt;1 config = new XMLConfiguration(&quot;c:&lt;br class=&quot;atl-forced-newline&quot; /&gt;conf.xml&quot;);&lt;br/&gt;
2 config.setReloadingStrategy(new FileChangedReloadingStrategy());&lt;br/&gt;
3 SubnodeConfiguration parentItemConfig = config.configurationAt(&quot;parent-item&quot;);&lt;br/&gt;
4 String ss2 = parentItemConfig.getString(&quot;sub-item&quot;);&lt;br/&gt;
5 //Now, &amp;lt;sub-item&amp;gt; node value changes to &quot;new_value&quot;&lt;br/&gt;
6 ss2 = parentItemConfig.getString(&quot;sub-item&quot;); // still returns old_value&lt;/p&gt;</description>
                <environment></environment>
        <key id="12367203">CONFIGURATION-264</key>
            <summary>SubnodeConfiguration does not see reloads of its parent configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Apr 2007 14:22:27 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:48 +0000</updated>
                            <resolved>Sat, 21 Apr 2007 14:35:13 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12489707" author="oliver.heger@t-online.de" created="Wed, 18 Apr 2007 12:07:39 +0000"  >&lt;p&gt;To make a SubnodeConfiguration compatible with reloads of its parent configuration two things need to be changed:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;An access of the subnode configuration needs to trigger the parent configuration, so that it can check if a reload is required.&lt;/li&gt;
	&lt;li&gt;When the parent configuration is reloaded, its set of nodes is completely replaced. So the subnode configuration has to be reconstructed.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;To achieve this, it is necessary to store in the subnode configuration the expression that was used to construct it. Then, when the subnode configuration&apos;s root node is queried (which happens for every property access), the parent can be asked to re-evaluate the expression and return the new root node. This will also trigger a reload of the parent if necessary.&lt;/p&gt;

&lt;p&gt;This solution has the following drawbacks:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;It impacts the performance of SubnodeConfiguration because for each property access an additional query has to be performed on the parent.&lt;/li&gt;
	&lt;li&gt;If the expression engine is changed on the parent configuration, we are lost.&lt;/li&gt;
	&lt;li&gt;Some updates of the parent configuration may cause unexpected results. As an example consider that the parent configuration contains a list of properties and the subnode configuration points to a single element of this list. If now a list element before this element is removed, the subnode configuration will point to a different list element when it is reconstructed. This is because the expression the subnode configuration is based on cannot be updated according to changes on the parent&apos;s properties.&lt;/li&gt;
	&lt;li&gt;The parent configuration could be changed in a way that the subnode configuration becomes invalid (e.g. if the root node of the subnode configuration is removed).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Because of these drawbacks I would like to make this solution optional: I would add a new configurationAt() method to HierarchicalConfiguration that takes an additional boolean argument. If this flag is set to true, the subnode configuration will do the described checks and thus will be aware of reloads of its parent. Otherwise (which is the default) the subnode configuration will behave as it does now (and miss the reloads).&lt;/p&gt;</comment>
                            <comment id="12490620" author="oliver.heger@t-online.de" created="Sat, 21 Apr 2007 14:35:13 +0000"  >&lt;p&gt;A fix was applied that implements the changes outlined before. HierarchicalConfiguration&apos;s configurationAt() method now supports an additional boolean parameter. If this parameter is set to true, reloads of the parent configuration will be detected.&lt;/p&gt;</comment>
                            <comment id="12520108" author="ifridkina" created="Wed, 15 Aug 2007 21:50:14 +0000"  >&lt;p&gt;Can you add similar parameter to the configurationsAt() method.&lt;/p&gt;</comment>
                            <comment id="12521188" author="oliver.heger@t-online.de" created="Mon, 20 Aug 2007 18:27:56 +0000"  >&lt;p&gt;Unfortunately, with the configurationsAt() method it is not as easy.&lt;/p&gt;

&lt;p&gt;The problem is that for making a subnode configuration aware of updates, the exact key to the root node must be known. This is not the case for the configurationsAt() method because the passed in key refers to an arbitrary number of nodes. How the single nodes of this set can be uniquely identified, depends on the currently used expression engine. Currently the ExpressionEngine interface does not provide a method for retrieving the exact key of a passed in node. So there is no chance to obtain this information.&lt;/p&gt;

&lt;p&gt;In the next major release I will probably add such a method to the ExpressionEngine interface. Then this problem could be solved.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Aug 2007 21:50:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-263] XMLConfiguration drops attributes if a property value is a list</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-263</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When the following test is run with the following xml the second assertEquals statement fails:&lt;/p&gt;

&lt;p&gt;XML:&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&amp;gt;&lt;br/&gt;
&amp;lt;test&amp;gt;&lt;br/&gt;
&amp;lt;a name=&quot;X&quot;&amp;gt;ABC&amp;lt;/a&amp;gt;&lt;br/&gt;
&amp;lt;a name=&quot;Y&quot;&amp;gt;1,2,3&amp;lt;/a&amp;gt;&lt;br/&gt;
&amp;lt;/test&lt;/p&gt;

&lt;p&gt;TEST:&lt;br/&gt;
public void testXMLConfig() throws Exception {&lt;br/&gt;
  File file = new File(&quot;/xml/xmlConfigTest.xml&quot;);&lt;/p&gt;

&lt;p&gt;  XMLConfiguration xmlConfig = new XMLConfiguration(file);&lt;br/&gt;
  xmlConfig.load();&lt;/p&gt;

&lt;p&gt;  assertEquals(&quot;X&quot;,xmlConfig.getProperty(&quot;a(0)&lt;span class=&quot;error&quot;&gt;&amp;#91;@name&amp;#93;&lt;/span&gt;&quot;));&lt;br/&gt;
  assertEquals(&quot;Y&quot;,xmlConfig.getProperty(&quot;a(1)&lt;span class=&quot;error&quot;&gt;&amp;#91;@name&amp;#93;&lt;/span&gt;&quot;));&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12367202">CONFIGURATION-263</key>
            <summary>XMLConfiguration drops attributes if a property value is a list</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Apr 2007 14:15:37 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:48 +0000</updated>
                            <resolved>Tue, 17 Apr 2007 19:54:44 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12489525" author="oliver.heger@t-online.de" created="Tue, 17 Apr 2007 19:54:44 +0000"  >&lt;p&gt;A fix was committed. In the problematic scenarios the attributes are now always added to the first list node. So if there is a XML file like that:&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
&amp;lt;list&amp;gt;&lt;br/&gt;
  &amp;lt;a name=&quot;x&quot;&amp;gt;test1,test2&amp;lt;/a&amp;gt;&lt;br/&gt;
  &amp;lt;a name=&quot;y,z&quot; attr=&quot;u&quot;&amp;gt;1,2,3&amp;lt;/a&amp;gt;&lt;br/&gt;
&amp;lt;/list&amp;gt;&lt;/p&gt;

&lt;p&gt;the results are as following:&lt;/p&gt;

&lt;p&gt;&amp;lt;list&amp;gt;&lt;br/&gt;
  &amp;lt;a name=&quot;x&quot;&amp;gt;test1&amp;lt;/a&amp;gt;&lt;br/&gt;
  &amp;lt;a&amp;gt;test2&amp;lt;/a&amp;gt;&lt;br/&gt;
  &amp;lt;a name=&quot;y,z&quot; attr=&quot;u&quot;&amp;gt;1&amp;lt;/a&amp;gt;&lt;br/&gt;
  &amp;lt;a&amp;gt;2&amp;lt;/a&amp;gt;&lt;br/&gt;
  &amp;lt;a&amp;gt;3&amp;lt;/a&amp;gt;&lt;br/&gt;
&amp;lt;/list&amp;gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-260] Incorrect date format in XMLPropertyListConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-260</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The date format used in XMLPropertyListConfiguration is incorrect, it should be :&lt;/p&gt;

&lt;p&gt;    &amp;lt;date&amp;gt;2002-03-22 11:30:00 +0100&amp;lt;/date&amp;gt;&lt;/p&gt;

&lt;p&gt;instead of :&lt;/p&gt;

&lt;p&gt;    &amp;lt;date&amp;gt;2005-01-01T12:00:00-0700&amp;lt;/date&amp;gt;&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://www.gnustep.org/resources/documentation/Developer/Base/Reference/NSPropertyList.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.gnustep.org/resources/documentation/Developer/Base/Reference/NSPropertyList.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12366889">CONFIGURATION-260</key>
            <summary>Incorrect date format in XMLPropertyListConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ebourg">Emmanuel Bourg</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Apr 2007 11:04:29 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:48 +0000</updated>
                            <resolved>Mon, 18 Feb 2008 12:44:16 +0000</resolved>
                                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12487927" author="ebourg" created="Tue, 10 Apr 2007 21:21:52 +0000"  >&lt;p&gt;The date format I used for the implementation was taken from the DTD at &lt;a href=&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apple.com/DTDs/PropertyList-1.0.dtd&lt;/a&gt;, it doesn&apos;t match the format documented on the GNUStep site. The date format we are using currently is rejected by the plutil tool, I&apos;ll check if the gnustep format is accepted.&lt;/p&gt;</comment>
                            <comment id="12569857" author="ebourg" created="Mon, 18 Feb 2008 11:25:06 +0000"  >&lt;p&gt;It&apos;s seems I&apos;m not the only one to notice this inconsistency :&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://lists.apple.com/archives/Webobjects-dev//2008/Jan/msg00810.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lists.apple.com/archives/Webobjects-dev//2008/Jan/msg00810.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I suggest to support both formats for parsing, and ouput only in the Apple format, that&apos;s 2005-01-01T12:00:00Z (and not 2005-01-01T12:00:00-0700 which was incorrect).&lt;/p&gt;</comment>
                            <comment id="12569882" author="ebourg" created="Mon, 18 Feb 2008 12:44:16 +0000"  >&lt;p&gt;Fixed on the trunk and the 2.x branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33918</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177297</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-259] ConfigurationFactory Merge is broken</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-259</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I am trying to merge two Configuration using the ConfigurationFactory and the additional tag. It turns out that subsequent operations on the merged data provide wrong results. In particular, after creating a particular subset from a loaded configuration, the subset is empty. Strangely enough, when using DefaultConfigurationBuilder to load exactly the same configurations this works properly. &lt;/p&gt;

&lt;p&gt;So when initializing the configuration as follows, I get the following error:&lt;/p&gt;

&lt;p&gt;URL configURL = getClass().getResource(configFile);&lt;br/&gt;
ConfigurationFactory factory = new ConfigurationFactory();&lt;br/&gt;
factory.setConfigurationURL(configURL);&lt;br/&gt;
myConfig = factory.getConfiguration();&lt;/p&gt;

&lt;p&gt;60043&lt;br/&gt;
java.util.NoSuchElementException: &apos;HvNr&apos; doesn&apos;t map to an existing object&lt;br/&gt;
	at org.apache.commons.configuration.AbstractConfiguration.getLong(AbstractConfiguration.java:743)&lt;br/&gt;
	at de.awd.vertriebsportal.portal.person.TestConfiguration.main(TestConfiguration.java:84)&lt;br/&gt;
Exception in thread &quot;main&quot; &lt;/p&gt;

&lt;p&gt;But when initializing it like this everything works properly&lt;/p&gt;

&lt;p&gt;DefaultConfigurationBuilder builder = new DefaultConfigurationBuilder();&lt;br/&gt;
            builder.setURL(configURL);&lt;br/&gt;
            myConfig = builder.getConfiguration();&lt;/p&gt;

&lt;p&gt;60043&lt;br/&gt;
54564&lt;/p&gt;

&lt;p&gt;I will attach full source code and xml files&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP running Eclipse, JDK 1.4.2&lt;/p&gt;</environment>
        <key id="12365994">CONFIGURATION-259</key>
            <summary>ConfigurationFactory Merge is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="karlbanke">Karl Banke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Mar 2007 08:47:56 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:48 +0000</updated>
                            <resolved>Fri, 30 Mar 2007 09:35:55 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12484767" author="karlbanke" created="Wed, 28 Mar 2007 08:50:24 +0000"  >&lt;p&gt;Configuration Test File&lt;/p&gt;</comment>
                            <comment id="12484769" author="karlbanke" created="Wed, 28 Mar 2007 08:51:53 +0000"  >&lt;p&gt;Master Configuration File&lt;/p&gt;</comment>
                            <comment id="12484771" author="karlbanke" created="Wed, 28 Mar 2007 08:53:40 +0000"  >&lt;p&gt;Test configuration to be merged&lt;/p&gt;</comment>
                            <comment id="12484774" author="karlbanke" created="Wed, 28 Mar 2007 08:56:16 +0000"  >&lt;p&gt;Configuration to be merged&lt;/p&gt;</comment>
                            <comment id="12484840" author="oliver.heger@t-online.de" created="Wed, 28 Mar 2007 12:19:11 +0000"  >&lt;p&gt;You are right that the merging facilities provided by ConfigurationFactory are not as sophisticated as the ones supported by the newer DefaultConfigurationBuilder class. Because DefaultConfigurationBuilder is intended as a replacement for ConfigurationFactory my motivation for changing this is somewhat limited. (If somebody provided a patch, I would be happy to apply it of course.)&lt;/p&gt;

&lt;p&gt;So would it be sufficient to add some notes to the documentation of ConfigurationFactory (in the JavaDocs and in the user guide) that describe these weakness and refer to DefaultConfigurationBuilder?&lt;/p&gt;</comment>
                            <comment id="12484850" author="karlbanke" created="Wed, 28 Mar 2007 12:38:08 +0000"  >&lt;p&gt;I created yet another case in DefaultConfigurationBuilder where I merged two documents that resembled the ones above with the exception that I use two recursions to find a particular subconfiguration. So the documents that I was now merging had a structure like this&lt;/p&gt;

&lt;p&gt;&amp;lt;config&amp;gt;&lt;br/&gt;
&amp;lt;TestCases&amp;gt;&lt;br/&gt;
      &amp;lt;TestCase&amp;gt;		&lt;br/&gt;
             &amp;lt;name&amp;gt;testCaseName&amp;lt;/name&amp;gt;&lt;br/&gt;
                            &amp;lt;Test&amp;gt;&lt;br/&gt;
                                      &amp;lt;name&amp;gt;testReadPersonByMandantenNr&amp;lt;/name&amp;gt;&lt;br/&gt;
                                                &amp;lt;input&amp;gt;&lt;br/&gt;
		               &amp;lt;HvNr&amp;gt;60043&amp;lt;/HvNr&amp;gt;&lt;/p&gt;

&lt;p&gt;Now, when multiple recusions to get my configuration values for HvNr two &lt;/p&gt;

&lt;p&gt;myConfiguration.subset(&quot;TestCases.TestCase(0)&quot;).subset(Test(0)) .subset(&quot;input&quot;)&lt;br/&gt;
   and &lt;br/&gt;
myConfiguration.subset(&quot;TestCases.TestCase(1)&quot;).subset(Test(0)).subset(&quot;input&quot;);&lt;/p&gt;

&lt;p&gt;The first (fed from the first configuration file) works whereas the second (fed from the second configuration file) fails with an error like the following &lt;/p&gt;

&lt;p&gt;java.util.NoSuchElementException: &apos;HvNr&apos; doesn&apos;t map to an existing object&lt;/p&gt;

&lt;p&gt;I actually changed everything to use HierarchicalConfiguration and configurationAt but:&lt;/p&gt;

&lt;p&gt;Passed in key must select exactly one node: TestCases.TestCase(1)&lt;/p&gt;</comment>
                            <comment id="12484898" author="oliver.heger@t-online.de" created="Wed, 28 Mar 2007 14:44:58 +0000"  >&lt;p&gt;Is it possible that your data structures contain some ambiguity, so that the merge algorithm cannot decide, which nodes are list nodes? The following section of the user guide discusses this topic:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jakarta.apache.org/commons/configuration/howto_combinedconfiguration.html#Node_combiners&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/commons/configuration/howto_combinedconfiguration.html#Node_combiners&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If this is the case, you can explicitly mark the affected nodes as list nodes (this is explained in the section about DefaultConfigurationBuilder).&lt;/p&gt;</comment>
                            <comment id="12484902" author="karlbanke" created="Wed, 28 Mar 2007 14:59:55 +0000"  >&lt;p&gt;That sound sensible. I did experiment with the &quot;at&quot; property in the configuration file but I was not very successful. Hence, I went with multiple configuration files. Thanks anyway. However, I would consider to deprecate the ConfigurationFactory one way or the other.  &lt;/p&gt;</comment>
                            <comment id="12485456" author="oliver.heger@t-online.de" created="Fri, 30 Mar 2007 09:35:55 +0000"  >&lt;p&gt;Some hints were added to the JavaDocs of ConfigurationFactory and the user guide that recommend the usage of DefaultConfigurationBuilder instead.&lt;/p&gt;

&lt;p&gt;Maybe in the 1.5 release ConfigurationFactory can be deprecated and then removed with the next major release (2.0).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12354410" name="TestConfiguration.java" size="2710" author="karlbanke" created="Wed, 28 Mar 2007 08:50:23 +0000"/>
                            <attachment id="12354413" name="personendetails.xml" size="568" author="karlbanke" created="Wed, 28 Mar 2007 08:53:40 +0000"/>
                            <attachment id="12354414" name="personensuche.xml" size="583" author="karlbanke" created="Wed, 28 Mar 2007 08:56:16 +0000"/>
                            <attachment id="12354412" name="testconfig.xml" size="268" author="karlbanke" created="Wed, 28 Mar 2007 08:51:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 28 Mar 2007 12:19:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33915</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uorz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-256] MapConfiguration does not decode escaped Delimiters</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-256</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hello, I don&apos;t know how to reopen resolved bug. See: &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-30&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CONFIGURATION-30&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There is BAD implementation in MapConfiguration.getProperty(String key) method:&lt;/p&gt;

&lt;p&gt;As &quot;return value&quot; should be list.get(0) instead of &quot;value&quot;.&lt;br/&gt;
PropertyConverter.split removes escape chars....&lt;/p&gt;

&lt;p&gt;Suggested correction:&lt;/p&gt;

&lt;p&gt;    public Object getProperty(String key)&lt;br/&gt;
    {&lt;br/&gt;
        Object value = map.get(key);&lt;br/&gt;
        if ((value instanceof String) &amp;amp;&amp;amp; (!isDelimiterParsingDisabled()))&lt;/p&gt;
        {
            List list = PropertyConverter.split((String) value, getListDelimiter());
            //MP: return list.size() &amp;gt; 1 ? list : value;
            return list.size() &amp;gt; 1 ? list : list.get(0); //MP: split removes escape chars
        }
&lt;p&gt;        else&lt;/p&gt;
        {
            return value;
        }
&lt;p&gt;    }&lt;/p&gt;


&lt;p&gt;Test code:&lt;/p&gt;

&lt;p&gt;Map m = new HashMap();&lt;br/&gt;
m.put(&quot;foo&quot;, &quot;bar&lt;br class=&quot;atl-forced-newline&quot; /&gt;,baz&quot;);&lt;br/&gt;
m.put(&quot;bar&quot;, &quot;bar, baz&quot;);&lt;br/&gt;
MapConfiguration mc = new MapConfiguration(m);&lt;br/&gt;
mc.setDelimiterParsingDisabled(false);&lt;br/&gt;
mc.setListDelimiter(&apos;,&apos;);&lt;br/&gt;
Configuration c = mc;&lt;br/&gt;
String bad = c.getString(&quot;foo&quot;); //&amp;lt;-- returns &quot;bar&lt;br class=&quot;atl-forced-newline&quot; /&gt;, baz&quot; expected &quot;bar, baz&quot;&lt;br/&gt;
String ok = c.getString(&quot;bar&quot;); // &amp;lt;-- returns &quot;bar&quot;&lt;br/&gt;
System.err.println(&quot;Bad: &quot; + bad);&lt;br/&gt;
System.err.println(&quot;OK: &quot; + ok);&lt;/p&gt;

&lt;p&gt;Current result is:&lt;/p&gt;

&lt;p&gt;Bad: bar\,baz&lt;br/&gt;
OK: bar&lt;/p&gt;</description>
                <environment>&lt;p&gt;I think it does not matter because of pure java&lt;/p&gt;</environment>
        <key id="12364130">CONFIGURATION-256</key>
            <summary>MapConfiguration does not decode escaped Delimiters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="polakm">Michal Polak</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Mar 2007 13:02:03 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Tue, 6 Mar 2007 21:20:50 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12478029" author="polakm" created="Mon, 5 Mar 2007 13:09:09 +0000"  >&lt;p&gt;I think same bugs are in:&lt;/p&gt;

&lt;p&gt;AppletConfiguration.getProperty&lt;br/&gt;
ServletConfiguration.getProperty&lt;br/&gt;
ServletContextConfiguration.getProperty&lt;br/&gt;
ServletFilterConfiguration.getProperty&lt;/p&gt;

&lt;p&gt;Variable &apos;value&apos; still contains backslashes as escape chars.&lt;br/&gt;
Backslashes are removed by PropertyConverter.split&lt;/p&gt;

&lt;p&gt;Property and XML configuration are OK, I think.&lt;/p&gt;</comment>
                            <comment id="12478584" author="oliver.heger@t-online.de" created="Tue, 6 Mar 2007 21:20:50 +0000"  >&lt;p&gt;MapConfiguration and all the web-based configurations were updated to correctly remove the escaping character for the list delimiter. Additional tests were added to verify this behavior.&lt;/p&gt;

&lt;p&gt;Please double-check. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Mar 2007 21:20:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uoyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177184</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-255] DatabaseConfiguration doesn&apos;t support list delimiters in property values</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-255</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The getList() and getStringArray() methods always return a one element list/array, when used with DatabaseConfiguration, even if the value of the queried property contains the list delimiter character.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Sun Java(TM) System Application Server Platform Edition 9.0, Oracle 9i&lt;/p&gt;</environment>
        <key id="12363908">CONFIGURATION-255</key>
            <summary>DatabaseConfiguration doesn&apos;t support list delimiters in property values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="superthib">Thibaut Martin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Mar 2007 18:20:24 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Sat, 3 Mar 2007 20:23:32 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12477088" author="oliver.heger@t-online.de" created="Thu, 1 Mar 2007 21:18:55 +0000"  >&lt;p&gt;Do you have a concrete example where the getList() method is failing? There is a unit test case that fetches a list, and this test is obviously working.&lt;/p&gt;</comment>
                            <comment id="12477238" author="superthib" created="Fri, 2 Mar 2007 09:52:51 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;Here is my example:&lt;/p&gt;

&lt;p&gt;        DatabaseConfiguration configuration = new DatabaseConfiguration&lt;br/&gt;
(dataSource, &quot;CONF&quot;, &quot;KEY&quot;, &quot;VALUE&quot;);&lt;/p&gt;

&lt;p&gt;        LOG.debug (configuration.isDelimiterParsingDisabled ());       =&amp;gt;&lt;br/&gt;
false&lt;br/&gt;
        LOG.debug (configuration.getListDelimiter ());                 =&amp;gt; ,&lt;/p&gt;

&lt;p&gt;        String value = configuration.getString (key);&lt;br/&gt;
        LOG.debug (value);                                             =&amp;gt;&lt;br/&gt;
a,b,c&lt;/p&gt;

&lt;p&gt;        List&amp;lt;String&amp;gt; list = configuration.getList (key);&lt;br/&gt;
        LOG.debug (list.size ());                                      =&amp;gt; 1&lt;br/&gt;
        for (String element: list) &lt;/p&gt;
{
            LOG.debug (element);                                       =&amp;gt;
a,b,c
        }

&lt;p&gt;  Thibaut&lt;/p&gt;
</comment>
                            <comment id="12477429" author="oliver.heger@t-online.de" created="Fri, 2 Mar 2007 20:08:05 +0000"  >&lt;p&gt;Okay, I see the problem now. Will have a look.&lt;/p&gt;</comment>
                            <comment id="12477679" author="oliver.heger@t-online.de" created="Sat, 3 Mar 2007 20:23:32 +0000"  >&lt;p&gt;The problem should be fixed now. I made two changes:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;getProperty() now checks for list delimiters in the values obtained from the database.&lt;/li&gt;
	&lt;li&gt;addProperty() temporarily disables delimiter parsing, so that only a single INSERT is performed for a string property whose value contains the delimiter character.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tests for this behavior have also been added.&lt;/p&gt;

&lt;p&gt;Please double-check. Thanks.&lt;/p&gt;</comment>
                            <comment id="12477680" author="oliver.heger@t-online.de" created="Sat, 3 Mar 2007 20:26:10 +0000"  >&lt;p&gt;Updated summary and description to better explain the problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 Mar 2007 21:18:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110800</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-254] Wrong creation of XMLFileConfigurationDelegate in XMLConfiguration.clone()</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-254</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The clone() operation on a XMLConfiguration does not work correctly due to the following problem:&lt;/p&gt;

&lt;p&gt;private class XMLFileConfigurationDelegate extends FileConfigurationDelegate&lt;br/&gt;
{&lt;br/&gt;
     public void load(InputStream in) throws ConfigurationException&lt;/p&gt;
     {
            XMLConfiguration.this.load(in);
      }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Obviously the delegate references the XMLConfiguration instance it is created in. Thus when calling&lt;/p&gt;

&lt;p&gt;public Object clone()&lt;br/&gt;
{&lt;br/&gt;
      XMLConfiguration copy = (XMLConfiguration) super.clone();&lt;/p&gt;

&lt;p&gt;       // clear document related properties&lt;br/&gt;
       copy.document = null;&lt;/p&gt;

&lt;p&gt;       copy.setDelegate(createDelegate());&lt;/p&gt;

&lt;p&gt;       // clear all references in the nodes, too&lt;br/&gt;
       copy.getRoot().visit(new NodeVisitor()&lt;br/&gt;
       {&lt;br/&gt;
            public void visitBeforeChildren(Node node, ConfigurationKey key)&lt;/p&gt;
            {
                node.setReference(null);
             }
&lt;p&gt;        }, null);&lt;/p&gt;

&lt;p&gt;        return copy;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;the delegate still references the original XMLConfiguration, thus will save the content of the original one&lt;br/&gt;
to file instead of the clone as expected! Changing the code like this&lt;/p&gt;

&lt;p&gt;        copy.setDelegate(copy.createDelegate());&lt;/p&gt;

&lt;p&gt;solves the problem! Now the cloned XMLConfiguration with all its  applied changes can be saved!&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.4.2, Windows XP, Shale&lt;/p&gt;</environment>
        <key id="12363831">CONFIGURATION-254</key>
            <summary>Wrong creation of XMLFileConfigurationDelegate in XMLConfiguration.clone()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="surfer3003">Carsten Kaiser</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Feb 2007 21:22:26 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Thu, 1 Mar 2007 21:20:54 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12477089" author="oliver.heger@t-online.de" created="Thu, 1 Mar 2007 21:20:54 +0000"  >&lt;p&gt;The suggested fix was committed. Many thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 Mar 2007 21:20:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uoxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-253] FileConfiguration getFile(), getFileName(), getBasePath() are not always consistent</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-253</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Taken from the maillinglist:&lt;/p&gt;

&lt;p&gt;&amp;gt; I have a properties configuration which is loaded without a problem.&lt;br/&gt;
&amp;gt; Later in my application I will access the file which is aligned to &lt;br/&gt;
&amp;gt; this configuration.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt;  &lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; final IFileConfiguration _productConf = &lt;br/&gt;
&amp;gt; _conf.getProductConfigurations().get(_productId);&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; log.debug(&quot;product conf file &quot; + _productConf.getFile());&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; log.debug(&quot;product conf filename &quot; + _productConf.getFileName());&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; log.debug(&quot;product conf base path &quot; + _productConf.getBasePath());&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt;  &lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; The methods _productConf.getFile() and _productConf.getFileName() &lt;br/&gt;
&amp;gt; returning null but the getBasePath() returns a path which is correct &lt;br/&gt;
&amp;gt; (like &lt;a href=&quot;file:/C:/Projects/workspace/myProject/project.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/Projects/workspace/myProject/project.properties&lt;/a&gt;). Seems &lt;br/&gt;
&amp;gt; for me like a bug because the PropertiesConfiguration is loaded &lt;br/&gt;
&amp;gt; correct and works.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt;  &lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; By side: I have also set a file reloading strategy for this &lt;br/&gt;
&amp;gt; configuration.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt;  &lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Any ideas what&apos;s happen in this case or where I can find the problem? &lt;br/&gt;
&amp;gt; It would be nicer to get the File() instead the BasePath which has to &lt;br/&gt;
&amp;gt; be converted into a URL before I can access the whole properties file.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt;  &lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Thanks in advance,&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt;  &lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; - Thomas Wabner&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; &lt;br/&gt;
Thomas,&lt;/p&gt;

&lt;p&gt;you are right, the conversions between a base path, a file name, and a File are not always consistent. How did you load the configuration (this determines, which internal fields are set)?&lt;/p&gt;

&lt;p&gt;I would recommend to work with URLs, i.e. the method getURL(). A file-based configuration&apos;s URL is always defined.&lt;/p&gt;

&lt;p&gt;If you like, you can open a Jira ticket for this problem.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;br/&gt;
Oliver&lt;/p&gt;

&lt;p&gt;The file is loaded in this way:&lt;/p&gt;

&lt;p&gt;_productConf = new ProductConfiguration();&lt;br/&gt;
_productConf.load(FileTools.getPathForList(_propductPathList).getPath());&lt;/p&gt;

&lt;p&gt;means the load method gets an String and not an File.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12362903">CONFIGURATION-253</key>
            <summary>FileConfiguration getFile(), getFileName(), getBasePath() are not always consistent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="waffel">Thomas Wabner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Feb 2007 09:23:51 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Sat, 26 May 2007 19:38:51 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12473327" author="bayard" created="Thu, 15 Feb 2007 09:34:18 +0000"  >&lt;p&gt;Is this really an IO issue, or is it Configuration?&lt;/p&gt;</comment>
                            <comment id="12473328" author="waffel" created="Thu, 15 Feb 2007 09:47:00 +0000"  >&lt;p&gt;upps, sorry. It is of corse commons-configuration related. Sorry for that mistake. Is there is a way to move this bug or should I close and create it again in the right product?&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Thomas Wabner&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12473513" author="oliver.heger@t-online.de" created="Thu, 15 Feb 2007 20:55:55 +0000"  >&lt;p&gt;We are just in the process of getting out the 1.4 release. I am reluctant to change the behavior of the getFile() and getFileName() methods now because this may cause a surprise for existing code. So this issue will be addressed in the following release.&lt;/p&gt;</comment>
                            <comment id="12491438" author="oliver.heger@t-online.de" created="Tue, 24 Apr 2007 20:34:39 +0000"  >&lt;p&gt;After having a deeper look into this issue I am no longer sure that this is a bug. You loaded the configuration with the load(String) method, and the Javadocs for this method state&lt;/p&gt;

&lt;p&gt;&quot;This does not change the source of the configuration (i.e. the internally maintained file name). Use one of the setter methods for this purpose.&quot;&lt;/p&gt;

&lt;p&gt;However I tend to agree that the current behavior is confusing. Why can you obtain a URL and a path name from a configuration loaded this way, but no File?&lt;/p&gt;

&lt;p&gt;I have written a test case and implemented a (simple) fix, which would cause getFile() to return a valid file name in this case. What do others think? Should we change the current behavior?&lt;/p&gt;</comment>
                            <comment id="12491569" author="waffel" created="Wed, 25 Apr 2007 09:13:26 +0000"  >&lt;p&gt;I think that for my case the javadoc is not very helpful. If I create a new Configuration, there cannot be a &quot;source&quot; - or in this case the source is null. &lt;/p&gt;

&lt;p&gt;If a load method doesn&apos;t change the source, what means in this case &quot;load&quot;?&lt;/p&gt;

&lt;p&gt;If I load any data into a configuration, I change the source of the configuration. The source in the configuration object should always point to the latest source object from outside.&lt;/p&gt;

&lt;p&gt;I think we have to clearify what we mean with &quot;load&quot;.&lt;/p&gt;

&lt;p&gt;Olivers quick fix means that the load method works as I aspected -&amp;gt; it changes the source in the configuration to the last source for the configuration.&lt;/p&gt;

&lt;p&gt;This should always only available for a file based configuration. In the case of the database configuration the bahavior should be differnet&lt;br/&gt;
(I don&apos;t have yet take a look into the database stuff).&lt;/p&gt;

&lt;p&gt;So I vote to change the current behavior.&lt;/p&gt;</comment>
                            <comment id="12491581" author="ebourg" created="Wed, 25 Apr 2007 09:50:02 +0000"  >&lt;p&gt;If the URL and the basepath are set on calling load(), then this is a bug since the source should not change.&lt;/p&gt;

&lt;p&gt;If we have to change the current behavior, I prefer that load() changes the source only if no source is already set.&lt;/p&gt;</comment>
                            <comment id="12491750" author="oliver.heger@t-online.de" created="Wed, 25 Apr 2007 20:05:13 +0000"  >&lt;p&gt;The behavior since (I think) the 1.2 release is that a load() call sets the sourceURL if none has been set so far. This is required for supporting features like auto save and reloading strategies for configurations created this way (there is no hint in the docs that a source must be set explicitly for using these features, so I assume this is alright). What my fix does is to always keep the getFile() method in sync with the sourceURL; so if a sourceURL exists, getFile() will now return a corresponding File object.&lt;/p&gt;

&lt;p&gt;Note that the URL is only modified on an initial load() call, i.e. if already a source was set, it won&apos;t be changed by a following load() call. This is intended. It allows for instance the easy creation of combined configurations: you can call load() as often as you like on a file-based configuration; the properties of the single sources will be accumulated. Then you can save the accumulated properties to the original source.&lt;/p&gt;</comment>
                            <comment id="12491759" author="oliver.heger@t-online.de" created="Wed, 25 Apr 2007 20:34:02 +0000"  >&lt;p&gt;I applied the fix as described in my last comment. Thomas, can you please check if this works for you?&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="12491778" author="ebourg" created="Wed, 25 Apr 2007 21:14:52 +0000"  >&lt;p&gt;That looks good, the structure of the chained else/if could even be simplified.&lt;/p&gt;</comment>
                            <comment id="12499349" author="oliver.heger@t-online.de" created="Sat, 26 May 2007 19:38:51 +0000"  >&lt;p&gt;I think this issue can now be marked as fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 15 Feb 2007 09:34:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uoxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177180</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-252] Detection of absolute fileNames when configuration sources are defined in a JAR file</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-252</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When using several configuration sources, the sources are defined in a an xml attribute like &lt;br/&gt;
fileName=&quot;usergui.properties&quot;&lt;br/&gt;
The method org.apache.commons.configuration.ConfigurationUtils.getFile(String basePath, String fileName) converts the basePath and fileName into a File.&lt;br/&gt;
The JavaDoc says: &quot;The parameter strings can be relative files, absolute files and URLs as well.&quot;&lt;/p&gt;

&lt;p&gt;The file containing the definition of the configuration sources will become the basePath of this method.&lt;br/&gt;
After a log of debugging I found, that if the basePath start with &quot;jar:&quot; the method assumes that the fileName is relative, evene if it&apos;s absolute. This happens, because there&apos;s a ProtocolHandler for Jar files and &quot;jar:&quot; is a valid protocol. So the statement &quot;new URL(new URL(basePath), fileName)&quot; doesn&apos;t throw a MalformedUrlException.&lt;br/&gt;
Since the URL is valid, it&apos;s never checked, if the fileName may be absolute. &lt;/p&gt;

&lt;p&gt;Attention: this is only the case on Unix/Linux, since this is a valid URL&lt;br/&gt;
jar:&lt;a href=&quot;file:/C:/myjar.jar!/my-config.xml/someprops.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/myjar.jar!/my-config.xml/someprops.properties&lt;/a&gt;&lt;br/&gt;
while under Windows, a MalformedUrlException will be thrown, when the fileName is absolute: &lt;br/&gt;
jar:&lt;a href=&quot;file:/C:/myjar.jar!/my-config.xml/c:/someprops.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/myjar.jar!/my-config.xml/c:/someprops.properties&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I attached a patch that checks, whether the URL protocol is &quot;jar&quot; and the fileName is absolute. If so, the absolute file will be used.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux&lt;/p&gt;</environment>
        <key id="12361760">CONFIGURATION-252</key>
            <summary>Detection of absolute fileNames when configuration sources are defined in a JAR file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="heiko.seebach">Heiko Seebach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Feb 2007 15:19:07 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Sat, 3 Feb 2007 16:20:50 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12469454" author="heiko.seebach" created="Thu, 1 Feb 2007 15:22:09 +0000"  >&lt;p&gt;Simply apply this patch on org.apache.commons.configuration.ConfigurationUtils&lt;/p&gt;</comment>
                            <comment id="12469731" author="oliver.heger@t-online.de" created="Fri, 2 Feb 2007 12:31:27 +0000"  >&lt;p&gt;Wouldn&apos;t it make sense if getFile() always checked whether the passed in fileName is an absolute file, no matter of the protocol? If this is the case, this file must be returned.&lt;/p&gt;</comment>
                            <comment id="12469791" author="heiko.seebach" created="Fri, 2 Feb 2007 16:35:01 +0000"  >&lt;p&gt;Well, how to determine if a file is absolute?&lt;br/&gt;
Since it even depends on the OS, it&apos;s not that easy.&lt;/p&gt;

&lt;p&gt;Scenario:&lt;br/&gt;
basePath=&lt;a href=&quot;http://aconfigserver/configSources/config.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://aconfigserver/configSources/config.xml&lt;/a&gt;&lt;br/&gt;
and &lt;br/&gt;
fileName=/configSources/config.properties&lt;/p&gt;

&lt;p&gt;What could be the intention of it and what would others think, if they see it defined like that?&lt;/p&gt;

&lt;p&gt;The properties files could reside at&lt;br/&gt;
&lt;a href=&quot;http://aconfigserver/configSources/config.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://aconfigserver/configSources/config.properties&lt;/a&gt;&lt;br/&gt;
or&lt;br/&gt;
&lt;a href=&quot;http://aconfigserver/configSources/configSources/config.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://aconfigserver/configSources/configSources/config.properties&lt;/a&gt;&lt;br/&gt;
or&lt;br/&gt;
&lt;a href=&quot;file:///configSources/config.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///configSources/config.properties&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think, a good definition of the meaning and interpretation of the fileName (regarding the &quot;File.isAbsolute()&quot; concern) would help.&lt;/p&gt;

&lt;p&gt;Maybe defining something simple like the definition before plus&lt;br/&gt;
&lt;del&gt;&amp;gt; If fileName starts with &quot;/&quot; it&apos;s always interpreted as absolute. &amp;lt;&lt;/del&gt;&lt;br/&gt;
would help?&lt;/p&gt;</comment>
                            <comment id="12469842" author="oliver.heger@t-online.de" created="Fri, 2 Feb 2007 19:38:20 +0000"  >&lt;p&gt;So, would it be okay to always check for an absolute file name first (by using File.isAbsolute()) and pointing this out in the Javadoc of getFile()?&lt;/p&gt;</comment>
                            <comment id="12469899" author="heiko.seebach" created="Fri, 2 Feb 2007 22:53:03 +0000"  >&lt;p&gt;Yes, I think that&apos;s fine. Maybe the JavaDoc could remind the the user that &lt;br/&gt;
new File(&quot;/file.properties&quot;).isAbsolute() is false under Windows but true under Unix....&lt;/p&gt;</comment>
                            <comment id="12469958" author="oliver.heger@t-online.de" created="Sat, 3 Feb 2007 16:20:50 +0000"  >&lt;p&gt;The getFile() method now checks first whether an absolute file name is passed in. A note about the behavior of File.isAbsolute() on Windows and Unix was also added to the Javadocs.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12350143" name="support-for-jar-protocol.patch.txt" size="787" author="heiko.seebach" created="Thu, 1 Feb 2007 15:22:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Feb 2007 12:31:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110799</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uot3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-251] project.xml file references deprecated xml-apis-2.0.2</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-251</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;See &lt;br/&gt;
&lt;a href=&quot;http://www.ibiblio.org/maven/xml-apis/jars/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.ibiblio.org/maven/xml-apis/jars/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In project.xml:&lt;br/&gt;
    &amp;lt;dependency&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;xml-apis&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;xml-apis&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;version&amp;gt;2.0.2&amp;lt;/version&amp;gt;&lt;br/&gt;
      &amp;lt;url&amp;gt;&lt;a href=&quot;http://xml.apache.org/commons/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://xml.apache.org/commons/&lt;/a&gt;&amp;lt;/url&amp;gt;&lt;br/&gt;
      &amp;lt;properties&amp;gt;&lt;br/&gt;
        &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;br/&gt;
        &amp;lt;war.bundle&amp;gt;true&amp;lt;/war.bundle&amp;gt;&lt;br/&gt;
      &amp;lt;/properties&amp;gt;&lt;br/&gt;
    &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;I found this was used in both 1.3 release and svn trunk &lt;br/&gt;
Last Changed Rev: 498155&lt;br/&gt;
Last Changed Date: 2007-01-20 21:23:52 +0200 (Sat, 20 Jan 2007)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12361363">CONFIGURATION-251</key>
            <summary>project.xml file references deprecated xml-apis-2.0.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="betelgeuse">Petteri R&#228;ty</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jan 2007 22:23:15 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Sun, 28 Jan 2007 17:28:54 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12468041" author="oliver.heger@t-online.de" created="Sat, 27 Jan 2007 17:37:35 +0000"  >&lt;p&gt;Why do you think that this is a bug?&lt;/p&gt;

&lt;p&gt;This dependency was introduced because the minimum supported JDK is still 1.3, which does not contain the XML classes. Therefore on the dependencies page you can see entries like &quot;Java 1.4 or (xml-apis + xerces + xalan)&quot;.&lt;/p&gt;</comment>
                            <comment id="12468054" author="betelgeuse" created="Sat, 27 Jan 2007 19:01:11 +0000"  >&lt;p&gt;Because you should be using the right version of xml-apis in your project.xml. &lt;/p&gt;

&lt;p&gt;From the bottom of the page:&lt;br/&gt;
xml-apis&lt;/p&gt;

&lt;p&gt;The following jars are bogus and should not be used. Right now they are symbolic links to the xml-apis-1.0.b2.jar but will be deleted eventually&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;xml-apis-2.0.0.jar&lt;/li&gt;
	&lt;li&gt;xml-apis-2.0.2.jar&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So you should be using xml-apis-1.0.b2.jar instead.&lt;/p&gt;</comment>
                            <comment id="12468135" author="oliver.heger@t-online.de" created="Sun, 28 Jan 2007 17:28:54 +0000"  >&lt;p&gt;Oh, understood. Fixed now in subversion. Thank you for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Jan 2007 17:37:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uosn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-250] build.xml file fetches the wrong version of commons-lang</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-250</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The build.xml fetches commons-lang-2.1.jar instead of commons-lang-2.2.jar. Seems to be related to the change&lt;/p&gt;

&lt;p&gt;2006-12-23 17:36  oheger&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;r489906&amp;#93;&lt;/span&gt; project.properties, project.xml: Updated dependency to&lt;br/&gt;
	  lang 2.2, minor site improvements&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Fix is trivial.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12360922">CONFIGURATION-250</key>
            <summary>build.xml file fetches the wrong version of commons-lang</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="akruis">Anselm Kruis</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Jan 2007 00:02:23 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Sat, 20 Jan 2007 19:26:52 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12466268" author="oliver.heger@t-online.de" created="Sat, 20 Jan 2007 19:26:52 +0000"  >&lt;p&gt;Fixed in subversion. Thank you for the spot.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Jan 2007 19:26:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-245] DatabaseConfiguration and JNDIConfiguration are eating exceptions</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-245</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;DatabaseConfiguration and JNDIConfiguration and possibly others, really need to throw some sort of runtime exception to let the caller know the properties couldn&apos;t be read. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12358453">CONFIGURATION-245</key>
            <summary>DatabaseConfiguration and JNDIConfiguration are eating exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="hdeadman">Hal Deadman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Dec 2006 17:39:20 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Sat, 20 Jan 2007 19:00:01 +0000</resolved>
                                    <version>1.3</version>
                    <version>Nightly Builds</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12461513" author="oliver.heger@t-online.de" created="Sat, 30 Dec 2006 16:52:39 +0000"  >&lt;p&gt;Simply swallowing exceptions is certainly no good design. I agree that this should be changed.&lt;/p&gt;

&lt;p&gt;I wonder however if we should always throw runtime exceptions when such an internal error occurs. Maybe it would be better to make this behavior configurable. If the default behavior was to just log the exception, we would keep compatibility with earlier versions, but allow our users to change this.&lt;/p&gt;

&lt;p&gt;One way this could be achieved would be to enhance the existing event mechanism. In addition to normal configuration update events special error events could be generated. Interested parties could register themselves as error listeners at a configuration and would then be notified whenever a problem occurs.&lt;/p&gt;

&lt;p&gt;What do you think, would such an approach make sense?&lt;/p&gt;</comment>
                            <comment id="12466263" author="oliver.heger@t-online.de" created="Sat, 20 Jan 2007 19:00:01 +0000"  >&lt;p&gt;The concept of error listeners was implemented. It is now possible for an interested client to register itself as an error listener at a configuration. It is then notified about internal errors. DatabaseConfiguration, JNDIConfiguration, and AbstractFileConfiguration use this new concept for reporting internal errors.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 30 Dec 2006 16:52:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110793</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-242] The configuration returned by HierarchicalConfiguration.subset() does not globally interpolate</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-242</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Interpolation is only performed in the subset configuration itself. If the referenced property is not in the subset (but somewhere else in the parent configuration), it cannot be resolved. Interpolation should take all properties of the parent configuration into account.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12357515">CONFIGURATION-242</key>
            <summary>The configuration returned by HierarchicalConfiguration.subset() does not globally interpolate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Dec 2006 18:09:41 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Sat, 2 Dec 2006 18:22:36 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12455116" author="oliver.heger@t-online.de" created="Sat, 2 Dec 2006 18:22:35 +0000"  >&lt;p&gt;A fix was committed. The returned subset configuration now delegates to its parent for performing interpolation.&lt;/p&gt;</comment>
                            <comment id="12472101" author="brettporter" created="Sun, 11 Feb 2007 12:57:54 +0000"  >&lt;p&gt;this has changed some other behaviour unexpectedly. Attached a test case.&lt;/p&gt;

&lt;p&gt;I&apos;m not opening a new issue for this because I believe that the new behaviour is now correct - at least, more consistent than it was before.&lt;/p&gt;

&lt;p&gt;(see &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/jakarta-commons-dev/200702.mbox/%3CFE009B1B-29B4-405F-9B99-A42378D6F7F6@apache.org%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/jakarta-commons-dev/200702.mbox/%3CFE009B1B-29B4-405F-9B99-A42378D6F7F6@apache.org%3E&lt;/a&gt;)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12350864" name="commons-configuration-1.0-SNAPSHOT-src.zip" size="3071" author="brettporter" created="Sun, 11 Feb 2007 12:57:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 11 Feb 2007 12:57:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121730</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-241] clearProperty() does not generate events</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-241</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I am loading configuration information from multiple sources and have registered a listener with the resulting configuration object. Unfortunately the listener does not receive &quot;clear property&quot; events. I&apos;ve confirmed that it can properly receive other events (like &quot;set property&quot;), and that calls to &quot;clearProperty()&quot; do actually clear the property, so I believe this may be a bug in commons-configuration. I&apos;ve tried setting &quot;details&quot; to true, which had no effect. Below is a watered down version of what I am doing (note, my configuration file simply pulls in a property file containing this property: name.first=Mike):&lt;/p&gt;

&lt;p&gt;ConfigurationFactory configurationFactory = new ConfigurationFactory();&lt;br/&gt;
URL configFileURL = ... get the config file ...&lt;br/&gt;
configurationFactory.setConfigurationURL(configFileURL);&lt;br/&gt;
Configuration configuration = ConfigurationFactory.getConfiguration();&lt;/p&gt;

&lt;p&gt;configuration.addConfigurationListener(new ConfigurationListener() {&lt;/p&gt;

&lt;p&gt;    public void configurationChanged(ConfigurationEvent e) &lt;/p&gt;
{
        System.out.println(e.getPropertyName() + &quot;: &quot; + e.getPropertyValue());
    }
&lt;p&gt;});&lt;/p&gt;

&lt;p&gt;System.out.println(configuration.getProperty(&quot;name.first&quot;)); // prints &quot;Mike&quot;&lt;br/&gt;
configuration.claerProperty(&quot;name.first&quot;)); // no output whatsoever&lt;br/&gt;
System.out.println(configuration.getProperty(&quot;name.first&quot;)); // prints &quot;null&quot;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.5, Windows XP&lt;/p&gt;</environment>
        <key id="12357495">CONFIGURATION-241</key>
            <summary>clearProperty() does not generate events</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mikewhit">Mike Whittemore</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Dec 2006 00:03:48 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Sat, 2 Dec 2006 18:45:38 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12455051" author="mikewhit" created="Sat, 2 Dec 2006 00:05:46 +0000"  >&lt;p&gt;I had to type the above code snippet in by hand, and unfortunately injected at least one typo. &quot;claerProperty&quot; of course should be &quot;clearProperty&quot;.&lt;/p&gt;</comment>
                            <comment id="12455120" author="oliver.heger@t-online.de" created="Sat, 2 Dec 2006 18:45:38 +0000"  >&lt;p&gt;Fixed now in subversion. Thank you for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 2 Dec 2006 18:45:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33897</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uowv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-240] CombinedConfiguration does not reload when enclosed configuration files are modified.</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-240</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When getProperty() is called on a CombinedConfiguration object the reloadingRequired() method is not called.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, Java JVM 1.4 and up&lt;/p&gt;</environment>
        <key id="12357484">CONFIGURATION-240</key>
            <summary>CombinedConfiguration does not reload when enclosed configuration files are modified.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="debrut">Thomas DeBruycker</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Dec 2006 21:06:32 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:47 +0000</updated>
                            <resolved>Fri, 8 Dec 2006 18:32:22 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12455114" author="oliver.heger@t-online.de" created="Sat, 2 Dec 2006 18:05:47 +0000"  >&lt;p&gt;IMHO this seems to be rather a design flaw in the way reloading is implemented ATM than a bug. But I will see what I can do about it.&lt;/p&gt;</comment>
                            <comment id="12456933" author="oliver.heger@t-online.de" created="Fri, 8 Dec 2006 18:32:22 +0000"  >&lt;p&gt;Should be fixed now in subversion and the next nightly build.&lt;/p&gt;

&lt;p&gt;CombinedConfiguration now provides a property called &quot;forceReloadCheck&quot;. If you set it to true, each property access will trigger the contained configurations, which will cause a reload if necessary.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 2 Dec 2006 18:05:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lk4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-239] setDelimiterParsingDisabled doesn&apos;t work for &apos;new PropertiesConfiguration(filePath)&apos;</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-239</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hi!&lt;/p&gt;

&lt;p&gt;just would like to report an issue I found with a new (and very helpful) improvement on version 1.3 of commons configuration, the issue is that setDelimiterParsingDisabled method doesn&apos;t work if first creates PropertiesConfiguration object using PropertiesConfiguration(filePath) constructor. I needed to create the PropertiesConfiguration object using PropertiesConfiguration(), use setDelimiterParsingDisabled(true) and then load the configration file using load(filePath) method.&lt;/p&gt;

&lt;p&gt;Please let me know if you need more details.&lt;/p&gt;

&lt;p&gt;thanks for all your work on this fabulous library...commons rocks!&lt;/p&gt;

&lt;p&gt;Narciso&lt;/p&gt;</description>
                <environment>&lt;p&gt;Win XP SP2, IBM Java 1.4.2.x&lt;/p&gt;</environment>
        <key id="12357166">CONFIGURATION-239</key>
            <summary>setDelimiterParsingDisabled doesn&apos;t work for &apos;new PropertiesConfiguration(filePath)&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nsojunior">Narciso Oliveira Junior</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Nov 2006 18:28:30 +0000</created>
                <updated>Fri, 22 Dec 2006 18:05:58 +0000</updated>
                            <resolved>Thu, 21 Dec 2006 20:30:20 +0000</resolved>
                                    <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12454113" author="oliver.heger@t-online.de" created="Tue, 28 Nov 2006 20:42:53 +0000"  >&lt;p&gt;So what you need would be additional constructors that allow setting the delimiter parsing flag before the file is actually loaded, e.g. something like PropertiesConfiguration(String path, boolean delimiterParsingDisabled). Is this correct? I think this is possible.&lt;/p&gt;</comment>
                            <comment id="12454742" author="nsojunior" created="Thu, 30 Nov 2006 19:55:40 +0000"  >&lt;p&gt;Hi!&lt;/p&gt;

&lt;p&gt;Actually what I think needs to be done is to make the method setDelimiterParsingDisabled has the same behavior if you create an object using the PropertiesConfiguration(filePath)  constructor as it does for the constructor PropertiesConfiguration(). What do you think??&lt;/p&gt;

&lt;p&gt;I don&apos;t know about the code, but I think when it loads the properties file, the code already loads the properties once an then if you use the method setDelimiterParsingDisabled after that , it doesn&apos;t affect anything....understand?? So if it is true It would be good to have a warning in java doc for this situation.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;Narciso&lt;/p&gt;</comment>
                            <comment id="12454749" author="oliver.heger@t-online.de" created="Thu, 30 Nov 2006 20:39:31 +0000"  >&lt;p&gt;You are right, setting the delimiterParsingDisabled-flag has only effect &lt;b&gt;before&lt;/b&gt; the configuration file is loaded. I just had a look in the JavaDoc for the 1.3 release and here for the setDelimiterParsingDisabled() method it is stated:&lt;/p&gt;

&lt;p&gt;&quot;Set whether this configuration should use delimiters when parsing property values to convert them to lists of values. By default delimiter parsing is enabled Note: this change will only be effective for new parsings. If you want it to take effect for all loaded properties use the no arg constructor and call this method before setting source.&quot;&lt;/p&gt;

&lt;p&gt;I think, this is quite clear, so I tend to close this ticket. What do you mean?&lt;/p&gt;</comment>
                            <comment id="12460337" author="oliver.heger@t-online.de" created="Thu, 21 Dec 2006 20:30:20 +0000"  >&lt;p&gt;I think the documentation of setDelimiterParsingDisabled() describes the behavior appropriately. So closing this ticket.&lt;/p&gt;</comment>
                            <comment id="12460558" author="nsojunior" created="Fri, 22 Dec 2006 18:05:58 +0000"  >&lt;p&gt;Hi!&lt;/p&gt;

&lt;p&gt;sorry I just didn&apos;t track your reply on 11/30.....yes, I agree. I likely missed this comment in javadoc.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;Narciso&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Nov 2006 20:42:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170133</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-238] XMLConfiguration.save() - illegal new line char in xml comment</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-238</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I have the following conf.xml.&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;report-server-config&amp;gt;&lt;br/&gt;
    &amp;lt;!-- comment &lt;br/&gt;
   new line in comment --&amp;gt;&lt;br/&gt;
    &amp;lt;param&amp;gt;value&amp;lt;/param&amp;gt;&lt;br/&gt;
&amp;lt;/report-server-config&amp;gt;&lt;/p&gt;

&lt;p&gt;Edited with Vim looks nice.&lt;br/&gt;
I use XMLConfiguration to process it.&lt;/p&gt;

&lt;p&gt;I perform the following operations:&lt;br/&gt;
    XMLConfiguration config = new XMLConfiguration(&quot;c:&lt;br class=&quot;atl-forced-newline&quot; /&gt;conf.xml&quot;);&lt;br/&gt;
    config.save();&lt;/p&gt;

&lt;p&gt;BUG:&lt;br/&gt;
After config.save(); my conf.xml file, when edited in Vim, contains additional ^M char at the end of each line. This is very disturbing.&lt;/p&gt;

&lt;p&gt;REASON:&lt;br/&gt;
There must be a bug in XMLConfiguration when operating on &amp;lt;!-- --&amp;gt; xml comments which contain new line characters - as in my example.&lt;br/&gt;
    &amp;lt;!-- comment &lt;br/&gt;
   new line in comment --&amp;gt;&lt;br/&gt;
My original conf.xml contained 0D 0A chars as a new line in comment,&lt;br/&gt;
after calling config.save();  there is ONLY 0A char there!&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP x64&lt;/p&gt;</environment>
        <key id="12355684">CONFIGURATION-238</key>
            <summary>XMLConfiguration.save() - illegal new line char in xml comment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="januszst">Janusz Studzizba</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Nov 2006 09:29:35 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:46 +0000</updated>
                            <resolved>Wed, 14 Feb 2007 21:26:38 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12451728" author="oliver.heger@t-online.de" created="Tue, 21 Nov 2006 18:11:06 +0000"  >&lt;p&gt;Sorry, I don&apos;t fully understand this issue. In which way exactly does the processed file differ from the original one? Are all lines modified or only comment lines?&lt;/p&gt;</comment>
                            <comment id="12451871" author="januszst" created="Wed, 22 Nov 2006 08:19:03 +0000"  >&lt;p&gt;Only new line chars in comment lines are modified&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;however when edited with Vim - ^M chars are printed in all lines - but this is probably Vim issue&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12452003" author="oliver.heger@t-online.de" created="Wed, 22 Nov 2006 17:58:26 +0000"  >&lt;p&gt;This is strange. There is no special handling of comment lines.&lt;/p&gt;

&lt;p&gt;XMLConfiguration does the following: It parses the XML configuration file using DOM and keeps the resulting DOM tree in memory. Updates of property values also cause this structure to be modified. When the save() method is called, an identity XSLT transformation is used to write the DOM tree back to a file (this will probably cause the ^M characters when the default new line separator 0D 0A is used for Windows).&lt;/p&gt;

&lt;p&gt;I have no idea why comments are treated differently. But as far as I can tell, this is not under the control of XMLConfiguration, but happens during the XML transformation.&lt;/p&gt;</comment>
                            <comment id="12456937" author="oliver.heger@t-online.de" created="Fri, 8 Dec 2006 18:34:58 +0000"  >&lt;p&gt;Could you perhaps try your tests with a different XML parser and/or XSLT engine (maybe the newest versions of Xerces or Xalan)? I assume you use the versions that are shipped with the JRE, right?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12473205" author="oliver.heger@t-online.de" created="Wed, 14 Feb 2007 21:26:37 +0000"  >&lt;p&gt;Got no more feedback on this issue, so closing it. IMO there is nothing we can do about this because the underlying XML parser or the XSLT engine are handling this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Nov 2006 18:11:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177446</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-235] variable interpolation problem</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-235</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;interpolation of variables in Subsets doesn&apos;t work, if they are &lt;em&gt;not&lt;/em&gt; accessed via getString(). The following&lt;br/&gt;
example illustrates the problem:&lt;/p&gt;

&lt;p&gt;BaseConfiguration oBase = new BaseConfiguration();&lt;/p&gt;

&lt;p&gt;oBase.addProperty( &quot;a.b&quot;, new Integer(2) );&lt;br/&gt;
oBase.addProperty( &quot;a.c&quot;, &quot;${a.b}&quot; );&lt;/p&gt;

&lt;p&gt;// as expected: 2&lt;br/&gt;
int iValueBaseConfig = oBase.getInt( &quot;a.c&quot; );&lt;br/&gt;
String strValueBaseConfig = oBase.getString(&quot;a.c&quot;);&lt;/p&gt;

&lt;p&gt;// as expected: 2&lt;br/&gt;
String strValueSubset = oBase.subset(&quot;a&quot;).getString(&quot;c&quot;);&lt;br/&gt;
// ConversionException, &apos;c&apos; doesn&apos;t map to an Integer object&lt;br/&gt;
int iValueSubset = oBase.subset(&quot;a&quot;).getInt(&quot;c&quot;);&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12354064">CONFIGURATION-235</key>
            <summary>variable interpolation problem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="juergens">juergen schad</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Oct 2006 17:49:49 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:46 +0000</updated>
                            <resolved>Mon, 30 Oct 2006 20:52:16 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12445711" author="oliver.heger@t-online.de" created="Mon, 30 Oct 2006 20:52:16 +0000"  >&lt;p&gt;Should be fixed in the next nightly builds. Thank you for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Oct 2006 20:52:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uotj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177162</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-233] Incomplete interpolation in CompositeConfiguration.getList()</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-233</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Interpolsation is mostly done by AbstractConfiguration. All classes that override get methods of AbstractConfiguration need to be careful not to break interpolsation.&lt;/p&gt;

&lt;p&gt;The class CompositeConfiguration overrides getList() to easily chain the results of getList for its subconfigurations. The calls to getList() in the subconfigurations does interpolsation but only inside the subconfiguration. The combined lists never get interpolated in the whole CompositeConfiguration. So whenever a reference in the value refers to a property in another subconfiguration, interpolation breaks.&lt;/p&gt;

&lt;p&gt;Since all the scalar get methods correctly interpolate between different sub configurations, I assume, that this special behavior in getList() is not intended.&lt;/p&gt;

&lt;p&gt;A simple test case would be using the ConfigurationFactory with a config.xml, that uses two property files x.properties:&lt;/p&gt;

&lt;p&gt;x.1=a&lt;br/&gt;
x.2=b&lt;/p&gt;

&lt;p&gt;and y.properties:&lt;/p&gt;

&lt;p&gt;y=${x.1}, ${x.2}&lt;/p&gt;

&lt;p&gt;and then calling getList for the key &quot;y&quot;.&lt;/p&gt;

&lt;p&gt;The attached patch fixes the problem locally in CompositeConfiguration. It&apos;s not very elegant, but tries to keep the fix local.&lt;br/&gt;
The patch should work for 1.2, 1.3 and trunk, since getList() in CompositeConfiguration ist the same in these versions.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Any.&lt;/p&gt;</environment>
        <key id="12353756">CONFIGURATION-233</key>
            <summary>Incomplete interpolation in CompositeConfiguration.getList()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rjung">Rainer Jung</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 Oct 2006 18:16:07 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:44 +0000</updated>
                            <resolved>Sat, 28 Oct 2006 15:11:24 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12444473" author="oliver.heger@t-online.de" created="Tue, 24 Oct 2006 19:49:20 +0000"  >&lt;p&gt;You are right, this is a bug.&lt;/p&gt;

&lt;p&gt;Your patch looks good. I hope I find some time soon to write a unit test and to apply it.&lt;/p&gt;

&lt;p&gt;Thanks for spotting this!&lt;/p&gt;</comment>
                            <comment id="12445384" author="oliver.heger@t-online.de" created="Sat, 28 Oct 2006 15:11:24 +0000"  >&lt;p&gt;Patch applied. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12343431" name="commons-configuration_1_3_patch.txt" size="956" author="rjung" created="Sat, 21 Oct 2006 18:29:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Oct 2006 19:49:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33957</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l78n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121823</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-232] ConfigurationUtils spews directly on std.err when exceptions</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-232</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;ConfigurationUtils:&lt;br/&gt;
public static URL locate(String base, String name) {&lt;br/&gt;
  3 x :&lt;/p&gt;

&lt;p&gt;  catch (&lt;span class=&quot;error&quot;&gt;&amp;#91;Malformed|IO&amp;#93;&lt;/span&gt;URLException e) &lt;/p&gt;
{
    e.printStackTrace();
  }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;.. say no more.&lt;/p&gt;

&lt;p&gt;But while we&apos;re at it, the log-message (which, for some reason, actually goes to a logger, not uglily to the system) states &quot;Configuration loaded from ..&quot;, which isn&apos;t true: The thing isn&apos;t loaded yet; it will be loaded.  &quot;Loading configuration from ..&quot; would be better, or maybe &quot;Will be loading configuration from ..&quot;. In addition, these log-lines could state what was the &quot;base&quot;, and in particular the case where it loads from &quot;base path&quot;, the whole line reads wrong.&lt;/p&gt;

&lt;p&gt;For example: &quot;Loading configuration &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;+name+&amp;quot;&amp;#93;&lt;/span&gt; from base path &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;+base+&amp;quot;&amp;#93;&lt;/span&gt;..&quot; and similar for the other lines.&lt;/p&gt;</description>
                <environment>&lt;p&gt;n/a&lt;/p&gt;</environment>
        <key id="12353287">CONFIGURATION-232</key>
            <summary>ConfigurationUtils spews directly on std.err when exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="stolsvik">Endre St&#248;lsvik</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Oct 2006 12:23:51 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:44 +0000</updated>
                            <resolved>Fri, 22 Dec 2006 18:22:43 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12442582" author="stolsvik" created="Mon, 16 Oct 2006 12:30:34 +0000"  >&lt;p&gt;Turns out that it really wasn&apos;t at that point the Exception came jumping at me on std-err, but (I believe now, at least) in AbstractFileConfiguration, where there is three more of these e.printStackTrace()es; in load(URL), reload() and save(File).&lt;/p&gt;

&lt;p&gt;While we&apos;re at it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, there is also one instance in PListNode.addDateValue(String value). That complete these, I believe.&lt;/p&gt;</comment>
                            <comment id="12460563" author="oliver.heger@t-online.de" created="Fri, 22 Dec 2006 18:22:43 +0000"  >&lt;p&gt;The printStackTrace() statements have been removed and the log messages you pointed out have been improved. Thank you for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Dec 2006 18:22:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110787</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uq9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-230] XPathExpressionEngine nodeKey method create a wrong key for attribute node</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-230</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;In org.apache.commons.configuration.tree.xpath.XPathExpressionEngine line 178&lt;/p&gt;

&lt;p&gt;            if (node.isAttribute())&lt;/p&gt;
            {
                buf.append(ATTR_DELIMITER);
            }

&lt;p&gt;should be changed to &lt;/p&gt;

&lt;p&gt;            if (node.isAttribute()) &lt;/p&gt;
{
	buf.append(NODE_PATH_DELIMITERS);
            }

&lt;p&gt;Using ATTR_DELIMITER will create key like element@attribute rather than element/@attribute and make config reload fail.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Any&lt;/p&gt;</environment>
        <key id="12353114">CONFIGURATION-230</key>
            <summary>XPathExpressionEngine nodeKey method create a wrong key for attribute node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="andyyeung">Andy Yeung</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Oct 2006 04:09:08 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Sat, 21 Oct 2006 15:23:54 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12442299" author="oliver.heger@t-online.de" created="Sat, 14 Oct 2006 15:07:50 +0000"  >&lt;p&gt;Do you have a code snippet (or even better a unit test) that demonstrates the problem? We need to expose the bug first, so that we can verify that it is resolved by the fix.&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="12442451" author="andyyeung" created="Mon, 16 Oct 2006 03:15:02 +0000"  >&lt;p&gt;Here is the test case attached. and the console output is&lt;br/&gt;
You can see that  exception is thrown during reload and the XML Configuration didn&apos;t get updated after the content  is changed.&lt;/p&gt;

&lt;p&gt;com.cherrypicks.augur.message.impl.EchoStringMessage&lt;br/&gt;
org.apache.commons.jxpath.JXPathException: Invalid XPath: &apos;messagehandler/message@type&apos;. Syntax error after: &apos;messagehandler/m&apos;&lt;br/&gt;
	at org.apache.commons.jxpath.ri.Parser.parseExpression(Parser.java:60)&lt;br/&gt;
	at org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.compileExpression(JXPathContextReferenceImpl.java:218)&lt;br/&gt;
	at org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.iteratePointers(JXPathContextReferenceImpl.java:529)&lt;br/&gt;
	at org.apache.commons.jxpath.JXPathContext.selectNodes(JXPathContext.java:654)&lt;br/&gt;
	at org.apache.commons.configuration.tree.xpath.XPathExpressionEngine.query(XPathExpressionEngine.java:135)&lt;br/&gt;
	at org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:694)&lt;br/&gt;
	at org.apache.commons.configuration.HierarchicalConfiguration.getProperty(HierarchicalConfiguration.java:264)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.getProperty(AbstractHierarchicalFileConfiguration.java:292)&lt;br/&gt;
	at org.apache.commons.configuration.HierarchicalConfiguration.containsKey(HierarchicalConfiguration.java:514)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.containsKey(AbstractHierarchicalFileConfiguration.java:280)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractConfiguration.clear(AbstractConfiguration.java:381)&lt;br/&gt;
	at org.apache.commons.configuration.XMLConfiguration.clear(XMLConfiguration.java:344)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration$FileConfigurationDelegate.clear(AbstractHierarchicalFileConfiguration.java:385)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.reload(AbstractFileConfiguration.java:777)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.reload(AbstractHierarchicalFileConfiguration.java:259)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.getProperty(AbstractHierarchicalFileConfiguration.java:291)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractConfiguration.resolveContainerStore(AbstractConfiguration.java:1048)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:940)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:920)&lt;br/&gt;
	at com.cherrypicks.common.config.ConfigTest.testReload(ConfigTest.java:80)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:154)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:127)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:128)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;br/&gt;
com.cherrypicks.augur.message.impl.EchoStringMessage&lt;/p&gt;</comment>
                            <comment id="12442452" author="andyyeung" created="Mon, 16 Oct 2006 03:33:05 +0000"  >&lt;p&gt;Oh, I have modified the testcase so that the test didn&apos;t pass when the xml is not reloaded.&lt;/p&gt;</comment>
                            <comment id="12444048" author="oliver.heger@t-online.de" created="Sat, 21 Oct 2006 15:23:54 +0000"  >&lt;p&gt;Should be fixed in the next nightly build. Thanks for spotting this!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12342962" name="ConfigTest.java" size="2725" author="andyyeung" created="Mon, 16 Oct 2006 03:33:05 +0000"/>
                            <attachment id="12342961" name="ConfigTest.java" size="2541" author="andyyeung" created="Mon, 16 Oct 2006 03:15:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 14 Oct 2006 15:07:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l77b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121817</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-229] config : load for a configuration node is called before parsing is complete : attributes ignored</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-229</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hi there&lt;/p&gt;

&lt;p&gt;i have noticed the following issue which appears to be a bug. (Tested on 1.3 however the version doesn&apos;t appear above)&lt;/p&gt;

&lt;p&gt;createObject from FileConfigurationFactory(DigesterConfigurationFactory) set fileName and fires load of properties : &lt;/p&gt;

&lt;p&gt;public Object createObject(Attributes attributes) throws Exception&lt;br/&gt;
        {&lt;br/&gt;
            FileConfiguration conf = createConfiguration(attributes);&lt;br/&gt;
            conf.setBasePath(getBasePath());&lt;br/&gt;
            conf.setFileName(attributes.getValue(ATTR_FILENAME));&lt;br/&gt;
            try&lt;/p&gt;
            {
                log.info(&quot;Trying to load configuration &quot; + conf.getFileName());
                conf.load();
            }

&lt;p&gt;However digester invokes createObject when the object is instancied and before setting any attributes. &lt;/p&gt;

&lt;p&gt;All other attributes beside fileName and basePath are not read in time and therefore are ignored during load.&lt;/p&gt;

&lt;p&gt;I guess load should be called when node initialization is complete, possibly using a proper digester rule. &lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
andr&#233;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12352298">CONFIGURATION-229</key>
            <summary>config : load for a configuration node is called before parsing is complete : attributes ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="andre.doherty@libertysurf.fr">Andre Doherty</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Oct 2006 14:52:04 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Thu, 2 Nov 2006 21:28:00 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12439548" author="oliver.heger@t-online.de" created="Tue, 3 Oct 2006 15:59:02 +0000"  >&lt;p&gt;You are right. This is the behavior since the first release. Do you have a concrete use case why this does not work for you?&lt;/p&gt;

&lt;p&gt;In 1.3 there is the new class DefaultConfigurationBuilder, which is able to interprete the same configuration definition files as ConfigurationFactory. This class does not use digester for parsing the XML files. It should set all properties before the load() method is called. Can you give it a try?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12439573" author="andre.doherty@libertysurf.fr" created="Tue, 3 Oct 2006 17:35:29 +0000"  >
&lt;p&gt;(Thank you for the DefaultConfigurationBuilder clue, i&apos;ll give it a try).&lt;/p&gt;

&lt;p&gt;Yes for instance you might want to use that delimiterParsingDisabled attribute to ask the configuration not to parse properties items as : &lt;/p&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
	&amp;lt;properties delimiterParsingDisabled=&quot;true&quot; fileName=&quot;userprefs.properties&quot; optional=&quot;true&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;In this case, both delimiterParsingDisabled and optional attributes are ignored at load time.&lt;/p&gt;



</comment>
                            <comment id="12446729" author="oliver.heger@t-online.de" created="Thu, 2 Nov 2006 21:28:00 +0000"  >&lt;p&gt;A fix was committed that causes the load() method to be invoked after initialization of all specified properties is completed. This should solve this problem. Please double-check.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Oct 2006 15:59:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uq1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-228] XMLConfiguration.subset() with FileChangedReloadingStrategy does *not* &apos;see&apos; file changes</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-228</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;XMLConfiguration.subset() with FileChangedReloadingStrategy does &lt;b&gt;not&lt;/b&gt; &apos;see&apos; file changes&lt;/p&gt;

&lt;p&gt;Configuration.xml:&lt;br/&gt;
&amp;lt;conf&amp;gt;&lt;br/&gt;
    &amp;lt;parent-item&amp;gt;&lt;br/&gt;
        &amp;lt;sub-item&amp;gt;old_value&amp;lt;/sub-item&amp;gt;&lt;br/&gt;
    &amp;lt;/parent-item&amp;gt;&lt;br/&gt;
&amp;lt;/conf&amp;gt;&lt;/p&gt;

&lt;p&gt;1. XMLConfiguration is loaded:&lt;br/&gt;
            config = new XMLConfiguration(&quot;c:&lt;br class=&quot;atl-forced-newline&quot; /&gt;conf.xml&quot;);&lt;br/&gt;
            config.setReloadingStrategy(new FileChangedReloadingStrategy());&lt;/p&gt;

&lt;p&gt;2. Now, &amp;lt;sub-item&amp;gt; node value changes to &quot;new_value&quot;,&lt;br/&gt;
and the code:&lt;br/&gt;
            Configuration parentItemConfig = config.subset(&quot;parent-item&quot;); &lt;span class=&quot;error&quot;&gt;&amp;#91;AA&amp;#93;&lt;/span&gt;&lt;br/&gt;
            String ss2 = parentItemConfig.getString(&quot;sub-item&quot;);&lt;br/&gt;
returns &quot;old_value&quot; !!!&lt;/p&gt;

&lt;p&gt;while:  config.getString(&quot;parent-item.sub-item&quot;); returns new refreshed value.&lt;/p&gt;

&lt;p&gt;It is a bug, we have FileChangedReloadingStrategy, we create new subset in &lt;span class=&quot;error&quot;&gt;&amp;#91;AA&amp;#93;&lt;/span&gt; but receive old values.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;for now, workaround for config users is to call config.reload() when strategy.hasChanged()&amp;#93;&lt;/span&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12350493">CONFIGURATION-228</key>
            <summary>XMLConfiguration.subset() with FileChangedReloadingStrategy does *not* &apos;see&apos; file changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="januszst">Janusz Studzizba</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Sep 2006 11:34:34 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Mon, 16 Oct 2006 20:26:45 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12436935" author="oliver.heger@t-online.de" created="Fri, 22 Sep 2006 17:31:29 +0000"  >&lt;p&gt;I think the problem here is that the subset configuration returned by XMLConfiguration is not life, i.e. it is not really connected to the parent configuration. There was a bug report (&lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-212&quot; title=&quot;[configuration] The subset configuration returned by HierarchicalConfiguration is not &amp;quot;life&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-212&quot;&gt;&lt;del&gt;CONFIGURATION-212&lt;/del&gt;&lt;/a&gt;) describing this problem.&lt;/p&gt;

&lt;p&gt;In the current code base there is the new method configurationAt(String key) in HierarichicalConfiguration that returns a life configuration. You can try this method as an alternative.&lt;/p&gt;

&lt;p&gt;But maybe the subset() implementation should be changed to return a life subset, too.&lt;/p&gt;</comment>
                            <comment id="12437475" author="januszst" created="Mon, 25 Sep 2006 07:19:56 +0000"  >&lt;p&gt;Olivier,&lt;/p&gt;

&lt;p&gt;IMHO it is not a &quot;life&quot; subset link to parent configuration. issue.&lt;br/&gt;
See my code line designated with &lt;span class=&quot;error&quot;&gt;&amp;#91;AA&amp;#93;&lt;/span&gt;:&lt;br/&gt;
   Configuration parentItemConfig = config.subset(&quot;parent-item&quot;);   //&lt;span class=&quot;error&quot;&gt;&amp;#91;AA&amp;#93;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;I am creating &lt;b&gt;new&lt;/b&gt; subset from parent configuration, parent config is realoded, while newly created subset from such reloaded refreshed parent returns old values..&lt;/p&gt;

&lt;p&gt;I looked into source code, and IMHO realod() method should be called in somewhere in subset() implementation&lt;br/&gt;
as it is called in eg. AbstractFileConfiguration.getProperty()&lt;/p&gt;</comment>
                            <comment id="12437659" author="oliver.heger@t-online.de" created="Mon, 25 Sep 2006 19:52:26 +0000"  >&lt;p&gt;Sounds plausible. I will have a look.&lt;/p&gt;

&lt;p&gt;Is there any chance that you can provide a junit test? If not, that&apos;s no problem; I think the issue should not be too difficult to reproduce.&lt;/p&gt;</comment>
                            <comment id="12437755" author="januszst" created="Tue, 26 Sep 2006 06:46:31 +0000"  >&lt;p&gt;Unfortunately I don&apos;t have any jUnit test ready, but please follow the steps 1 and 2 from my initial description.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;and please note the sentence below 2. step &amp;quot;while: config.getString(&amp;quot;parent-item.sub-item&amp;quot;); returns new refreshed value. &amp;quot;&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12442691" author="oliver.heger@t-online.de" created="Mon, 16 Oct 2006 20:26:45 +0000"  >&lt;p&gt;I added some new test cases and committed a fix. Please double check.&lt;br/&gt;
Thanks for spotting this!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Sep 2006 17:31:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-227] ConfigurationDynaBean does not work well with all types of configurations</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-227</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The current implementation of ConfigurationDynaBean makes some assumptions about the underlying Configuration object that are not met by all configuration implementations. Especially setting values for indexed properties by calling getList() and manipulating mapped properties through a subset configuration do not work for configurations derived from HierarchicalConfiguration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12350183">CONFIGURATION-227</key>
            <summary>ConfigurationDynaBean does not work well with all types of configurations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Sep 2006 19:53:39 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Mon, 30 Oct 2006 20:24:56 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12445706" author="oliver.heger@t-online.de" created="Mon, 30 Oct 2006 20:24:56 +0000"  >&lt;p&gt;A fix was applied that improves the compatibility of ConfigurationDynaBean with other configuration types, namely hierarchical configurations (there is also a new unit test class running all test cases on a XMLConfiguration). The only requirement is that the configuration uses the dot (&quot;.&quot;) as property delimiter. For hierarchical configurations that make use of a special expression engine this could be a problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uq9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-224] BaseConfiguration.getProperty() returns reference to intenal store collection object instead of a clone</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-224</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When the property object is a List or an Array, BaseConfiguration.getProperty() returns a reference to the object contained in the store.&lt;br/&gt;
This means that changing that object, changes the content of the properties store without an explicit setProperty() or addProperty(). &lt;br/&gt;
Also any change to the object in the store will change the object that the code has reference to, but the user is not aware that the property has changed unless he has added a ConfigurationListener.&lt;/p&gt;

&lt;p&gt;Attached a patch to make the object returned by BaseConfiguration.getProperty() a clone of store content, to avoid side effects when changing Collection properties.&lt;/p&gt;</description>
                <environment>&lt;p&gt;1.3RC2&lt;/p&gt;</environment>
        <key id="12349270">CONFIGURATION-224</key>
            <summary>BaseConfiguration.getProperty() returns reference to intenal store collection object instead of a clone</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="garu">Gabriele Garuglieri</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Sep 2006 05:41:37 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Fri, 22 Sep 2006 17:25:58 +0000</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12433639" author="oliver.heger@t-online.de" created="Sat, 9 Sep 2006 19:11:57 +0000"  >&lt;p&gt;Good catch. This also means that the way ConfigurationDynaBean is implemented ATM it will not properly work with other configuration types (e.g. XMLConfiguration) that do not return modifiable list objects.&lt;/p&gt;

&lt;p&gt;However I am not sure whether cloning a collection is the best solution. I would assume that directly manipulating a list object returned by getProperty() is rather unusual because there is no guarantee that this works for all configuration types. So by making use of cloning each call to getProperty() with collections involved would become more expensive only to deal with a special case. An alternative would be to return an unmodifiable collection (using Collections.unmodifiableCollection). But this would have to be exactly documented because it can impact existing code. WDYT?&lt;/p&gt;

&lt;p&gt;I would like to postpone this issue until the 1.3 release is out.&lt;/p&gt;</comment>
                            <comment id="12433789" author="garu" created="Mon, 11 Sep 2006 07:41:03 +0000"  >&lt;p&gt;Hi Oliver,&lt;br/&gt;
i agree with you that directly manipulating a list object returned by getProperty() is rather unusual, but i don&apos;t think making the returned object unmodifiable keeps you safe from the worst side effect of this problem.&lt;/p&gt;

&lt;p&gt;The real case that made me aware of this problem is as follows.&lt;br/&gt;
Based on the new events mechanism i implemented a PropertyListener by which you can specify one or more properties to monitor for changes. One of the options it gives is that user can specify  he wants to be notified only if the property value really changes. I.e. events like file reloads for properties that are reloaded with same value are filtered out.&lt;br/&gt;
To allow this the listener saves the old property value to match it against the new value, but in case of a collection value the old value is just a reference to the value in store.&lt;br/&gt;
This means that addProperty() or a file reload against a Collection object cause change events to be issued but  when they arrive both old value and new value refers to the same object hence, either changed or not, the comparison ALWAYS gives perfect match. So real change events are lost.&lt;/p&gt;

&lt;p&gt;I was not able to find a solution to this other than the returned property value is a different object than the one in store.&lt;/p&gt;

&lt;p&gt;Also think of cases where a casual user that didn&apos;t implemented any configuration listener holds a reference to a Collection object. If another thread changes the object in store, as a side effect also changes what the user refers too, but he may never become aware of that unless he always tests the size() of the Collection before he accesses it.&lt;/p&gt;

&lt;p&gt;IMO this should go into 1.3 because side effects that cause unexpected changes are always dangerous.&lt;/p&gt;</comment>
                            <comment id="12434537" author="oliver.heger@t-online.de" created="Wed, 13 Sep 2006 20:17:29 +0000"  >&lt;p&gt;I am still reluctant to add this copy operation to getProperty(). The getter methods that deal with collections like getList() and getStringArray() will perform another copy because they need to do interpolation. (So if somebody holds a collection or array returned by these methods, there won&apos;t be a problem.)&lt;/p&gt;

&lt;p&gt;Maybe the documentation of getProperty() should be changed to state that this method (depending on a specific implementation) may return an object that is under the control of the configuration instance and should not be manipulated or considered constant over time.&lt;/p&gt;

&lt;p&gt;This won&apos;t help you with your current problem. But can&apos;t you do the copy yourself for collection objects? I guess you will have a special treatment for collections anyway to compare the single elements, haven&apos;t you?&lt;/p&gt;</comment>
                            <comment id="12435561" author="oliver.heger@t-online.de" created="Mon, 18 Sep 2006 20:05:36 +0000"  >&lt;p&gt;For the incompatibility of ConfigurationDynaBean with some of the Configuration classes I have created a special ticket: &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-227&quot; title=&quot;ConfigurationDynaBean does not work well with all types of configurations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-227&quot;&gt;&lt;del&gt;CONFIGURATION-227&lt;/del&gt;&lt;/a&gt; (I did some further testing and found out that there are more problems than dealing with lists). This is mainly to have this somewhere documented, I see no easy solution for this problem ATM.&lt;/p&gt;

&lt;p&gt;Meanwhile the vote for the release of Configuration 1.3 has passed, so these issues can be addressed later (which IMHO is no big problem, because the code in question exists since the very first release; so there is no need to hurry).&lt;/p&gt;

&lt;p&gt;Do you think that updating the documentation of the getProperty() method in the way outlined above would be a good idea?&lt;/p&gt;</comment>
                            <comment id="12435821" author="garu" created="Tue, 19 Sep 2006 14:44:52 +0000"  >&lt;p&gt;Hi Oliver,&lt;br/&gt;
sorry, i&apos;ve been out of office.&lt;br/&gt;
I already solved my problem, as you said, making myself a clone of the returning list.&lt;br/&gt;
About the problem, you may be right, indeed i missed that there are already other methods that returns a copy, so perhaps accurately documenting the behaviour of getProperty() may be enough.&lt;/p&gt;</comment>
                            <comment id="12436933" author="oliver.heger@t-online.de" created="Fri, 22 Sep 2006 17:25:58 +0000"  >&lt;p&gt;A comment describing the behavior of getProperty() was added to the Configuration interface. So I am closing this ticket now. The problems with ConfigurationDynaBean are now dealt with in ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-227&quot; title=&quot;ConfigurationDynaBean does not work well with all types of configurations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-227&quot;&gt;&lt;del&gt;CONFIGURATION-227&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12491590" author="ebourg" created="Wed, 25 Apr 2007 10:24:48 +0000"  >&lt;p&gt;There is another alternative to this issue : getProperty() could return a decorator for Collection properties, the decorator would intercept the modifications to the collection and generate a configuration event.&lt;/p&gt;

&lt;p&gt;That may be interesting for the getList() methods, I think it&apos;s important that getProperty() returns the stored object without modification.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12340241" name="ASF.LICENSE.NOT.GRANTED--list.patch" size="2270" author="garu" created="Wed, 6 Sep 2006 05:41:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Sep 2006 19:11:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-223] PropertiesConfigurationLayout broke the autoSave behaviour of PropertiesConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-223</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When using  PropertiesConfiguration with autoSave &quot;true&quot; the PropertiesConfigurationLayout causes invalid properties files to be saved.&lt;/p&gt;

&lt;p&gt;When using addProperty(&quot;key&quot;, &quot;value&quot;); where key does not exist yet in the configuration the EVENT_ADD_PROPERTY event that updates the PropertiesConfigurationLayout with the new &quot;key&quot; is issued only after the possiblySave() method is invoked so the new property will not be saved.&lt;/p&gt;

&lt;p&gt;When using setProperty(&quot;key&quot;, &quot;value&quot;); where key does not exist yet in the configuration the EVENT_SET_PROPERTY event that updates the PropertiesConfigurationLayout with the new &quot;key&quot; is issued only after the possiblySave() method is invoked so the new property will not be saved.&lt;/p&gt;

&lt;p&gt;The way it is implemented now makes content of the saved file depending on PropertiesConfigurationLayout content that depends on an event that will be issued only after the file was properly updated. This creates a circular dependency that cannot work.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;1.3RC1&lt;/p&gt;</environment>
        <key id="12348732">CONFIGURATION-223</key>
            <summary>PropertiesConfigurationLayout broke the autoSave behaviour of PropertiesConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="garu">Gabriele Garuglieri</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Aug 2006 12:45:21 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Wed, 30 Aug 2006 19:21:32 +0000</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12431060" author="oliver.heger@t-online.de" created="Mon, 28 Aug 2006 20:32:00 +0000"  >&lt;p&gt;Will have a closer look at this issue.&lt;/p&gt;

&lt;p&gt;Perhaps the problem could be solved when AbstractFileConfiguration did not override addPropertyDirect(), but addProperty() and setProperty() (for calling the possiblySave() method). This would also have the advantage that adding of properties with multiple values would cause only one save() operation instead of one per property value.&lt;/p&gt;</comment>
                            <comment id="12431218" author="garu" created="Tue, 29 Aug 2006 10:47:06 +0000"  >&lt;p&gt;I guess it should work, but this would change the operations behaviour, making them more ore less &quot;atomic&quot;.&lt;br/&gt;
Understanding all the possible side effects of this change was too far from my actual knowledge of all internal subtleties and i couldn&apos;t afford the time to develop a patch for this.&lt;/p&gt;

&lt;p&gt;Anyway i attach a patch with some testcases you can use to verify the problem.&lt;/p&gt;

&lt;p&gt;Regards,  Gabriele&lt;/p&gt;

&lt;p&gt;PS: this broke all my JMX work on properties persistence... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12431362" author="oliver.heger@t-online.de" created="Tue, 29 Aug 2006 20:33:17 +0000"  >&lt;p&gt;Thanks for the patch, this is really helpful. I changed AbstractFileConfiguration in the way mentioned above and everything seems to work. I will do some more testing.&lt;/p&gt;

&lt;p&gt;You are right that the behavior of these methods is now slightly different, but in this case I think it is an improvement. Calling addProperty() or setProperty() is now considered a single change and will result in only one auto save operation. This is fine IMO.&lt;/p&gt;

&lt;p&gt;Sorry for your JMX work. What makes me worrying is the fact that this significant bug was not detected by our unit test suite, though we have a pretty high code coverage. Obviously there is still room for improvement.&lt;/p&gt;</comment>
                            <comment id="12431661" author="oliver.heger@t-online.de" created="Wed, 30 Aug 2006 19:21:32 +0000"  >&lt;p&gt;The fix was committed. Everything seems to work now. Please double-check.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12339761" name="223-test.patch" size="6887" author="garu" created="Tue, 29 Aug 2006 10:47:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Aug 2006 20:32:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33927</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uofb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-222] Saving PropertiesConfiguration created with PropertiesConfiguration() constructor creates empty files</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-222</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The introduction of  PropertiesConfigurationLayout broke the saving of in memory created PropertesConfiguration.&lt;/p&gt;

&lt;p&gt;This piece of code will yield empt saved file:&lt;br/&gt;
PropertiesConfiguration pc = new PropertiesConfiguration();&lt;br/&gt;
pc.addProperty(&quot;string&quot;, &quot;value1&quot;);&lt;br/&gt;
pc.save(&quot;testsave.properties&quot;);&lt;/p&gt;

&lt;p&gt;The problem is that no PropertiesConfigurationLayout is created and EVENT_ADD_PROPERTY is lost.&lt;br/&gt;
Then when saving, an empty PropertiesConfigurationLayout is created and nothing is saved in output file.&lt;/p&gt;

&lt;p&gt;Added creation of PropertiesConfigurationLayout  to PropertiesConfiguration() contructor, changed setLayout() to enforce that only one layout per PropertiesConfiguration must exist and added a testcase for this condition.&lt;/p&gt;</description>
                <environment>&lt;p&gt;1.3RC1&lt;/p&gt;</environment>
        <key id="12348720">CONFIGURATION-222</key>
            <summary>Saving PropertiesConfiguration created with PropertiesConfiguration() constructor creates empty files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="garu">Gabriele Garuglieri</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Aug 2006 09:11:56 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Mon, 28 Aug 2006 20:27:10 +0000</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12431058" author="oliver.heger@t-online.de" created="Mon, 28 Aug 2006 20:27:10 +0000"  >&lt;p&gt;Patch applied. Very good work! Many thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12339687" name="ASF.LICENSE.NOT.GRANTED--layout.patch" size="3345" author="garu" created="Mon, 28 Aug 2006 09:11:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Aug 2006 20:27:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33853</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-220] getDateArray(String key, Date[] defaultValue, String format) ignores format argument</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-220</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;getDateArray(String key, Date[] defaultValue, String format) in DataConfiguration takes a format argument, but it is not used in the call to getDateList(key). This call should probably be getDateList(key, format).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12347945">CONFIGURATION-220</key>
            <summary>getDateArray(String key, Date[] defaultValue, String format) ignores format argument</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="carl">Carl Yeksigian</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Aug 2006 23:59:22 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Tue, 15 Aug 2006 20:27:44 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12428220" author="oliver.heger@t-online.de" created="Tue, 15 Aug 2006 20:27:44 +0000"  >&lt;p&gt;Very good catch! Fixed in subversion.&lt;br/&gt;
Many thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Aug 2006 20:27:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l7k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121875</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-219] PropertiesConfiguration.clone() does not properly handle the layout object</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-219</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;If a PropertiesConfiguration object is cloned, the clone will have the same PropertiesConfigurationLayout object. Of course this will cause trouble when later both objects are modified and then written to a file.&lt;/p&gt;

&lt;p&gt;PropertiesConfiguration needs a specific clone() implementation, which also clones the layout object.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12347623">CONFIGURATION-219</key>
            <summary>PropertiesConfiguration.clone() does not properly handle the layout object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Aug 2006 20:25:26 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Sat, 12 Aug 2006 15:23:11 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12427697" author="oliver.heger@t-online.de" created="Sat, 12 Aug 2006 15:23:11 +0000"  >&lt;p&gt;Fixed now in subversion: A clone() method was added to PropertiesConfiguration, which ensures that the layout object gets also copied.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177241</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-217] Possible Maven2 POM dependency clash for Servlet-API</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-217</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;As described by ASF bug #33476 Commons Configurations shall depend on Servlet-API 2.4. The current Maven2 POM of Commons Configuration 1.2 shows a dependency on Servlet-API 2.3. This is not only a mismatch between Commons Configurations&apos; build configuration and its Maven2 POM but also prevents Maven2 projects from using the Servlet-API 2.4 if also using Commons Configuration 1.2.&lt;/p&gt;

&lt;p&gt;Could it be possible to fix Commons Configuration 1.2&apos;s Maven2 POM to include a dependency on Servlet-API 2.4, please?&lt;/p&gt;

&lt;p&gt;With best regards, Christoph&lt;/p&gt;


&lt;p&gt;P.S.: My thanks for the quick fix of the Commons Collection dependency problem within Commons Configuration.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Maven 2.0.4&lt;br/&gt;
Windows XP&lt;/p&gt;</environment>
        <key id="12344838">CONFIGURATION-217</key>
            <summary>Possible Maven2 POM dependency clash for Servlet-API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cenowa@makdata.de">Christoph Cenowa</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Jun 2006 17:04:16 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Sat, 29 Jul 2006 15:25:31 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12417890" author="oliver.heger@t-online.de" created="Tue, 27 Jun 2006 02:45:45 +0000"  >&lt;p&gt;We have discussed this issue on the developers&apos; list with some maven experts. Here is a link to this thread:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://marc.theaimsgroup.com/?l=jakarta-commons-dev&amp;amp;m=115117131729595&amp;amp;w=2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://marc.theaimsgroup.com/?l=jakarta-commons-dev&amp;amp;m=115117131729595&amp;amp;w=2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Outcome is that once released POMs should not be changed afterwards. I hope that the 1.3 release of Commons Configuration 1.3 won&apos;t be too far in future. Then we can update the dependency to Servlet API 2.4.&lt;/p&gt;</comment>
                            <comment id="12424301" author="oliver.heger@t-online.de" created="Sat, 29 Jul 2006 15:25:30 +0000"  >&lt;p&gt;The dependency was updated to version 2.4 and marked as optional (because it is only needed by web configurations).&lt;/p&gt;

&lt;p&gt;I am in the process of preparing the first release candidate of Commons Configuration 1.3, so hopefully the next release is close.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 Jun 2006 02:45:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l77r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121819</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-216] Inconsistent way to locate filename when creating configuration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-216</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;There is a different behaviour locating the configuration file in classpath depending on the way it is set in the configuration class.&lt;br/&gt;
For example assuming &quot;conf/conf1.properties&quot; exists in classpath:&lt;/p&gt;

&lt;p&gt;PropertiesConfiguration pc = new PropertiesConfiguration(&quot;conf/conf1.properties&quot;);&lt;br/&gt;
gives org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source conf1.properties&lt;/p&gt;

&lt;p&gt;while&lt;/p&gt;

&lt;p&gt;PropertiesConfiguration pc = new PropertiesConfiguration();&lt;br/&gt;
pc.setFileName(&quot;conf/conf1.properties&quot;);&lt;br/&gt;
pc.load();&lt;/p&gt;

&lt;p&gt;properly locate file in classpath and loads it.&lt;/p&gt;</description>
                <environment>&lt;p&gt;commons-configuration-1.3-dev&lt;/p&gt;</environment>
        <key id="12344478">CONFIGURATION-216</key>
            <summary>Inconsistent way to locate filename when creating configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="garu">Gabriele Garuglieri</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Jun 2006 12:40:17 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:43 +0000</updated>
                            <resolved>Sat, 26 Aug 2006 16:41:31 +0000</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12417180" author="oliver.heger@t-online.de" created="Thu, 22 Jun 2006 03:37:33 +0000"  >&lt;p&gt;Should be fixed now in subversion, revision 416102. Please double check.&lt;/p&gt;</comment>
                            <comment id="12417252" author="garu" created="Thu, 22 Jun 2006 13:30:09 +0000"  >&lt;p&gt;Hi Oliver,&lt;br/&gt;
taking it just out of the box results in:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Testcase: testInitFromClassPath took 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Caused an ERROR&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Cannot locate configuration source config/deep/deeptest.properties&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source config/deep/deeptest.properties&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:208)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:188)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; at org.apache.commons.configuration.TestFileConfiguration.testInitFromClassPath(TestFileConfiguration.java:489)&lt;br/&gt;
when running tests during build.&lt;/p&gt;

&lt;p&gt;The problem is that in build.xml you copy &quot;config/deep/deeptest.properties&quot; into a further &quot;config&quot; nesting level so changing &lt;br/&gt;
private static final String RESOURCE_NAME = &quot;config/deep/deeptest.properties&quot;;&lt;br/&gt;
into&lt;br/&gt;
private static final String RESOURCE_NAME = &quot;config/config/deep/deeptest.properties&quot;;&lt;br/&gt;
into TestFileConfiguration, makes everything working.&lt;/p&gt;</comment>
                            <comment id="12417354" author="oliver.heger@t-online.de" created="Fri, 23 Jun 2006 02:30:52 +0000"  >&lt;p&gt;You are right! The problem did not occur to me because I use the maven build. And after a maven build ran successfully the ant build is successful, too, because maven copies the files to the right location.&lt;/p&gt;

&lt;p&gt;Well, I changed the copying stuff in build.xml, and now both builds should work. Sorry!&lt;/p&gt;</comment>
                            <comment id="12429724" author="garu" created="Tue, 22 Aug 2006 14:31:48 +0000"  >&lt;p&gt;Hi Oliver,&lt;br/&gt;
i&apos;ve found a condition in which the fix won&apos;t work.&lt;br/&gt;
Given this snippet of code:&lt;br/&gt;
DefaultConfigurationBuilder cf =  new DefaultConfigurationBuilder(&quot;conf/config/deep/testFileFromClasspath.xml&quot;);&lt;br/&gt;
 CombinedConfiguration config = cf.getConfiguration(true);&lt;br/&gt;
 assertNotNull(config.getConfiguration(&quot;propConf&quot;));&lt;/p&gt;

&lt;p&gt;that loads this configuration file:&lt;br/&gt;
&amp;lt;configuration&amp;gt;&lt;br/&gt;
  &amp;lt;properties config-name=&quot;propConf&quot; fileName=&quot;testEqual.properties&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;with &quot;testEqual.properties&quot; located into &quot;/conf&quot; that is in classpath&lt;/p&gt;

&lt;p&gt;will end up trying to load &quot;conf/config/deep/testEqual.properties&quot; which is not found.&lt;/p&gt;

&lt;p&gt;I&apos;ve reworked a bit the code and produced a patch that should correct the problem.&lt;br/&gt;
You migth not agree on the code but at least it should give you the idea of the flaw in the previous implementation.&lt;/p&gt;</comment>
                            <comment id="12429726" author="garu" created="Tue, 22 Aug 2006 14:36:09 +0000"  >&lt;p&gt;Testcase for the error condition and corrective patch&lt;/p&gt;</comment>
                            <comment id="12429730" author="garu" created="Tue, 22 Aug 2006 14:47:40 +0000"  >&lt;p&gt;After fiddling for a while with this bug it looks that, even if i&apos;m the reporter, i miss the authority to reopen it, or simply i could&apos;nt manage to understand how to do it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12429740" author="joehni" created="Tue, 22 Aug 2006 15:15:11 +0000"  >&lt;p&gt;Reopened by request. Since the bug is &quot;only&quot; resolved, you should have been able to do so yourself. But maybe there&apos;s a flaw in the JIRA workflow configuration ...&lt;/p&gt;</comment>
                            <comment id="12429798" author="oliver.heger@t-online.de" created="Tue, 22 Aug 2006 20:33:42 +0000"  >&lt;p&gt;I had a look at your patch. Looks good, and all unit tests are running.&lt;/p&gt;

&lt;p&gt;One change is problematic however: You removed the methods get/setPath() from AbstractFileConfiguration. This is a binary incompatible change, i.e. it would break existing code. So we can&apos;t do this. Is there a special reason why you deleted these methods?&lt;/p&gt;

&lt;p&gt;I am also a bit concerned regarding semantic compatibility. You had to change the testLocations() test case, which means that the behavior of some of the methods has changed. This could also have an impact on existing code. Wouldn&apos;t it be possible to keep the behavior of these methods and only do some additional checks in ConfigurationUtils.locate() ?&lt;/p&gt;

&lt;p&gt;In any case: Many thanks for your effort!&lt;/p&gt;</comment>
                            <comment id="12429954" author="garu" created="Wed, 23 Aug 2006 10:23:57 +0000"  >&lt;p&gt;Hi Oliver,&lt;br/&gt;
you are rigth, removing that methods was an overkill.&lt;br/&gt;
There are simply too many way to set the same things in sligtly different manner and i was confused.&lt;/p&gt;

&lt;p&gt;I restored all the previous semantic with a difference that should not impact existing code other than avoiding an NPE in a particular case.&lt;br/&gt;
The getPath() method now check if getFile() returns null, which may be the case when the config was loaded from a jar in classpath, then, if the config was loaded from a jar in classpath it returns instead the String form of the URL from which it was loaded.&lt;br/&gt;
In this way you are always able to know the config location.&lt;/p&gt;

&lt;p&gt;I added indication in javadoc that if you are referencing files from classpath with relative paths only setFilename() must be used because setPath() tries to expand to an absolute path which may give invalid references for files in classpath.&lt;/p&gt;

&lt;p&gt;I also added some more testcases to check classpath references behaviour.&lt;br/&gt;
I left some logging into the added testcases to show you the new behaviour of getPath(), you can safely remove it if you want.&lt;/p&gt;

&lt;p&gt;Regards,  Gabriele&lt;/p&gt;

&lt;p&gt;PS. I&apos;m developing a JMXConfiguration, based on 1.3, for my own usage in our applications. I&apos;ve a working  prototype that allows to get/set and persist properties. If you are interested i can share the code once i&apos;ve got something stable.&lt;/p&gt;</comment>
                            <comment id="12429955" author="garu" created="Wed, 23 Aug 2006 10:26:10 +0000"  >&lt;p&gt;New version of the patch and expanded resources.jar needed for sone new testcases.&lt;/p&gt;</comment>
                            <comment id="12429958" author="garu" created="Wed, 23 Aug 2006 10:34:08 +0000"  >&lt;p&gt;Perhaps Jira hates me? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
How can i obsolete an attachment like with bugzilla?&lt;/p&gt;</comment>
                            <comment id="12430092" author="oliver.heger@t-online.de" created="Wed, 23 Aug 2006 20:18:16 +0000"  >&lt;p&gt;Patch applied. Many thanks!&lt;/p&gt;

&lt;p&gt;I made the following minor changes:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Changed the visibility of ConfigurationUtils.locateFromClasspath() to package scope; there is no need to make this method part of the public API.&lt;/li&gt;
	&lt;li&gt;Excluded the tests that try to access the jar file. We had some trouble with this jar (see ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-71&quot; title=&quot;[configuration] Fake &amp;quot;resources&amp;quot; dependency kills Maven2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-71&quot;&gt;&lt;del&gt;CONFIGURATION-71&lt;/del&gt;&lt;/a&gt;), which I don&apos;t want to have again.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Regarding JMXConfiguration: That would be really cool. JMX is on our roadmap for future releases.&lt;/p&gt;</comment>
                            <comment id="12430757" author="oliver.heger@t-online.de" created="Sat, 26 Aug 2006 16:41:31 +0000"  >&lt;p&gt;Marking this issue as resolved. Please double check and reopen if you still encounter problems.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12339402" name="216-1.patch" size="13570" author="garu" created="Wed, 23 Aug 2006 10:26:10 +0000"/>
                            <attachment id="12339403" name="resources.jar" size="2864" author="garu" created="Wed, 23 Aug 2006 10:26:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Jun 2006 03:37:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121682</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-214] Adding an integer and getting it as a long causes an exception</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-214</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Try this in a BeanShell:&lt;/p&gt;

&lt;p&gt;bsh % p = new org.apache.commons.configuration.PropertiesConfiguration();&lt;br/&gt;
bsh % p.setProperty(&quot;foo&quot;, 6);&lt;br/&gt;
bsh % p.getLong(&quot;foo&quot;);&lt;br/&gt;
// Error: // Uncaught Exception: Method Invocation p.getLong : at Line: 3 : in file: &amp;lt;unknown file&amp;gt; : p .getLong ( &quot;foo&quot; )&lt;/p&gt;

&lt;p&gt;Target exception: org.apache.commons.configuration.ConversionException: &apos;foo&apos; doesn&apos;t map to a Long object&lt;/p&gt;

&lt;p&gt;org.apache.commons.configuration.ConversionException: &apos;foo&apos; doesn&apos;t map to a Long object&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getLong(AbstractConfiguration.java:667)&lt;/p&gt;

&lt;p&gt;The problem is that when an object in a property is not a Long, the only attempt of PropertyConverter.toLong() is that of treating it as a string. It could try to convert it to a Number first and then try to convert it to a long. It is a very confusing behaviour, because if you save and reload the properties everything works fine (as now the integer is a string).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, java 1.5&lt;/p&gt;</environment>
        <key id="12343570">CONFIGURATION-214</key>
            <summary>Adding an integer and getting it as a long causes an exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="vigna">Sebastiano Vigna</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 May 2006 21:35:46 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:42 +0000</updated>
                            <resolved>Fri, 2 Jun 2006 02:55:45 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12413585" author="oliver.heger@t-online.de" created="Sat, 27 May 2006 21:57:23 +0000"  >&lt;p&gt;I agree with you that this is a bug. Coversions between the Number types should be possible. Will have al look.&lt;/p&gt;</comment>
                            <comment id="12414294" author="oliver.heger@t-online.de" created="Fri, 2 Jun 2006 02:55:45 +0000"  >&lt;p&gt;Conversion features between different Number types were added.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 May 2006 21:57:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33892</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l64f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-138] [configuration] HierarchicalConfigurationConverter has problems with attributes</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-138</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;A problem with correct handling of attributes in&lt;br/&gt;
HierarchicalConfigurationConverter caused the method testAllConfiguration() in&lt;br/&gt;
TestConfigurationFactory to fail if the file &quot;test.xml&quot; was included in the&lt;br/&gt;
configuration definition file.&lt;br/&gt;
The associated patch solves this problem. In testAllConfiguration() also a few&lt;br/&gt;
more asserts have been added to verify that properties have been processed&lt;br/&gt;
correctly.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341638">CONFIGURATION-138</key>
            <summary>[configuration] HierarchicalConfigurationConverter has problems with attributes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Aug 2004 01:36:18 +0000</created>
                <updated>Tue, 16 May 2006 12:22:26 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:22:26 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407236" author="oliver.heger@t-online.de" created="Sat, 14 Aug 2004 01:37:45 +0000"  >&lt;p&gt;Created an attachment (id=12423)&lt;br/&gt;
Patch file for HierarchicalConfigurationConverter and TestConfigurationFactory&lt;/p&gt;</comment>
                            <comment id="12407237" author="oliver.heger@t-online.de" created="Sat, 14 Aug 2004 01:39:39 +0000"  >&lt;p&gt;Created an attachment (id=12424)&lt;br/&gt;
Test configuration definition file with included &quot;test.xml&quot;&lt;/p&gt;</comment>
                            <comment id="12407238" author="ebourg" created="Fri, 20 Aug 2004 22:52:47 +0000"  >&lt;p&gt;Patch applied, thank you ! I&apos;m just a bit concerned about some lines that are&lt;br/&gt;
not covered by the tests though. According to Clover, the condition line 169 is&lt;br/&gt;
never evaluated to false, that means the line 182 is never run and openElements&lt;br/&gt;
doesn&apos;t return null. As a result the condition on line 74 is never evaluated to&lt;br/&gt;
true. Could you build a test for this case by chance ?&lt;/p&gt;</comment>
                            <comment id="12407239" author="oliver.heger@t-online.de" created="Sat, 21 Aug 2004 21:35:35 +0000"  >&lt;p&gt;Created an attachment (id=12500)&lt;br/&gt;
Additional patch for HierarchicalConfigurationConverter&lt;/p&gt;</comment>
                            <comment id="12407240" author="oliver.heger@t-online.de" created="Sat, 21 Aug 2004 21:46:28 +0000"  >&lt;p&gt;I think I found the reason why the lines you pointed out are never executed:&lt;br/&gt;
They are simply unneccessary!&lt;/p&gt;

&lt;p&gt;The original problem was caused by property keys that are a sub string of the&lt;br/&gt;
last key processed by the loop (starting at line 63). For such keys&lt;br/&gt;
openElements() would return null. But actually if such a key appears, it is&lt;br/&gt;
already contained in the keySet and then the continue statement gets executed.&lt;br/&gt;
So openElements() is no more called.&lt;/p&gt;

&lt;p&gt;I attached a patch that removes the affected lines. Clover is a nice tool, I&lt;br/&gt;
didn&apos;t see this earlier.&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</comment>
                            <comment id="12407241" author="ebourg" created="Mon, 23 Aug 2004 15:11:38 +0000"  >&lt;p&gt;Applied, thank you Oliver. Coverage tools are great to track down untested&lt;br/&gt;
features or unnecessary code, I use it all the time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12407242" author="dep4b" created="Mon, 6 Sep 2004 19:53:08 +0000"  >&lt;p&gt;Have applied the patch, I think the test case makes explicit the behavior expected.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333050" name="ASF.LICENSE.NOT.GRANTED--HierarchicalConfigurationConverter.txt" size="1999" author="oheger" created="Sat, 21 Aug 2004 21:35:35 +0000"/>
                            <attachment id="12333048" name="ASF.LICENSE.NOT.GRANTED--patch.txt" size="4707" author="oheger" created="Sat, 14 Aug 2004 01:37:45 +0000"/>
                            <attachment id="12333049" name="ASF.LICENSE.NOT.GRANTED--testDigesterConfiguration3.xml" size="417" author="oheger" created="Sat, 14 Aug 2004 01:39:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30655</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Aug 2004 22:52:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33856</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tffz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-137] [configuration] Can&apos;t add a new property as an attribute in XMLConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-137</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;XMLConfiguration supports an extended key syntax to store a property as an xml&lt;br/&gt;
attribute (&quot;foo&lt;span class=&quot;error&quot;&gt;&amp;#91;@bar&amp;#93;&lt;/span&gt;&quot;), but the current implementation can only read and modify&lt;br/&gt;
existing attributes read from an xml file, adding a new attribute property&lt;br/&gt;
results in a NullPointerException in the setXmlProperty method.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341569">CONFIGURATION-137</key>
            <summary>[configuration] Can&apos;t add a new property as an attribute in XMLConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jul 2004 20:45:58 +0000</created>
                <updated>Tue, 16 May 2006 12:23:18 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:23:18 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30074</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tflj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-136] Reloading may corrupt the configuration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-136</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Current reloading process clears current properties and load updated values from&lt;br/&gt;
resource reader. If an IO error occurs (or invalid format), the configuration&lt;br/&gt;
gets corrupted and the application becomes unstable.&lt;/p&gt;

&lt;p&gt;It may be better for hot-reload to put loaded values into a temporary Properties&lt;br/&gt;
and replace previous values only when reloading is successful. &lt;/p&gt;

&lt;p&gt;It may also allow to use a &apos;currentlty-reloading&apos; flag in the synchronized&lt;br/&gt;
&apos;reload&apos; block to avoid blocking threads during a reload (they could access&lt;br/&gt;
safelly the &apos;old&apos; properties until reload is finished)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12342553">CONFIGURATION-136</key>
            <summary>Reloading may corrupt the configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ndeloof">nicolas de loof</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Sep 2005 18:26:59 +0000</created>
                <updated>Thu, 24 Mar 2016 20:20:50 +0000</updated>
                            <resolved>Sat, 13 Sep 2014 19:16:41 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>2.0</fixVersion>
                                    <component>File reloading</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12410399" author="ebourg" created="Wed, 14 Sep 2005 19:02:14 +0000"  >&lt;p&gt;This issue has been on the todo list for quite some time. It could be quickly&lt;br/&gt;
fixed by changing the reload() method in AbstractFileConfiguration, it may look&lt;br/&gt;
like this :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void reload()
    {
        &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (reloadLock)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (noReload == 0 &amp;amp;&amp;amp; strategy.reloadingRequired())
            {
                &lt;span class=&quot;code-comment&quot;&gt;// save the properties
&lt;/span&gt;                Map previousProperties = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LinkedMap(store);

                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
                {
                    clear();
                    load();

                    &lt;span class=&quot;code-comment&quot;&gt;// notify the strategy
&lt;/span&gt;                    strategy.reloadingPerformed();
                }
                &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e)
                {
                    e.printStackTrace();

                    &lt;span class=&quot;code-comment&quot;&gt;// rollback the changes
&lt;/span&gt;                    store = previousProperties;
                }
            }
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m not sure it&apos;s the best way to rollback the changes though, copying the&lt;br/&gt;
properties seems expensive. Any idea ? Should we add a safeReload flag to&lt;br/&gt;
enable/disable this feature ?&lt;/p&gt;</comment>
                            <comment id="12488813" author="ebourg" created="Fri, 13 Apr 2007 23:10:16 +0000"  >&lt;p&gt;The copy of the store can be avoided by keeping a reference to the previous store and creating a new empty store before loading the file :&lt;/p&gt;

&lt;p&gt;Map previousStore = store;&lt;br/&gt;
store = new LinkedMap();&lt;/p&gt;

&lt;p&gt;However this will only work for the &quot;flat&quot; configurations like PropertiesConfiguration and INIConfiguration, the hierarchical configurations like XMLConfiguration don&apos;t use the Map in BaseConfiguration to store the properties.&lt;/p&gt;</comment>
                            <comment id="13218027" author="l.michelet" created="Tue, 28 Feb 2012 09:40:56 +0000"  >&lt;p&gt;THe problem here is that filesystem is not transactional. When an exception is raised, there is no rollback on the file which is written.&lt;/p&gt;

&lt;p&gt;A proposal of correction is to save in memory the file before any modifications. When an exception is raised we replace the current file with the original one.&lt;/p&gt;

&lt;p&gt;The 2 following patches has been tested successfully with XMLConfiguration file.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;AbstractFileConfiguration.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
	/**
	 * Save the configuration to the specified URL. This doesn&apos;t change the
	 * source of the configuration, use setURL() &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; you need it.
	 * 
	 * @param url
	 *            the URL
	 * 
	 * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ConfigurationException
	 *             &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; an error occurs during the save operation
	 */
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void save(URL url) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ConfigurationException {
		OutputStream out = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		ByteArrayInputStream originalFile = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; File file = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(url.getFile());
			&lt;span class=&quot;code-comment&quot;&gt;// Save original file &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; existing
&lt;/span&gt;			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (file.exists()) {
				InputStream inputStreamOfOrignalFile = fileSystem
						.getInputStream(url);
				originalFile = saveOriginalFile(inputStreamOfOrignalFile);
			}
			out = fileSystem.getOutputStream(url);
			save(out);
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (out &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; VerifiableOutputStream) {
				((VerifiableOutputStream) out).verify();
			}
		} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
			&lt;span class=&quot;code-comment&quot;&gt;// Rollback &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; IOException &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; existing
&lt;/span&gt;			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (originalFile != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
				reloadOriginalFile(url, originalFile, out);
			}
			&lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ConfigurationException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Could not save to URL &quot;&lt;/span&gt; + url, e);
		} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
			&lt;span class=&quot;code-comment&quot;&gt;// Rollback when any kind of Exception is raised &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; existing
&lt;/span&gt;			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (originalFile != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
				reloadOriginalFile(url, originalFile, out);
			}
			&lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ConfigurationException(e);
		} &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
			closeSilent(out);
		}
	}

	/**
	 * Save the original file before any modifications
	 * 
	 * @param in
	 * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;
	 * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
	 * @since 1.9
	 */
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; ByteArrayInputStream saveOriginalFile(
			InputStream inputStreamOfOrignalFile) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
		ByteArrayOutputStream baos = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
		&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] buffer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[1024];
		&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; len;
		&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ((len = inputStreamOfOrignalFile.read(buffer)) &amp;gt; -1) {
			baos.write(buffer, 0, len);
		}
		baos.flush();
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(baos.toByteArray());
	}

	/**
	 * Replace the current file with the original one before any modifications
	 * 
	 * @param url
	 * @param originalFile
	 * @param outOfCurrentFile
	 * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ConfigurationException
	 * @since 1.9
	 */
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void reloadOriginalFile(URL url, ByteArrayInputStream originalFile,
			OutputStream outOfCurrentFile) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ConfigurationException {
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (outOfCurrentFile != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; originalFile != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
			&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
				&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; nextChar;
				&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ((nextChar = originalFile.read()) != -1)
					outOfCurrentFile.write((&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;) nextChar);
				outOfCurrentFile.write(&lt;span class=&quot;code-quote&quot;&gt;&apos;\n&apos;&lt;/span&gt;);
				outOfCurrentFile.flush();
			} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ioe) {
				&lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ConfigurationException(
						&lt;span class=&quot;code-quote&quot;&gt;&quot;Could not save to URL &quot;&lt;/span&gt; + url, ioe);
			}
		}
	}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13218045" author="l.michelet" created="Tue, 28 Feb 2012 10:25:47 +0000"  >&lt;p&gt;Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-136&quot; title=&quot;Reloading may corrupt the configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-136&quot;&gt;&lt;del&gt;CONFIGURATION-136&lt;/del&gt;&lt;/a&gt; based on a 1.5 release&lt;/p&gt;</comment>
                            <comment id="13218049" author="l.michelet" created="Tue, 28 Feb 2012 10:29:29 +0000"  >&lt;p&gt;Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-136&quot; title=&quot;Reloading may corrupt the configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-136&quot;&gt;&lt;del&gt;CONFIGURATION-136&lt;/del&gt;&lt;/a&gt; based on a 1.8 release&lt;/p&gt;</comment>
                            <comment id="13220339" author="oliver.heger@t-online.de" created="Thu, 1 Mar 2012 20:40:39 +0000"  >&lt;p&gt;Thanks for your contribution, but we need a patch of the source code (that&apos;s why it&apos;s called Open Source &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Then we can incorporate it in our code base for the next release. Your IDE should be able to generate the patch, otherwise you can use &lt;tt&gt;svn diff&lt;/tt&gt; on the command line. More information can be found at &lt;a href=&quot;http://commons.apache.org/patches.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://commons.apache.org/patches.html&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13223403" author="l.michelet" created="Tue, 6 Mar 2012 16:44:54 +0000"  >&lt;p&gt;Maybe it&apos;s because I get used to work with proprietary source code &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13227903" author="oliver.heger@t-online.de" created="Mon, 12 Mar 2012 21:09:38 +0000"  >&lt;p&gt;I had a look at the patch, but I am not sure whether I fully understand what you intend. I expected something similar to what Emmanuel had suggested in his comments, i.e. a modification of the &lt;tt&gt;reload()&lt;/tt&gt; method to temporarily store the configuration&apos;s content before it is loaded again from disk.&lt;/p&gt;

&lt;p&gt;But you modified the &lt;tt&gt;save()&lt;/tt&gt; method. It looks like that you try to restore the original content of the configuration if an error occurs during saving. This does not solve the problem this ticket is about.&lt;/p&gt;

&lt;p&gt;Also, are you sure that your solution is robust? I mean, if you get an error on saving (maybe because the disk is full or not readable), how likely is it that the rollback operation succeeds?&lt;/p&gt;</comment>
                            <comment id="14132892" author="oliver.heger@t-online.de" created="Sat, 13 Sep 2014 19:16:41 +0000"  >&lt;p&gt;This has been solved by the rework of the reloading mechanism which is now handled by configuration builders.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12625614">CONFIGURATION-520</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12516307" name="commons-configuration-1.5_patch_CONFIGURATION-136.jar" size="279388" author="l.michelet" created="Tue, 28 Feb 2012 10:25:47 +0000"/>
                            <attachment id="12516308" name="commons-configuration-1.8_patch_CONFIGURATION-136.jar" size="329351" author="l.michelet" created="Tue, 28 Feb 2012 10:29:29 +0000"/>
                            <attachment id="12517254" name="patch.txt" size="3100" author="l.michelet" created="Tue, 6 Mar 2012 16:44:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36652</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Sep 2005 19:02:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16z33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248819</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-135] [configuration] Invalid resource names in XMLConfiguration generate a NPE</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-135</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;XMLConfiguration throws a NullPointerException if an invalid resource name is&lt;br/&gt;
passed to its constructor, it should throw a ConfigurationException explaining&lt;br/&gt;
the issue instead.&lt;/p&gt;

&lt;p&gt;Fix suggested by Ben Hutchison:&lt;/p&gt;

&lt;p&gt;private static File resourceURLToFile(String resource) {&lt;br/&gt;
        URL confURL = XMLConfiguration.class.getClassLoader().getResource(resource);&lt;br/&gt;
        if (confURL == null) &lt;/p&gt;
{
            confURL = ClassLoader.getSystemResource(resource);
        }
&lt;p&gt;        if (confURL == null)&lt;br/&gt;
        	throw new IllegalArgumentException(&quot;Resource:&quot;&lt;ins&gt;resource&lt;/ins&gt;&quot; not found&lt;br/&gt;
thru context or system classloaders.&quot;);&lt;br/&gt;
        return new File(confURL.getFile());&lt;br/&gt;
    }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341690">CONFIGURATION-135</key>
            <summary>[configuration] Invalid resource names in XMLConfiguration generate a NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Sep 2004 21:47:25 +0000</created>
                <updated>Tue, 16 May 2006 12:21:10 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:21:10 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407449" author="dep4b" created="Mon, 6 Sep 2004 20:26:26 +0000"  >&lt;p&gt;Looks like this bug was fixed by ebourg in version 1.12 of XMLConfiguration. &lt;br/&gt;
Now closing.&lt;/p&gt;</comment>
                            <comment id="12407450" author="ebourg" created="Mon, 6 Sep 2004 20:30:58 +0000"  >&lt;p&gt;Not yet, the IllegalArgumentException has to be replaced with a&lt;br/&gt;
ConfigurationException.&lt;/p&gt;</comment>
                            <comment id="12407451" author="dep4b" created="Fri, 10 Sep 2004 20:52:11 +0000"  >&lt;p&gt;I was thinking of changing this from:&lt;br/&gt;
throw new IllegalArgumentException(&quot;Resource: &quot;&lt;br/&gt;
                    + resource + &quot; not found through context or &quot;&lt;br/&gt;
                    + &quot;system classloaders.&quot;);&lt;/p&gt;

&lt;p&gt;to&lt;br/&gt;
throw new ConfigurationRuntimeException(new IllegalArgumentException(&quot;Resource: &quot;&lt;br/&gt;
                    + resource + &quot; not found through context or &quot;&lt;br/&gt;
                    + &quot;system classloaders.&quot;));&lt;/p&gt;

&lt;p&gt;I actually don&apos;t really have a problem w/ tossing an IllegalArgumentException&lt;br/&gt;
since we have them everywhere, and they are a runtime exceptions....&lt;/p&gt;

</comment>
                            <comment id="12407452" author="ebourg" created="Fri, 10 Sep 2004 22:43:31 +0000"  >&lt;p&gt;The load() method should throw a ConfigurationException, not a&lt;br/&gt;
ConfigurationRuntimeException. This will be fixed with my upcoming refactoring&lt;br/&gt;
anyway.&lt;/p&gt;</comment>
                            <comment id="12407453" author="ebourg" created="Thu, 23 Sep 2004 00:32:04 +0000"  >&lt;p&gt;Fixed, any error occuring on loading a configuration is now wrapped in a&lt;br/&gt;
ConfigurationException.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Sep 2004 20:26:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-134] [configuration] SubsetConfiguration.clear() throws a ConcurrentModificationException</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-134</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The default implementation of the clear() method in AbstractConfiguration&lt;br/&gt;
doesn&apos;t work for a SubsetConfiguration applied to a BaseConfiguration. The&lt;br/&gt;
TransformIterator created by the getKeys() in SubsetConfiguration doesn&apos;t like&lt;br/&gt;
the concurrent modification of the underlying collection in the clear() method.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342101">CONFIGURATION-134</key>
            <summary>[configuration] SubsetConfiguration.clear() throws a ConcurrentModificationException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Mar 2005 19:53:09 +0000</created>
                <updated>Tue, 16 May 2006 12:15:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:15:51 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408850" author="ebourg" created="Wed, 9 Mar 2005 21:51:39 +0000"  >&lt;p&gt;Fixed, clear() in AbstractConfiguration now first tries to use the remove method&lt;br/&gt;
of the Iterator to avoid the ConcurrentModificationException.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33925</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-133] [configuration][patch] Replace AbstractConfiguration.testBoolean with BooleanUtils.toBooleanObject</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-133</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The method AbstractConfiguration.testBoolean already exists in commons-lang as&lt;br/&gt;
BooleanUtils.toBooleanObject, we should try to reuse this one instead. I&apos;m&lt;br/&gt;
attaching a patch correcting this.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341201">CONFIGURATION-133</key>
            <summary>[configuration][patch] Replace AbstractConfiguration.testBoolean with BooleanUtils.toBooleanObject</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jan 2004 00:48:11 +0000</created>
                <updated>Tue, 16 May 2006 12:30:20 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:30:20 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12405800" author="ebourg" created="Tue, 13 Jan 2004 00:53:56 +0000"  >&lt;p&gt;Created an attachment (id=9910)&lt;br/&gt;
Patch replacing testBoolean with toBooleanObject&lt;/p&gt;</comment>
                            <comment id="12405801" author="ebourg" created="Tue, 13 Jan 2004 00:54:54 +0000"  >&lt;p&gt;The patch also removes some useless cast.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332694" name="ASF.LICENSE.NOT.GRANTED--boolean.patch" size="4272" author="ebourg" created="Tue, 13 Jan 2004 00:53:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26064</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110705</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169925</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-132] [configuration] HierarchicalConfigurationXMLReader stores comments as text nodes</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-132</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I am seeing behavior in the HierarchicalConfigurationXMLReader class (v 1.5 &lt;br/&gt;
2004/07/05 09:54:17) where XML Comments are inappropriately stored as text &lt;br/&gt;
nodes.   &lt;/p&gt;

&lt;p&gt;When using ConfigurationXMLDocument (ConfigurationXMLDocument.java,v 1.6 &lt;br/&gt;
2004/06/24 14:01:03) to write the configuration back out to a file, the &lt;br/&gt;
original XML comments are written out as concatenated text nodes. &lt;/p&gt;

&lt;p&gt;Here are the steps for recreation:&lt;/p&gt;

&lt;p&gt;1) Read in this configuration using the hierarchicalXml designator:&lt;/p&gt;

&lt;p&gt;&amp;lt;config&amp;gt;&lt;br/&gt;
    &amp;lt;!-- Settings for the Wizard, now externalized via Perl. --&amp;gt;&lt;br/&gt;
    &amp;lt;Wizard&amp;gt;&lt;br/&gt;
        &amp;lt;!-- Location of perl binary. --&amp;gt;&lt;br/&gt;
        &amp;lt;PerlPath&amp;gt;C:/cygwin/bin/perl&amp;lt;/PerlPath&amp;gt;&lt;/p&gt;

&lt;p&gt;        &amp;lt;!-- Perl script and arguments for the wizard. --&amp;gt;&lt;br/&gt;
        &amp;lt;WizardScript&amp;gt;C:/foo/wizard.pl&amp;lt;/WizardScript&amp;gt;&lt;br/&gt;
    &amp;lt;/Wizard&amp;gt;&lt;br/&gt;
&amp;lt;/config&amp;gt;&lt;/p&gt;

&lt;p&gt;2) Pass the HierarchicalXMLConfiguration instance to ConfigurationXMLDocument &lt;br/&gt;
to write() to a file:&lt;/p&gt;

&lt;p&gt;ConfigurationXMLDocument configDoc = new ConfigurationXMLDocument(config);&lt;br/&gt;
Writer out = new BufferedWriter(new FileWriter(outputFile));&lt;br/&gt;
configDoc.write(out);&lt;/p&gt;

&lt;p&gt;3) The resulting XML (written out by Dom4J) demonstrates that all comments were &lt;br/&gt;
read in and concatenated into text nodes:&lt;/p&gt;

&lt;p&gt;&amp;lt;config&amp;gt;Settings for the Wizard, now externalized via Perl.  &lt;br/&gt;
  &amp;lt;Wizard&amp;gt;Location of perl binary. Perl script and arguments for the wizard.&lt;br/&gt;
    &amp;lt;PerlPath&amp;gt;C:/cygwin/bin/perl&amp;lt;/PerlPath&amp;gt;&lt;br/&gt;
    &amp;lt;WizardScript&amp;gt;C:/foo/wizard.pl&amp;lt;/WizardScript&amp;gt;&lt;br/&gt;
  &amp;lt;/Wizard&amp;gt;&lt;br/&gt;
&amp;lt;/config&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341629">CONFIGURATION-132</key>
            <summary>[configuration] HierarchicalConfigurationXMLReader stores comments as text nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="woodman@iswsolutions.com">woodman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Aug 2004 21:58:40 +0000</created>
                <updated>Tue, 16 May 2006 12:22:32 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:22:32 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407201" author="dep4b" created="Thu, 12 Aug 2004 22:52:29 +0000"  >&lt;p&gt;Hi, can you supply this bug as a testcase?  That way we have something concrete&lt;br/&gt;
to verify the fix against.  Look at the other examples in /src/test..  in fact,&lt;br/&gt;
if you can add it to TestHierarchialXmlConfiguration that would be great.&lt;/p&gt;</comment>
                            <comment id="12407202" author="oliver.heger@t-online.de" created="Sat, 14 Aug 2004 01:50:17 +0000"  >&lt;p&gt;The problem seems to be in HierarchicalXMLConfiguration which also stores&lt;br/&gt;
comments as configuration keys. In the constructHierarchy() method there is the&lt;br/&gt;
statement&lt;/p&gt;

&lt;p&gt;    else if (w3cNode instanceof CharacterData)&lt;/p&gt;

&lt;p&gt;IMO it should be sufficient to change this into&lt;/p&gt;

&lt;p&gt;    else if (w3cNode instanceof Text)&lt;/p&gt;

&lt;p&gt;(because Comment is a subinterface of CharacterData, too).&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</comment>
                            <comment id="12407203" author="woodman@iswsolutions.com" created="Sat, 14 Aug 2004 02:30:45 +0000"  >&lt;p&gt;I tested Oliver&apos;s suggestion, and that did the trick.   &lt;/p&gt;

&lt;p&gt;&amp;lt;newbie_alert&amp;gt;&lt;br/&gt;
Eric, do you still want a test case?  Will one of you be making the fix?  &lt;br/&gt;
(Sorry, I&apos;m new to the Apache world, so I&apos;m not sure where the responsibility &lt;br/&gt;
lies for these things.)&lt;br/&gt;
&amp;lt;/newbie_alert&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12407204" author="dep4b" created="Sat, 14 Aug 2004 07:14:09 +0000"  >&lt;p&gt;I would love a unit test!   they are the only sure way of preventing any&lt;br/&gt;
regression in the code.&lt;/p&gt;</comment>
                            <comment id="12407205" author="dep4b" created="Sat, 14 Aug 2004 18:10:42 +0000"  >&lt;p&gt;I have applied the fix.  I am going to go ahead and close this bug as I want to&lt;br/&gt;
get as many bugs closed for the RC1 as possible.  However, don&apos;t let me disuade&lt;br/&gt;
you from adding a unit test!  You may want to at that time add your getXML or&lt;br/&gt;
toXML method to help with testing.&lt;/p&gt;

&lt;p&gt;Go ahead and either reopen this bug or submit a fresh bug.  &lt;/p&gt;

&lt;p&gt;Oh, and I view (in good XP fashion) as everythign being a shared responbility. &lt;br/&gt;
It isn&apos;t just my responbility or yours to supply a testcase, but instead a&lt;br/&gt;
shared responsibility!  My only responsibility as a committer is to do my best&lt;br/&gt;
to encourage people to contribute and ensure that contributions are in good&lt;br/&gt;
shape and enhance the codebase!  Glad to have your participation.&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;</comment>
                            <comment id="12407206" author="woodman@iswsolutions.com" created="Tue, 17 Aug 2004 00:12:41 +0000"  >&lt;p&gt;Created an attachment (id=12445)&lt;br/&gt;
Test case additions to verify XML node types correctly interpreted.&lt;/p&gt;</comment>
                            <comment id="12407207" author="woodman@iswsolutions.com" created="Tue, 17 Aug 2004 00:14:49 +0000"  >&lt;p&gt;Created an attachment (id=12446)&lt;br/&gt;
New XML file to go in jakarta-commons\configuration\conf for patch&lt;/p&gt;</comment>
                            <comment id="12407208" author="woodman@iswsolutions.com" created="Tue, 17 Aug 2004 00:16:33 +0000"  >&lt;p&gt;Re-opening for consideration of diff patch (attachment 12445) and the XML test &lt;br/&gt;
document it uses (12446).&lt;/p&gt;</comment>
                            <comment id="12407209" author="dep4b" created="Mon, 6 Sep 2004 20:17:59 +0000"  >&lt;p&gt;Mark,&lt;br/&gt;
I have applied the patches.  One other quibbling detail.  When you do a patch,&lt;br/&gt;
include new files as well.  I had to guess at the xml files name (from looking&lt;br/&gt;
at the testcase) and create the xml from scratch.  Most ide&apos;s I think have an&lt;br/&gt;
option for &quot;include new files&quot;.  Thanks for the pretty unit tests!  Bumps our&lt;br/&gt;
unit test coverage from 87 to 88 percent!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333039" name="ASF.LICENSE.NOT.GRANTED--TestHXmlConfig_patch.txt" size="3691" author="woodman@iswsolutions.com" created="Tue, 17 Aug 2004 00:12:41 +0000"/>
                            <attachment id="12333040" name="ASF.LICENSE.NOT.GRANTED--testHierarchicalXMLConfiguration2.xml" size="753" author="woodman@iswsolutions.com" created="Tue, 17 Aug 2004 00:14:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Aug 2004 22:52:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-131] [configuration] Configuration xml file does not accept path in from of prop. file name.</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-131</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The configuration xml file does not accept directory names (path) in front of &lt;br/&gt;
the properti file.  This is unnatural because we want to put the configuration &lt;br/&gt;
file in a directory other than the default.  Also, this error also seems to &lt;br/&gt;
propage if we put the configuration file as resource (in the jar).  This &lt;br/&gt;
should be fixed and JUnit tested.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342076">CONFIGURATION-131</key>
            <summary>[configuration] Configuration xml file does not accept path in from of prop. file name.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cp1965@rogers.com">Colbert Philippe</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Feb 2005 13:56:16 +0000</created>
                <updated>Tue, 16 May 2006 12:16:08 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:16:08 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408779" author="oliver.heger@t-online.de" created="Thu, 24 Feb 2005 15:52:32 +0000"  >&lt;p&gt;Could you please provide an example configuration file and a code snippet to&lt;br/&gt;
demonstrate this bug?&lt;/p&gt;

&lt;p&gt;I am just a bit wondering what is going on because we have a couple of test&lt;br/&gt;
cases which load configuration files from different sources. Which version of&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;configuration&amp;#93;&lt;/span&gt; do you use? The latest from svn?&lt;/p&gt;</comment>
                            <comment id="12408780" author="oliver.heger@t-online.de" created="Tue, 1 Mar 2005 19:09:38 +0000"  >&lt;p&gt;I have added an additional unit test that uses an absolute path in the&lt;br/&gt;
configuration definition file. It passes. For loading configuration sources from&lt;br/&gt;
resources there are already existing tests.&lt;/p&gt;

&lt;p&gt;So I am closing this bug. If you have a test case that does not work, feel free&lt;br/&gt;
to reopen.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 Feb 2005 15:52:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110703</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-130] [configuration] FileConfiguration - Save problem when embedded spaces are in the path</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-130</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Actual path to file:&lt;br/&gt;
C:/Documents and Settings/chrisw/IdeaProjects/sptech-as400-&lt;br/&gt;
cmretention/classes/com/sptech/CMRetention/configuration.xml&lt;/p&gt;

&lt;p&gt;The configuration file is read correctly without a problem.&lt;/p&gt;

&lt;p&gt;The save operation creates the following directory structure and file:&lt;br/&gt;
C:/Documents%20and%20Settings/chrisw/IdeaProjects/sptech-as400-&lt;br/&gt;
cmretention/classes/com/sptech/CMRetention/configuration.xml&lt;/p&gt;

&lt;p&gt;Here is the code that I was using:&lt;/p&gt;

&lt;p&gt;        try &lt;/p&gt;
{
            URL f = getClass().getResource(&quot;cmretention.xml&quot;);
            XMLConfiguration xml = new XMLConfiguration(f);
            System.out.println(xml.getString(&quot;login.user&quot;));
            xml.setAutoSave(true);
            xml.setProperty(&quot;login.server&quot;,server);
            xml.setProperty(&quot;login.user&quot;, user);
            xml.setProperty(&quot;login.password&quot;, password);
            xml.setProperty(&quot;paths.library&quot;, library);
            xml.save();
        }
&lt;p&gt; catch (ConfigurationException e) &lt;/p&gt;
{
            e.printStackTrace();  //To change body of catch statement use File 
| Settings | File Templates.
        }</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342287">CONFIGURATION-130</key>
            <summary>[configuration] FileConfiguration - Save problem when embedded spaces are in the path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chrisw@sptech.com">Chris Winterscheid</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Jun 2005 02:40:47 +0000</created>
                <updated>Tue, 16 May 2006 12:13:13 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:13:13 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409496" author="oliver.heger@t-online.de" created="Sun, 5 Jun 2005 00:33:27 +0000"  >&lt;p&gt;The problem not only occurs with XMLConfiguration, but with all file based&lt;br/&gt;
configurations. Cause is the method fileFromURL() in ConfigurationUtils, which&lt;br/&gt;
uses url.getPath() to transform a URL into a File object. Obviously this method&lt;br/&gt;
performs no decoding if the URL is application/x-www-form-urlencoded.&lt;/p&gt;</comment>
                            <comment id="12409497" author="oliver.heger@t-online.de" created="Sun, 5 Jun 2005 00:56:33 +0000"  >&lt;p&gt;Fixed in SVN by adding a URLDecoder.decode() call to&lt;br/&gt;
ConfigurationUtils.fileFromURL().&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35210</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 5 Jun 2005 00:33:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33875</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-129] [configuration] Comma separation in Strings</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-129</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;In germany floating piont numbers are divided by a comma: 12,44 in germany would&lt;br/&gt;
be 12.44 in english.&lt;br/&gt;
So when I want to insert a floating point number into a XMLConfiguration like this:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;code&amp;#93;&lt;/span&gt;&lt;br/&gt;
        xml.addProperty(&quot;tables.table.fields.field(-1).name&quot;, &quot;Preis&quot;);&lt;br/&gt;
        xml.addProperty(&quot;tables.table.fields.field.type&quot;, &quot;single&quot;);&lt;br/&gt;
        xml.addProperty(&quot;tables.table.fields.field.value&quot;, &quot;11,99&quot;);&lt;/p&gt;

&lt;p&gt;        try&lt;/p&gt;
{ xml.save(); }
&lt;p&gt;        catch(ConfigurationException x1){}&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/code&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;it leads to this:&lt;/p&gt;

&lt;p&gt;        &amp;lt;name&amp;gt;Preis&amp;lt;/name&amp;gt;&lt;br/&gt;
        &amp;lt;type&amp;gt;single&amp;lt;/type&amp;gt;&lt;br/&gt;
        &amp;lt;value&amp;gt;11&amp;lt;/value&amp;gt;&lt;br/&gt;
        &amp;lt;value&amp;gt;99&amp;lt;/value&amp;gt;&lt;/p&gt;

&lt;p&gt;The (german) number 12,99 is split into two &amp;lt;value&amp;gt;-sections and not put into&lt;br/&gt;
one (&amp;lt;value&amp;gt;12,99&amp;lt;/value&amp;gt;).&lt;br/&gt;
This also happens if you want to put for example a name and surname into one&lt;br/&gt;
String, divided by a comma the same problem occurs.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342366">CONFIGURATION-129</key>
            <summary>[configuration] Comma separation in Strings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jplanz@c-lab.de">Jakob</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jul 2005 22:43:56 +0000</created>
                <updated>Tue, 16 May 2006 12:11:50 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:11:50 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409768" author="oliver.heger@t-online.de" created="Wed, 13 Jul 2005 14:54:41 +0000"  >&lt;p&gt;You can try one of the following:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;There is a static setDelimiter() method in AbstractConfiguration that allows&lt;br/&gt;
you to change the (globally used) delimiter used for String splitting. For&lt;br/&gt;
instance you can set this to 0 and disable splitting at all.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;When adding a property you can escape the split character with a backslash. So&lt;br/&gt;
you can write&lt;br/&gt;
  config.addProperty(&quot;property.name&quot;, &quot;11&lt;br class=&quot;atl-forced-newline&quot; /&gt;,99&quot;);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;HTH&lt;/p&gt;</comment>
                            <comment id="12409769" author="jplanz@c-lab.de" created="Wed, 13 Jul 2005 15:06:52 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;That seems to solve the problem!&lt;/p&gt;

&lt;p&gt;I guess I should take a closer look before reporting a bug next time...!&lt;/p&gt;

&lt;p&gt;JSP&lt;/p&gt;</comment>
                            <comment id="12409770" author="oliver.heger@t-online.de" created="Wed, 13 Jul 2005 15:20:02 +0000"  >&lt;p&gt;No need to excuse, I guess the documentation could be better in this area.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Jul 2005 14:54:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110702</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upa7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-128] [configuration] Patch to add validation of xml configuration file</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-128</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Validtion of xml file configuration is a lack in commons-configuration.&lt;br/&gt;
Imagine the nightmare of a not well-form document where you&apos;re searching about&lt;br/&gt;
properties.&lt;br/&gt;
So I write this &apos;five-minutes&apos; patch to match it!&lt;/p&gt;

&lt;p&gt;Patch:&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------&lt;br/&gt;
41a42&lt;br/&gt;
&amp;gt; import org.apache.commons.configuration.reloading.ReloadingStrategy;&lt;br/&gt;
51c52,54&lt;br/&gt;
&amp;lt; import org.apache.commons.configuration.reloading.ReloadingStrategy;&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt; import org.xml.sax.SAXException;&lt;br/&gt;
&amp;gt; import org.xml.sax.SAXParseException;&lt;br/&gt;
&amp;gt; import org.xml.sax.helpers.DefaultHandler;&lt;br/&gt;
83a87,89&lt;br/&gt;
&amp;gt;     /**   Indicates if the xml file has to validated  */&lt;br/&gt;
&amp;gt;     private boolean validating;&lt;br/&gt;
&amp;gt;     &lt;br/&gt;
100a107,120&lt;br/&gt;
&amp;gt;         this(fileName, false);&lt;br/&gt;
&amp;gt;     }&lt;br/&gt;
&amp;gt;     &lt;br/&gt;
&amp;gt;     &lt;br/&gt;
&amp;gt;     /**&lt;br/&gt;
&amp;gt;      * Creates a new instance of &amp;lt;code&amp;gt;XMLConfiguration&amp;lt;/code&amp;gt;.&lt;br/&gt;
&amp;gt;      * The configuration is loaded from the specified file&lt;br/&gt;
&amp;gt;      * Indicates if validation required.&lt;br/&gt;
&amp;gt;      * @param fileName the name of the file to load&lt;br/&gt;
&amp;gt;      * @param validating if xml has to validated&lt;br/&gt;
&amp;gt;      * @throws ConfigurationException if the file cannot be loaded&lt;br/&gt;
&amp;gt;      */&lt;br/&gt;
&amp;gt;     public XMLConfiguration(String fileName, boolean validating) throws&lt;br/&gt;
ConfigurationException&lt;br/&gt;
&amp;gt;     &lt;/p&gt;
{
102a123
&amp;gt;         setValidating(validating);
105a127,128
&amp;gt;     
&amp;gt; 
114a138,153
&amp;gt;         this(file, false);
&amp;gt;         
&amp;gt;     }
&lt;p&gt;&amp;gt;     &lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt;     /**&lt;br/&gt;
&amp;gt;      * Creates a new instance of &amp;lt;code&amp;gt;XMLConfiguration&amp;lt;/code&amp;gt;.&lt;br/&gt;
&amp;gt;      * The configuration is loaded from the specified file.&lt;br/&gt;
&amp;gt;      * Indicates if validation required.&lt;br/&gt;
&amp;gt;      * &lt;br/&gt;
&amp;gt;      * @param file the file&lt;br/&gt;
&amp;gt;      * @param validating if xml has to validated&lt;br/&gt;
&amp;gt;      * @throws ConfigurationException if an error occurs while loading the file&lt;br/&gt;
&amp;gt;      */&lt;br/&gt;
&amp;gt;     public XMLConfiguration(File file, boolean validating) throws&lt;br/&gt;
ConfigurationException&lt;br/&gt;
&amp;gt;     &lt;/p&gt;
{
116a156,157
&amp;gt;         setValidating(validating);
&amp;gt;         
122a164,165
&amp;gt;     
&amp;gt; 
131a175,191
&amp;gt;         this(url, false);
&amp;gt;     }
&lt;p&gt;&amp;gt;     &lt;br/&gt;
&amp;gt;     &lt;br/&gt;
&amp;gt;     &lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt;     /**&lt;br/&gt;
&amp;gt;      * Creates a new instance of &amp;lt;code&amp;gt;XMLConfiguration&amp;lt;/code&amp;gt;.&lt;br/&gt;
&amp;gt;      * The configuration is loaded from the specified URL.&lt;br/&gt;
&amp;gt;      * Indicates if validation required.&lt;br/&gt;
&amp;gt;      * &lt;br/&gt;
&amp;gt;      * @param url the URL&lt;br/&gt;
&amp;gt;      * @param validating if xml has to validated&lt;br/&gt;
&amp;gt;      * @throws ConfigurationException if loading causes an error&lt;br/&gt;
&amp;gt;      */&lt;br/&gt;
&amp;gt;     public XMLConfiguration(URL url, boolean validating) throws&lt;br/&gt;
ConfigurationException&lt;br/&gt;
&amp;gt;     &lt;/p&gt;
{
133a194
&amp;gt;         setValidating(validating);
136a198
&amp;gt; 
384c446
&amp;lt;      * @throws ConfigurationException
---
&amp;gt;      * @throws  An InputStream.
387a450,465
&amp;gt;         load (in , validating);
&amp;gt;     }
&lt;p&gt;&amp;gt; &lt;br/&gt;
&amp;gt;     /**&lt;br/&gt;
&amp;gt;      * Load the properties from the given reader.&lt;br/&gt;
&amp;gt;      * Note that the &amp;lt;code&amp;gt;clear()&amp;lt;/code&amp;gt; method is not called, so&lt;br/&gt;
&amp;gt;      * the properties contained in the loaded file will be added to the&lt;br/&gt;
&amp;gt;      * actual set of properties.Can validate the xml file passes as reader.&lt;br/&gt;
&amp;gt;      * &lt;br/&gt;
&amp;gt;      * @param in  An InputStream.&lt;br/&gt;
&amp;gt;      * @param validating indicates if to valditate.&lt;br/&gt;
&amp;gt;      * @throws ConfigurationException&lt;br/&gt;
&amp;gt;      */&lt;br/&gt;
&amp;gt;     public void load(Reader in, boolean validating) throws&lt;br/&gt;
ConfigurationException {&lt;br/&gt;
&amp;gt;         &lt;br/&gt;
&amp;gt;         &lt;br/&gt;
390c468,478&lt;br/&gt;
&amp;lt;             DocumentBuilder builder =&lt;br/&gt;
DocumentBuilderFactory.newInstance().newDocumentBuilder();&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;             DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();&lt;br/&gt;
&amp;gt;             factory.setValidating(validating);&lt;br/&gt;
&amp;gt;             &lt;br/&gt;
&amp;gt;             &lt;br/&gt;
&amp;gt;             DocumentBuilder builder = factory.newDocumentBuilder();&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt;             if (isValidating()) &lt;/p&gt;
{
&amp;gt;                 builder.setErrorHandler(new XmlConfigurationDefaultHandler());
&amp;gt;             }
&lt;p&gt;&amp;gt;             &lt;br/&gt;
&amp;gt;             &lt;br/&gt;
400a489,490&lt;br/&gt;
&amp;gt;         &lt;br/&gt;
&amp;gt;         &lt;br/&gt;
530a621,629&lt;br/&gt;
&amp;gt;     public boolean isValidating() &lt;/p&gt;
{
&amp;gt;         return validating;
&amp;gt;     }
&lt;p&gt;&amp;gt;     &lt;br/&gt;
&amp;gt;     public void setValidating(boolean validating) &lt;/p&gt;
{
&amp;gt;         this.validating = validating;
&amp;gt;     }
&lt;p&gt;&amp;gt;     &lt;br/&gt;
&amp;gt; &lt;br/&gt;
843a943,956&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt;     &lt;br/&gt;
&amp;gt;     private class XmlConfigurationDefaultHandler extends DefaultHandler {&lt;br/&gt;
&amp;gt;         &lt;br/&gt;
&amp;gt;         &lt;br/&gt;
&amp;gt;         public void error(SAXParseException e) throws SAXException &lt;/p&gt;
{
&amp;gt;             // TODO Auto-generated method stub
&amp;gt;             throw new SAXException (new ConfigurationException (&quot;Parsing error
in configuration file : &quot;+e.getMessage() ));
&amp;gt;         }
&lt;p&gt;&amp;gt;         public void fatalError(SAXParseException e) throws SAXException &lt;/p&gt;
{
&amp;gt;             // TODO Auto-generated method stub
&amp;gt;             throw new SAXException (new ConfigurationException (&quot;Parsing error
in configuration file : &quot;+e.getMessage()));
&amp;gt;         }
&lt;p&gt;&amp;gt; }&lt;br/&gt;
-------------------------------------------------------------&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342461">CONFIGURATION-128</key>
            <summary>[configuration] Patch to add validation of xml configuration file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ivan.matmati@gmail.com">ivan matmati</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Aug 2005 19:43:57 +0000</created>
                <updated>Tue, 16 May 2006 12:10:36 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:10:36 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410082" author="oliver.heger@t-online.de" created="Fri, 12 Aug 2005 20:32:08 +0000"  >&lt;p&gt;Thanks for your efford.&lt;/p&gt;

&lt;p&gt;However I recently (last week or so) added validation support to&lt;br/&gt;
XMLConfiguration. Please check out the newest version in SVN and tell us whether&lt;br/&gt;
this fits your needs.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12410083" author="oliver.heger@t-online.de" created="Mon, 26 Sep 2005 03:09:42 +0000"  >&lt;p&gt;Got no feedback, so closing this now. XML validation support has been added. I&lt;br/&gt;
also plan to update the &quot;XML howto&quot; in this respect.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36161</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Aug 2005 20:32:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170161</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-127] [configuration] Lists in a CompositeConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-127</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Not sure whether this is a bug, but at least it&apos;s an issue where the&lt;br/&gt;
documentation differs from the actul behavior:&lt;/p&gt;

&lt;p&gt;The CompositeConfiguration javadoc states:&lt;br/&gt;
&quot;If you add Configuration1, and then Configuration2, any properties shared will&lt;br/&gt;
mean that Configuration1 will be returned.... If Configuration1 doesn&apos;t have the&lt;br/&gt;
property, then Configuration2 will be checked.&quot;&lt;/p&gt;

&lt;p&gt;So this would mean, if a use getList or getStringArray I only get the list&lt;br/&gt;
elements from conf1 but not those from conf2, if the requested property is&lt;br/&gt;
contained in both. In reality, however, I get a combined list of the values&lt;br/&gt;
specified in conf1 + conf2 + any others.&lt;/p&gt;

&lt;p&gt;I think it would be better to behave according to the documentation and to&lt;br/&gt;
return only the elements from the first matching configuration + any dynamically&lt;br/&gt;
added elements from the InMemoryConfiguration.&lt;/p&gt;

&lt;p&gt;So, is this a bug, and will it be fixed?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341426">CONFIGURATION-127</key>
            <summary>[configuration] Lists in a CompositeConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="christian@siefkes.net">Christian Siefkes</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Apr 2004 22:30:36 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406525" author="dep4b" created="Thu, 29 Apr 2004 05:45:26 +0000"  >&lt;p&gt;Can you submit a unit test that demonstrates the problem?  Basically getList &lt;br/&gt;
should work just like getString does..  So, if you declared that conf 1 &lt;br/&gt;
overrides conf 2, then you would get conf1..  if you said conf 1 was additive &lt;br/&gt;
to conf2, then you would get both..&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;</comment>
                            <comment id="12406526" author="christian@siefkes.net" created="Thu, 29 Apr 2004 16:18:57 +0000"  >&lt;p&gt;This I don&apos;t understand &amp;#8211; how can I specify whether conf1 overrides conf2 or&lt;br/&gt;
whether it is additive?&lt;/p&gt;

&lt;p&gt;All is see in the online javadocs for CompositeConfiguration is the single&lt;br/&gt;
&quot;addConfiguration(Configuration config)&quot; method, and there you cannot specify&lt;br/&gt;
whether it should override or add; neither can you specify this in the&lt;br/&gt;
constructor. If there was such an option, it would be great, but currently I&lt;br/&gt;
don&apos;t know it...&lt;/p&gt;

&lt;p&gt;From the documentation I understand that contained configurations are consulted&lt;br/&gt;
in the order they were added, and the first match is returned (the first, not&lt;br/&gt;
the last one, so newly added configs neither override nor add, but are only&lt;br/&gt;
consulted as a fallback if previously configs don&apos;t contain this property). For&lt;br/&gt;
getString etc. this work as expected because a result is returned as soon as a&lt;br/&gt;
match is found.&lt;/p&gt;

&lt;p&gt;But getList is different &amp;#8211; it doesn&apos;t stop when a match is found but iterates&lt;br/&gt;
over all configurations and adds the list elements from all of them &amp;#8211; you can&lt;br/&gt;
easily check this by looking at the code.&lt;/p&gt;</comment>
                            <comment id="12406527" author="dep4b" created="Wed, 5 May 2004 05:30:14 +0000"  >&lt;p&gt;Actually, I think you are right..  What you need for the override versus add &lt;br/&gt;
behavior is to use the ConfigurationFactory.  It deals with sorting all of &lt;br/&gt;
that stuff out when the CompositeConfiguration is returned.&lt;/p&gt;</comment>
                            <comment id="12406528" author="christian@siefkes.net" created="Fri, 14 May 2004 23:16:32 +0000"  >&lt;p&gt;I have a patch that solves the problem. Add this method to CompositeConfiguration:&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Adds a configuration. A call to&lt;/li&gt;
	&lt;li&gt;{@link CompositeConfiguration#addConfiguration(Configuration)}
&lt;p&gt; is&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;equalivant to calling this method with &amp;lt;code&amp;gt;append&amp;lt;/code&amp;gt; set to&lt;/li&gt;
	&lt;li&gt;&amp;lt;code&amp;gt;true&amp;lt;/code&amp;gt;.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param config the configuration to add&lt;/li&gt;
	&lt;li&gt;@param append if &amp;lt;code&amp;gt;true&amp;lt;/code&amp;gt; list/array entries are added at the&lt;/li&gt;
	&lt;li&gt;end of existing lists; otherwise they are only used as a fallback, i.e.&lt;/li&gt;
	&lt;li&gt;if no list/array entry with the same key exists in previously added&lt;/li&gt;
	&lt;li&gt;configurations (for non-list/array entries the first match is used in&lt;/li&gt;
	&lt;li&gt;any case, so there is no difference)&lt;br/&gt;
     */&lt;br/&gt;
    public void addConfiguration(final Configuration config,&lt;br/&gt;
            final boolean append) {&lt;br/&gt;
        if (!append) {&lt;br/&gt;
            // getList &lt;b&gt;does&lt;/b&gt; append, so if this isn&apos;t the requested behavior&lt;br/&gt;
            // we delete any entries from the new configuration that are&lt;br/&gt;
            // already present&lt;br/&gt;
            final Iterator keys = getKeys();&lt;br/&gt;
            String key;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;            while (keys.hasNext()) &lt;/p&gt;
{
                key = (String) keys.next();
                config.clearProperty(key);
            }
&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        // delegate&lt;br/&gt;
        addConfiguration(config);&lt;br/&gt;
    }&lt;/p&gt;


&lt;p&gt;This way users can either call addConfiguration(conf) resp.&lt;br/&gt;
addConfiguration(conf, true) to get the append behavior: list elements from&lt;br/&gt;
different configurations will be joined.&lt;/p&gt;

&lt;p&gt;Or they can call addConfiguration(conf, false) to get the list elements from the&lt;br/&gt;
first matching configuration only.&lt;/p&gt;

&lt;p&gt;It&apos;s probably not the optimal solution but at least it fixes this bug without&lt;br/&gt;
introducing incompatibilites.&lt;/p&gt;

&lt;p&gt;BTW, it there any changes that a 1.0 version will come out soon? Or at least a&lt;br/&gt;
new -devX version that will be published at &lt;a href=&quot;http://www.ibiblio.org/maven/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.ibiblio.org/maven/&lt;/a&gt; ? That&lt;br/&gt;
would be very useful for Maven users (such as me)...&lt;/p&gt;</comment>
                            <comment id="12406529" author="ebourg" created="Tue, 18 May 2004 18:09:50 +0000"  >&lt;p&gt;I don&apos;t think we want to remove elements from the added configuration here, if&lt;br/&gt;
the configuration is then saved we will lose information.&lt;/p&gt;</comment>
                            <comment id="12406530" author="christian@siefkes.net" created="Tue, 18 May 2004 18:23:55 +0000"  >&lt;p&gt;OK, might be better to make a copy of the passed-in configuration before&lt;br/&gt;
deleting elements to avoid that the original is destroyed.&lt;/p&gt;

&lt;p&gt;Alternatively addConfiguration could be left as is; and getList could be&lt;br/&gt;
modified to stop at the first match (aside from the InMemoryConfig). This way we&lt;br/&gt;
would get the documented behavior, but we&apos;ll lose the possibility to differ&lt;br/&gt;
between override and append modes.&lt;/p&gt;</comment>
                            <comment id="12406531" author="ebourg" created="Tue, 18 May 2004 18:33:47 +0000"  >&lt;p&gt;Some thoughts about this issue, maybe some refactoring is needed:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove the getList methods from CompositeConfiguration and rely on the default&lt;br/&gt;
implementation of AbstractConfiguration, that means the first list found is&lt;br/&gt;
returned just like the other properties.&lt;/li&gt;
	&lt;li&gt;rename CompositeConfiguration into CascadeConfiguration. CascadeConfiguration&lt;br/&gt;
would have 2 modes, a &quot;first declared element win&quot; and a &quot;last declared element&lt;br/&gt;
win&quot; mode.&lt;/li&gt;
	&lt;li&gt;create a UnionConfiguration or CombinedConfiguration similar to&lt;br/&gt;
CompositeConfiguration but with an additive semantic to the addConfiguration()&lt;br/&gt;
method.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Does this cover all use cases ?&lt;/p&gt;</comment>
                            <comment id="12406532" author="christian@siefkes.net" created="Tue, 18 May 2004 18:55:04 +0000"  >&lt;p&gt;I suppose you still have to provide a specialized getList implementation because&lt;br/&gt;
the default implementation would probably stop when finding a match in the&lt;br/&gt;
InMemoryConfiguration. But if the user has used _add_Property to add list&lt;br/&gt;
elements, they would expect the elements from the first matching&lt;br/&gt;
non-InMemoryConfiguration to be returned as well.&lt;/p&gt;

&lt;p&gt;Otherwise that sould very good; and I think it would cover all relevant cases.&lt;/p&gt;</comment>
                            <comment id="12406533" author="ebourg" created="Fri, 4 Jun 2004 20:10:29 +0000"  >&lt;p&gt;getList() now returns the elements from the first matching configuration and the&lt;br/&gt;
elements from the InMemoryConfiguration. It&apos;s a simple copy though, changes to&lt;br/&gt;
the list will not affect the lists in the original configurations.&lt;/p&gt;</comment>
                            <comment id="12406534" author="christian@siefkes.net" created="Mon, 7 Jun 2004 20:34:54 +0000"  >&lt;p&gt;Now it works as documented.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Apr 2004 05:45:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33916</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169801</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-126] [configuration] SubsetConfiguration.getList throws exception</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-126</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;SubsetConfiguration.getList is not usable anymore, method(s) throw always a&lt;br/&gt;
ClassCastException claiming ArrayList is not a List!&lt;/p&gt;

&lt;p&gt;Will add patch for test case.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12341431">CONFIGURATION-126</key>
            <summary>[configuration] SubsetConfiguration.getList throws exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 May 2004 17:49:25 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:41 +0000</updated>
                            <resolved>Sat, 22 Aug 2009 19:36:41 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406542" author="joerg.schaible@gmx.de" created="Tue, 4 May 2004 17:51:01 +0000"  >&lt;p&gt;Created an attachment (id=11423)&lt;br/&gt;
jakarta-commons\configuration\TestSubsetConfiguration.testGetList.diff&lt;/p&gt;</comment>
                            <comment id="12406543" author="dep4b" created="Wed, 5 May 2004 05:28:53 +0000"  >&lt;p&gt;Thanks for the unit test!  Made the bug blindingly obvious..  however, I am &lt;br/&gt;
not 100% on my bug fix, as I just did the obvous, made AbstractList deal with &lt;br/&gt;
a List in getList().&lt;/p&gt;</comment>
                            <comment id="12406544" author="ebourg" created="Wed, 5 May 2004 17:37:13 +0000"  >&lt;p&gt;Yes that&apos;s the right fix, I had this change in my working copy for quite some&lt;br/&gt;
time but I forgot to put it in the patch I submitted, sorry.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332889" name="ASF.LICENSE.NOT.GRANTED--get-list.diff" size="1313" author="joerg.schaible@gmx.de" created="Tue, 4 May 2004 17:51:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 May 2004 17:51:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uobz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177083</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-125] [configuration] setting non-string values in DatabaseConfiguration always throws ClassCastException</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-125</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;It would seem that setting any non-string configuration property with a&lt;br/&gt;
DatabaseConfiguration object always throws ClassCastException. I have only&lt;br/&gt;
experienced this issue with Boolean values, but examining the code it would seem&lt;br/&gt;
that the class makes an explicit cast to type String for all set actions. See&lt;br/&gt;
patch for test case.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341641">CONFIGURATION-125</key>
            <summary>[configuration] setting non-string values in DatabaseConfiguration always throws ClassCastException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rgladwell">Ricardo Gladwell</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Aug 2004 19:26:00 +0000</created>
                <updated>Tue, 16 May 2006 12:22:22 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:22:22 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407252" author="rgladwell" created="Sun, 15 Aug 2004 19:26:57 +0000"  >&lt;p&gt;Created an attachment (id=12432)&lt;br/&gt;
Test case for TestDatabaseConfiguration.&lt;/p&gt;</comment>
                            <comment id="12407253" author="ebourg" created="Fri, 20 Aug 2004 21:00:40 +0000"  >&lt;p&gt;Fixed, the property is now serialized using String.valueOf() instead of casting&lt;br/&gt;
it to a String.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333055" name="ASF.LICENSE.NOT.GRANTED--bug30676.patch.txt" size="715" author="rgladwell" created="Sun, 15 Aug 2004 19:26:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Aug 2004 21:00:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110701</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-124] [configuration] NullPointerException when no absolute path was specified</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-124</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When I will use the feature that PropertisConfiguration will search the given &lt;br/&gt;
File in the Classpath etc.&lt;/p&gt;

&lt;p&gt;like:&lt;br/&gt;
Configuration config = new PropertiesConfiguration(&quot;usergui.properties&quot;);&lt;/p&gt;

&lt;p&gt;I allways get a NullPointerException when the given filename does&apos;t exist.&lt;/p&gt;

&lt;p&gt;here the output:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.configuration.ConfigurationUtils.getBasePath&lt;br/&gt;
(ConfigurationUtils.java:337)&lt;br/&gt;
	at org.apache.commons.configuration.PropertiesConfiguration.&amp;lt;init&amp;gt;&lt;br/&gt;
(PropertiesConfiguration.java:176)&lt;/p&gt;

&lt;p&gt;the Exception only comes when the file ist not in the search path, otherwhise &lt;br/&gt;
everything works well.&lt;/p&gt;

&lt;p&gt;sorry for my bad english&lt;/p&gt;

&lt;p&gt;yours sincerely&lt;br/&gt;
Matthias&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342866">CONFIGURATION-124</key>
            <summary>[configuration] NullPointerException when no absolute path was specified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                                <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="m.koch@j2ee-solutions.biz">Matthias Koch</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jan 2006 23:16:28 +0000</created>
                <updated>Tue, 16 May 2006 12:06:05 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:06:05 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411301" author="oliver.heger@t-online.de" created="Fri, 20 Jan 2006 05:17:22 +0000"  >&lt;p&gt;From the line numbers in the stack trace you provide in your error description I&lt;br/&gt;
assume that you use an older version of Commons Configuration. The line numbers&lt;br/&gt;
don&apos;t match the source files of the 1.2 version.&lt;/p&gt;

&lt;p&gt;Could you please try again with the 1.2 release, or ensure that there is no&lt;br/&gt;
older version somewhere in your classpath? I remember there was an issue with&lt;br/&gt;
NullPointerExceptions when the file to load does not exist, but this was fixed&lt;br/&gt;
in 1.2.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12411302" author="m.koch@j2ee-solutions.biz" created="Fri, 20 Jan 2006 18:05:03 +0000"  >&lt;p&gt;sorry please,&lt;/p&gt;

&lt;p&gt;there was still a 1.0 version of configurations in a referenc projekt &lt;br/&gt;
classpath which eclipse hadn&apos;t displayed.&lt;br/&gt;
After fixing this, there is no moreNullPointerException in 1.2 configurations.&lt;/p&gt;

&lt;p&gt;thanks.&lt;/p&gt;

&lt;p&gt;yours sincerely &lt;br/&gt;
Matthias&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Jan 2006 05:17:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170143</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-123] [configuration] ConfigurationConverter.getProperties() and interpolate behaviour inconsequent with getList()</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-123</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;when converting a Configuration object into a Properties object no variable&lt;br/&gt;
interpolation takes place. E.g. you have a PropertiesConfiguration with:&lt;br/&gt;
foo=bar&lt;br/&gt;
interpolated=${foo}&lt;/p&gt;

&lt;p&gt;If you dump the Properties object or use .getProperty(&quot;interpolated&quot;) you will&lt;br/&gt;
get &quot;${foo}&quot; instead of &quot;bar&quot;.&lt;br/&gt;
If you convert the Configuration one would expect the real/interpolated values&lt;br/&gt;
for use with a legacy method (or just any JDK method that just takes Properties).&lt;/p&gt;

&lt;p&gt;But as the converter uses Configuration.getList(key) that doesn&apos;t interpolate&lt;br/&gt;
(why does getList not interpolate?) this doesn&apos;t happen. Probably one could just&lt;br/&gt;
use getStringArray() instead as this method does interpolate.&lt;br/&gt;
Is there a reason for AbstractConfiguration.getStringArray() working differently&lt;br/&gt;
compared to getList() with regard to variable interpolation? At least a Javadoc&lt;br/&gt;
note would be good, or did one just forget to call &quot;interpolate&quot; in both?&lt;/p&gt;

&lt;p&gt;Moreover it would be logical if getProperties() &amp;amp; related methods would allow to&lt;br/&gt;
specify a separator char as &quot;, &quot; is nice to print but is more difficult to parse&lt;br/&gt;
than just &quot;,&quot;. Actually the AbstractConfiguration.setDelimiter() functionality&lt;br/&gt;
would make it reasonable to allow the user to modify the default also when&lt;br/&gt;
converting vice versa.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342568">CONFIGURATION-123</key>
            <summary>[configuration] ConfigurationConverter.getProperties() and interpolate behaviour inconsequent with getList()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mech@tngtech.com">Michael Echerer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Sep 2005 23:39:17 +0000</created>
                <updated>Tue, 16 May 2006 12:09:43 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:09:43 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410442" author="ebourg" created="Sat, 24 Sep 2005 00:44:15 +0000"  >&lt;p&gt;You are right, getList() should interpolate the values like getStringArray().&lt;br/&gt;
The only method that is not supposed to perform an interpolation is getProperty().&lt;/p&gt;

&lt;p&gt;Regarding the list delimiter, we should probably use the configuration delimiter&lt;br/&gt;
if possible (for instances of AbstractConfiguration) and default to a comma&lt;br/&gt;
otherwise. I don&apos;t mind removing the space after the delimiter.&lt;/p&gt;

&lt;p&gt;I noticed we don&apos;t escape the delimiter in the properties of the list, this&lt;br/&gt;
should be fixed too.&lt;/p&gt;</comment>
                            <comment id="12410443" author="oliver.heger@t-online.de" created="Sat, 24 Sep 2005 03:12:18 +0000"  >&lt;p&gt;The reason why getList() does not perform any interpolation is because the&lt;br/&gt;
interpolate() method supports only String results ATM, while a list in theory&lt;br/&gt;
could contain arbitrary objects.&lt;/p&gt;

&lt;p&gt;Issue 35116 deals with enhanced interpolation features that provide support for&lt;br/&gt;
other data types, too. In this context, getList() of course must perform&lt;br/&gt;
interpolation as well.&lt;/p&gt;</comment>
                            <comment id="12410444" author="ebourg" created="Tue, 27 Sep 2005 02:18:05 +0000"  >&lt;p&gt;This is now fixed in SVN, thank you for reporting the issue Michael. getList()&lt;br/&gt;
now returns a list of interpolated values and&lt;br/&gt;
ConfigurationConverter.getProperties() will use the delimiter of the&lt;br/&gt;
configuration instead of a comma. I also removed the extra space behind the comma.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 24 Sep 2005 00:44:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110699</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169791</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-122] [configuration] project.xml contains bad dependencies</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-122</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When I attempt to run the project.xml for any kind of jar-dependent goal on an&lt;br/&gt;
empty project I get the following error message:&lt;/p&gt;

&lt;p&gt;Attempting to download maven-tasks-plugin-1.1.0.jar.&lt;br/&gt;
WARNING: Failed to download maven-tasks-plugin-1.1.0.jar.&lt;br/&gt;
Attempting to download maven-findbugs-plugin-0.7.2.jar.&lt;br/&gt;
WARNING: Failed to download maven-findbugs-plugin-0.7.2.jar.&lt;br/&gt;
The build cannot continue because of the following unsatisfied dependencies:&lt;/p&gt;

&lt;p&gt;maven-tasks-plugin-1.1.0.jar (try downloading from&lt;br/&gt;
&lt;a href=&quot;http://maven-plugins.sourceforge.net/maven-tasks-plugin/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven-plugins.sourceforge.net/maven-tasks-plugin/&lt;/a&gt;)&lt;br/&gt;
maven-findbugs-plugin-0.7.2.jar (try downloading from&lt;br/&gt;
&lt;a href=&quot;http://maven-plugins.sourceforge.net/maven-findbugs-plugin/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven-plugins.sourceforge.net/maven-findbugs-plugin/&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Total time: 22 seconds&lt;br/&gt;
Finished at: Fri Aug 13 11:47:40 BST 2004&lt;/p&gt;

&lt;p&gt;Examining the project.xml I can see that the dependencies for the SF.net maven&lt;br/&gt;
plugins are point to the wrong place: they should poing to the SF.net&lt;br/&gt;
maven-plugins repository at &amp;lt;&lt;a href=&quot;http://maven-plugins.sf.net/maven&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven-plugins.sf.net/maven&lt;/a&gt;&amp;gt;. See patch.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341637">CONFIGURATION-122</key>
            <summary>[configuration] project.xml contains bad dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rgladwell">Ricardo Gladwell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Aug 2004 17:54:13 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407232" author="rgladwell" created="Fri, 13 Aug 2004 17:55:21 +0000"  >&lt;p&gt;Created an attachment (id=12416)&lt;br/&gt;
Fixes build for maven-plugins.&lt;/p&gt;</comment>
                            <comment id="12407233" author="joerg.schaible@gmx.de" created="Fri, 13 Aug 2004 18:15:44 +0000"  >&lt;p&gt;Be careful applying this patch. It also contains a quite new POM and the&lt;br/&gt;
copyright  is gone afterwards &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12407234" author="dep4b" created="Fri, 13 Aug 2004 19:09:27 +0000"  >&lt;p&gt;I applied the repo fixes.  I skipped the project.xml as it reformats large&lt;br/&gt;
amounts of the project.xml making diffs hard.&lt;/p&gt;</comment>
                            <comment id="12407235" author="rgladwell" created="Fri, 13 Aug 2004 19:22:55 +0000"  >&lt;p&gt;Created an attachment (id=12417)&lt;br/&gt;
Sorry, my Maven IDE plug-in stripts comments fromPOMs. I edited the changes myself manually and this should now work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333047" name="ASF.LICENSE.NOT.GRANTED--bug30648.patch.txt" size="979" author="rgladwell" created="Fri, 13 Aug 2004 19:22:55 +0000"/>
                            <attachment id="12333046" name="ASF.LICENSE.NOT.GRANTED--bug30648.patch.txt" size="26086" author="rgladwell" created="Fri, 13 Aug 2004 17:55:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Aug 2004 18:15:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tff3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-121] [configuration] Included properties w/ relative path fails in v1.1</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-121</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The &quot;include&quot; property fails in 1.1 when a PropertiesConfiguration is&lt;br/&gt;
instantiated with a relative path/file name instead of an absolute path, but it&lt;br/&gt;
works correctly in version 1.0.&lt;/p&gt;

&lt;p&gt;As far as I can tell this bug was introduced by the refactoring of the load()&lt;br/&gt;
behavior from the PropertiesConfiguration constructor to the constructor of&lt;br/&gt;
AbstractFileConfiguration.  The load() method relies on the instance variable&lt;br/&gt;
&quot;includesAllowed&quot; which is declared and initialized in PropertiesConfiguration.&lt;br/&gt;
However, because in v1.1 load() is invoked from the superclass constructor, the&lt;br/&gt;
instance variables in the subclass have not yet been initialized when load() is&lt;br/&gt;
invoked. Consequently &quot;includesAllowed&quot; evaluates to false and the include fails.&lt;/p&gt;

&lt;p&gt;I have attached a simple app to illustrate the issue.  It attempts to load the&lt;br/&gt;
property &quot;bar&quot; via an included properties file from the config dir.  By&lt;br/&gt;
manipulating the classpath in a batch script the app can be run twice, once&lt;br/&gt;
using version 1.0 and once using 1.1. Here is sample output:&lt;/p&gt;

&lt;p&gt;Configuration version 1.0...&lt;br/&gt;
file name = myapp.properties&lt;br/&gt;
base path = &lt;a href=&quot;file:/C:/myapp/config/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/myapp/config/&lt;/a&gt;&lt;br/&gt;
includes? = true&lt;br/&gt;
foo=foo from properties&lt;br/&gt;
bar=included bar&lt;/p&gt;


&lt;p&gt;Configuration version 1.1...&lt;br/&gt;
file name = myapp.properties&lt;br/&gt;
base path = null&lt;br/&gt;
includes? = true&lt;br/&gt;
foo=foo from properties&lt;br/&gt;
bar=null&lt;/p&gt;

&lt;p&gt;Note that the output contains &quot;includes? = true&quot; (which displays the result of&lt;br/&gt;
PropertiesConfiguration.getIncludesAllowed()), but this occurs after the&lt;br/&gt;
configuration has been completely initialized.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows 2000&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342354">CONFIGURATION-121</key>
            <summary>[configuration] Included properties w/ relative path fails in v1.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mark_williams@pacbell.net">Mark W</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2005 07:48:17 +0000</created>
                <updated>Tue, 16 May 2006 12:12:01 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:12:01 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409730" author="mark_williams@pacbell.net" created="Wed, 6 Jul 2005 07:49:23 +0000"  >&lt;p&gt;Created an attachment (id=15601)&lt;br/&gt;
Sample app to illustrate reported bug.&lt;/p&gt;</comment>
                            <comment id="12409731" author="oliver.heger@t-online.de" created="Fri, 8 Jul 2005 04:12:47 +0000"  >&lt;p&gt;Mark,&lt;/p&gt;

&lt;p&gt;thanks for your analysis. You are right that the includesAllowed flag is not yet&lt;br/&gt;
set when the load() method is called by the constructor.&lt;/p&gt;

&lt;p&gt;However PropertiesConfiguration overloads the setBasePath() method to set&lt;br/&gt;
includesAllowed to true if a base path is available. This works if the&lt;br/&gt;
properties are loaded from an absolute or relative path, but unfortunately not&lt;br/&gt;
when loaded from the classpath as in your test application. This is the reason&lt;br/&gt;
why our unit test for include properties works, though the file is loaded in the&lt;br/&gt;
constructor (TestPropertiesConfiguration.setUp()).&lt;/p&gt;

&lt;p&gt;So the real problem seems to be once more the handling of the source file name&lt;br/&gt;
and path. I tend to believe that we need a completely new solution (Locators!)&lt;br/&gt;
to get rid off all of these problems.&lt;/p&gt;

&lt;p&gt;Thank you for spotting this.&lt;/p&gt;</comment>
                            <comment id="12409732" author="mark_williams@pacbell.net" created="Sat, 9 Jul 2005 02:37:38 +0000"  >&lt;p&gt;Oliver,&lt;/p&gt;

&lt;p&gt;Thanks for the clarification. You&apos;re right, I didn&apos;t dig deeply enough, I missed&lt;br/&gt;
the override of setBasePath().&lt;/p&gt;

&lt;p&gt;FYI, as a consumer of the API I found it confusing that, after the constructor&lt;br/&gt;
PropertiesConfiguration(String) is called, getIncludesAllowed() may not return&lt;br/&gt;
the state that was in effect while load() was executing.   This strikes me as&lt;br/&gt;
suboptimal; perhaps the design of this component could be revisited.&lt;/p&gt;</comment>
                            <comment id="12409733" author="oliver.heger@t-online.de" created="Sat, 9 Jul 2005 18:18:51 +0000"  >&lt;p&gt;I fully agree with you. It&apos;s a bug that the load() method is called before some&lt;br/&gt;
member fields that can influence the load process have been initialized. I will&lt;br/&gt;
see what I can do about it.&lt;/p&gt;

&lt;p&gt;The fact that the includesAllowed flag is modified by the setBasePath() method&lt;br/&gt;
seems to me like a quick hack. Now the following can happen:&lt;/p&gt;

&lt;p&gt;1. A PropertiesConfiguration object is created&lt;br/&gt;
2. setIncludesAllowed(false) is called on this object&lt;br/&gt;
3. The configuration file is set (which invokes setBasePath)&lt;br/&gt;
4. load() is called&lt;/p&gt;

&lt;p&gt;Step 3 might enable the includesAllowed flag again, so that the results might be&lt;br/&gt;
different than expected. This behavior of setBasePath() is documented, but I&lt;br/&gt;
think it is indeed very confusing and it should be possible to find a better&lt;br/&gt;
solution.&lt;/p&gt;

&lt;p&gt;Would anybody object if I changed this? This will be an incompatible change and&lt;br/&gt;
can have impact on existing code, but IMO it would make usage of this API clearer.&lt;/p&gt;</comment>
                            <comment id="12409734" author="oliver.heger@t-online.de" created="Mon, 11 Jul 2005 03:30:37 +0000"  >&lt;p&gt;I committed a fix that should resolve the original problem. The main idea is&lt;br/&gt;
that AbstractFileConfiguration in its load(URL) method now always sets a base&lt;br/&gt;
path if none has been set before. The base path is simply set to the current&lt;br/&gt;
source URL. This works for relative include paths because ConfigurationUtils is&lt;br/&gt;
able to resolve a relative path in the context of a base URL.&lt;/p&gt;

&lt;p&gt;About my last comment: I think I was a bit on the wrong track. The original&lt;br/&gt;
authors of PropertiesConfiguration did not support a way of disabling the&lt;br/&gt;
includes feature. setIncludesAllowed() is protected, and the flag&apos;s value is&lt;br/&gt;
only determined by the file to be loaded. I removed the initialization of the&lt;br/&gt;
includesAllowed flag (it was set to true), so now isIncludesAllowed() will&lt;br/&gt;
return the flag&apos;s value at the time the load() method was executed.&lt;/p&gt;

&lt;p&gt;Mark, can you check if now everything works for you?&lt;/p&gt;

&lt;p&gt;The question remains whether the includesAllowed flag makes sense any longer. My&lt;br/&gt;
fix causes the base path to be always valid when load() was successful. So the&lt;br/&gt;
flag will then always be true.&lt;/p&gt;</comment>
                            <comment id="12409735" author="mark_williams@pacbell.net" created="Fri, 15 Jul 2005 08:57:31 +0000"  >&lt;p&gt;Thanks, Oliver, the change seems to fix this bug. Nice work!&lt;/p&gt;

&lt;p&gt;As an aside, I might suggest that the Javadoc for the PropertiesConfiguration&lt;br/&gt;
no-arg constructor be changed, as it is possible to load included files after&lt;br/&gt;
using the no-arg constructor:&lt;/p&gt;

&lt;p&gt;PropertiesConfiguration pc = new PropertiesConfiguration();&lt;br/&gt;
pc.setPath(&quot;foo.properties&quot;);&lt;br/&gt;
pc.load();&lt;/p&gt;

&lt;p&gt;...assuming foo.properties has an include property, of course.&lt;/p&gt;

&lt;p&gt;-Mark&lt;/p&gt;</comment>
                            <comment id="12409736" author="oliver.heger@t-online.de" created="Tue, 19 Jul 2005 03:38:23 +0000"  >&lt;p&gt;I removed this sentence from the no-arg constructor. So this issue can be closed&lt;br/&gt;
now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333610" name="ASF.LICENSE.NOT.GRANTED--Myapp.zip" size="3377" author="mark_williams@pacbell.net" created="Wed, 6 Jul 2005 07:49:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35621</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Jul 2005 04:12:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110698</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tf9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-120] [configuration] Missing classes after move to commons proper</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-120</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I just found out that the actual CVS head does not contain all changes of the&lt;br/&gt;
latest sandbox commits. I think there was one commit, which added the class&lt;br/&gt;
ConfigurationXMLDocument, a corresponding test class, an enhancement of the&lt;br/&gt;
examples page and some smaller fixes. Obviously these changes have been lost&lt;br/&gt;
when moving from sandbox to proper.&lt;/p&gt;

&lt;p&gt;With CVS view I found out that ConfigurationXMLDocument is now in the attic of&lt;br/&gt;
CVS, in head it is missing. The same is true for the test case&lt;br/&gt;
TestConfigurationXMLDocument.java. In examples.xml the last chapter about&lt;br/&gt;
ConfigurationXMLDocument is missing; the version, which is in the attic of the&lt;br/&gt;
sandbox contains this section.&lt;/p&gt;

&lt;p&gt;Some other incosistencies that occurred to me are in the conf directory. Some of&lt;br/&gt;
the test configuration files for ConfigurationFactory had been modified to get&lt;br/&gt;
rid off the unnecessary className attribute. The actual CVS versions have this&lt;br/&gt;
attribute again. Here the versions in the sandbox attic are more actual.&lt;/p&gt;

&lt;p&gt;I don&apos;t know if more changes have been lost in the move, these are the ones I&lt;br/&gt;
found out. If the idea is correct that they all belong to one commit, you may be&lt;br/&gt;
able to restore all from the CVS log.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341273">CONFIGURATION-120</key>
            <summary>[configuration] Missing classes after move to commons proper</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Feb 2004 03:31:35 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406014" author="dep4b" created="Wed, 25 Feb 2004 21:05:37 +0000"  >&lt;p&gt;Oliver,&lt;/p&gt;

&lt;p&gt;I see the problem..   Would you mind resubmitting this code?  Moving &lt;br/&gt;
Configuration from sandbox to commons proper was my first time, and I must &lt;br/&gt;
have goofed something.  If you can just validate that the &lt;br/&gt;
ConfigurationXMLDocument works properly after the refactorings then we can get &lt;br/&gt;
this in.&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;</comment>
                            <comment id="12406015" author="oliver.heger@t-online.de" created="Sat, 28 Feb 2004 03:54:40 +0000"  >&lt;p&gt;Created an attachment (id=10597)&lt;br/&gt;
A patch with all affected files&lt;/p&gt;</comment>
                            <comment id="12406016" author="oliver.heger@t-online.de" created="Sat, 28 Feb 2004 04:02:21 +0000"  >&lt;p&gt;Okay, here is the data again.&lt;/p&gt;

&lt;p&gt;As you can see, a whole bunch of files were affected. I hope I did not break any&lt;br/&gt;
new functionality, but all unit tests run without problems.&lt;/p&gt;

&lt;p&gt;Two things are a bit strange:&lt;/p&gt;

&lt;p&gt;1. The patch (created using Eclipse) contains the complete examples.xml file.&lt;br/&gt;
Obviously Eclipse thinks that the remote file is empty.&lt;/p&gt;

&lt;p&gt;2. After recovering the changes related to ConfigurationXMLDocument there was an&lt;br/&gt;
error in the unit test of CompositeConfiguration, method testGetProperty(). This&lt;br/&gt;
test failed because the property &quot;propertyInOrder&quot; could not be found in both&lt;br/&gt;
the test.properties files. I added this property again and now everything runs&lt;br/&gt;
fine, but I don&apos;t know what originally caused the problem.&lt;/p&gt;

&lt;p&gt;Please doublecheck everything carefully!&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</comment>
                            <comment id="12406017" author="dep4b" created="Tue, 9 Mar 2004 07:29:08 +0000"  >&lt;p&gt;Oliver,  sorry it took so long, but it is in..  I took the content from &lt;br/&gt;
example.xml and added it a new howto_xml.xml document..  However, i think &lt;br/&gt;
the &quot;flow&quot; of the howto_xml and howto_configurationfactory has been really &lt;br/&gt;
messed up by myself...  We should probably redo those examples..  Maybe merge &lt;br/&gt;
them back into one document?&lt;/p&gt;</comment>
                            <comment id="12406018" author="oliver.heger@t-online.de" created="Wed, 10 Mar 2004 04:53:52 +0000"  >&lt;p&gt;Created an attachment (id=10732)&lt;br/&gt;
Make patch compatible with other changes&lt;/p&gt;</comment>
                            <comment id="12406019" author="oliver.heger@t-online.de" created="Wed, 10 Mar 2004 04:59:50 +0000"  >&lt;p&gt;The new SubsetConfiguration class caused the problems.&lt;br/&gt;
HierarchicalConfiguration.subSet() was changed to return such a&lt;br/&gt;
SubsetConfiguration object, which broke the contract (stated in the javadocs)&lt;br/&gt;
that the subset of a HierarchicalConfiguration is a HierarchicalConfiguration&lt;br/&gt;
again. I restored the old implementation and modified it so that the key&lt;br/&gt;
handling in the subset is compatible with SubsetConfiguration.&lt;/p&gt;

&lt;p&gt;I also had to restore the subset() implementation of CompositeConfiguration. Now&lt;br/&gt;
all unit tests run.&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</comment>
                            <comment id="12406020" author="dep4b" created="Sun, 14 Mar 2004 01:26:31 +0000"  >&lt;p&gt;Patch applied, unit tests pass!  thanks..&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332742" name="ASF.LICENSE.NOT.GRANTED--ConfigurationXMLDocument2.txt" size="4626" author="oheger" created="Wed, 10 Mar 2004 04:53:52 +0000"/>
                            <attachment id="12332741" name="ASF.LICENSE.NOT.GRANTED--ConfigurationXMLdocument.txt" size="91159" author="oheger" created="Sat, 28 Feb 2004 03:54:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26944</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Feb 2004 21:05:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110697</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169927</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-119] [configuration] ConfigurationFactory auto save overwrites properties file</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-119</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Setting a PropertiesConfiguration autoSave=true via a ConfigurationFactory can&lt;br/&gt;
cause the underlying properties file to be completely overwritten.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;config.xml:&lt;br/&gt;
  &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&amp;gt;&lt;br/&gt;
  &amp;lt;configuration&amp;gt;&lt;br/&gt;
    &amp;lt;properties fileName=&quot;application.properties&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;properties fileName=&quot;ui.properties&quot;  autoSave=&quot;true&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;application.properties:&lt;br/&gt;
  application.name=Test App&lt;br/&gt;
  application.version = 0.01&lt;br/&gt;
  application.title = ${application.name} V${application.version}&lt;/p&gt;

&lt;p&gt;ui.properties:&lt;br/&gt;
  ui.test=&quot;stuff here&quot;&lt;/p&gt;

&lt;p&gt;Execute the code:&lt;br/&gt;
  ConfigurationFactory factory = new ConfigurationFactory();&lt;br/&gt;
  URL configURL = getClass().getResource(&quot;/config.xml&quot;);&lt;br/&gt;
  factory.setConfigurationURL(configURL);&lt;br/&gt;
  try &lt;/p&gt;
{
    config = factory.getConfiguration();
    System.out.println(config.getString(&quot;application.title&quot;));

    System.out.println(config.getString(&quot;ui.test&quot;));
    config.setProperty(&quot;ui.test&quot;, &quot;will this get saved ?&quot;);
    System.out.println(config.getString(&quot;ui.test&quot;));
  }
&lt;p&gt; catch (ConfigurationException e) &lt;/p&gt;
{
    e.printStackTrace();
  }

&lt;p&gt;Program output:&lt;br/&gt;
12/04/2005 10:24:00&lt;br/&gt;
org.apache.commons.configuration.ConfigurationFactory$FileConfigurationFactory&lt;br/&gt;
createObject&lt;br/&gt;
INFO: Trying to load configuration application.properties&lt;br/&gt;
12/04/2005 10:24:00&lt;br/&gt;
org.apache.commons.configuration.ConfigurationFactory$FileConfigurationFactory&lt;br/&gt;
createObject&lt;br/&gt;
INFO: Trying to load configuration ui.properties&lt;br/&gt;
Test App V0.01&lt;br/&gt;
&quot;stuff here&quot;&lt;br/&gt;
will this get saved ?&lt;/p&gt;

&lt;p&gt;After execution&lt;br/&gt;
---------------&lt;br/&gt;
application.properties:&lt;br/&gt;
  application.name=Test App&lt;br/&gt;
  application.version = 0.01&lt;br/&gt;
  application.title = ${application.name} V${application.version}&lt;/p&gt;

&lt;p&gt;ui.properties:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;written by PropertiesConfiguration&lt;/li&gt;
	&lt;li&gt;Tue Apr 12 10:24:00 EST 2005&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;NOTE ui.test doesn&apos;t appear with either the old value or the modified one.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342178">CONFIGURATION-119</key>
            <summary>[configuration] ConfigurationFactory auto save overwrites properties file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="petec33@gmail.com">Pete Cain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Apr 2005 09:33:03 +0000</created>
                <updated>Tue, 16 May 2006 12:14:35 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:14:35 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409114" author="oliver.heger@t-online.de" created="Sun, 8 May 2005 00:29:28 +0000"  >&lt;p&gt;Created an attachment (id=14961)&lt;br/&gt;
Unit test for loading a PropertiesConfiguration with enabled auto save&lt;/p&gt;

&lt;p&gt;The attached unit test shows the heart of the bug: the combination of enabled&lt;br/&gt;
auto save flag and the load() method of PropertiesConfiguration.&lt;/p&gt;

&lt;p&gt;On my system (Win XP) this test causes an endless loop, but this may depend on&lt;br/&gt;
the platform and factors like default sizes of the used buffered streams. Fact&lt;br/&gt;
is that the properties file is overwritten while it is being loaded, which will&lt;br/&gt;
cause unpredictable behavior.&lt;/p&gt;</comment>
                            <comment id="12409115" author="oliver.heger@t-online.de" created="Sun, 8 May 2005 00:41:16 +0000"  >&lt;p&gt;The following seems to happen:&lt;/p&gt;

&lt;p&gt;PropertiesConfiguration.load() loads the specified properties file line by line&lt;br/&gt;
and calls addProperty() for each detected property. In&lt;br/&gt;
AbstractFileConfiguration.addProperty() the new property value is stored and&lt;br/&gt;
then possiblySave() is called. If the auto save flag is set, this method will&lt;br/&gt;
trigger the save() method, which in turn will immediately overwrite the current&lt;br/&gt;
configuration file.&lt;/p&gt;

&lt;p&gt;As a solution I suggest to store the old value of the auto save flag at the&lt;br/&gt;
beginning of PropertiesConfiguration.load() and set it always to false. At the&lt;br/&gt;
end of the method (in a finally block) the flag&apos;s old value can be reset. &lt;/p&gt;

&lt;p&gt;autoSave really should not be enabled during execution of a load method. So it&lt;br/&gt;
might be better to implement such a mechanism already in&lt;br/&gt;
AbstractFileConfiguration (but where?). Any thoughts or comments?&lt;/p&gt;</comment>
                            <comment id="12409116" author="oliver.heger@t-online.de" created="Wed, 18 May 2005 02:51:24 +0000"  >&lt;p&gt;Committed a patch, should be fixed in the next nightly builds.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333454" name="ASF.LICENSE.NOT.GRANTED--TestPropertiesConfiguration.diff" size="1839" author="oheger" created="Sun, 8 May 2005 00:29:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 8 May 2005 00:29:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18548</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-118] [configuration] Loading a configuration twice creates duplicate properties</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-118</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The file configurations are not cleared when the source is loaded, thus if the&lt;br/&gt;
configuration is loaded twice, we end up with duplicate properties.&lt;/p&gt;

&lt;p&gt;    public void testDoubleLoading() throws Exception&lt;/p&gt;
    {
        FileConfiguration config = new PropertiesConfiguration();
        config.setFileName(&quot;conf/test.properties&quot;);
        config.load();
        config.load();

        assertEquals(&quot;Number of elements in the &apos;test.integer.array&apos; list&quot;, 2,
config.getList(&quot;test.integer.array&quot;).size());
    }</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342086">CONFIGURATION-118</key>
            <summary>[configuration] Loading a configuration twice creates duplicate properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2005 03:18:10 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408803" author="oliver.heger@t-online.de" created="Sat, 5 Mar 2005 00:59:55 +0000"  >&lt;p&gt;We could add an abstract append(Reader) method to AbstractFileConfiguration. In&lt;br/&gt;
the sub classes we move the code from the load(Reader) method to append(Reader).&lt;br/&gt;
AbstractFileConfiguration.load(Reader) can then be implemented by calling&lt;br/&gt;
clear() and then delegating to append(Reader). XMLConfiguration needs an extra&lt;br/&gt;
work because it does not inherit from AbstractFileConfiguration.&lt;/p&gt;

&lt;p&gt;This way we would also gain a new append feature, which might be useful for&lt;br/&gt;
easily creating union configurations. WDYT?&lt;/p&gt;

&lt;p&gt;Is anybody already working on this? Otherwise I would have a look at it during&lt;br/&gt;
the weekend.&lt;/p&gt;</comment>
                            <comment id="12408804" author="ebourg" created="Sat, 5 Mar 2005 01:09:53 +0000"  >&lt;p&gt;I see 2 more solutions:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;change nothing and document the load() method to make it clear that properties&lt;br/&gt;
are added to the configuration and do not replace the current values.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;change the load() method to include a call to clear(), but not the other&lt;br/&gt;
methods loading from a stream, a file, a url, etc.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12408805" author="ebourg" created="Sat, 5 Mar 2005 01:11:37 +0000"  >&lt;p&gt;Anyway this is a minor issue, it should not block the 1.1 release.&lt;/p&gt;</comment>
                            <comment id="12408806" author="oliver.heger@t-online.de" created="Sat, 5 Mar 2005 19:33:55 +0000"  >&lt;p&gt;(In reply to comment #2)&lt;br/&gt;
&amp;gt; I see 2 more solutions:&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; - change nothing and document the load() method to make it clear that properties&lt;br/&gt;
&amp;gt; are added to the configuration and do not replace the current values.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; - change the load() method to include a call to clear(), but not the other&lt;br/&gt;
&amp;gt; methods loading from a stream, a file, a url, etc.&lt;/p&gt;

&lt;p&gt;The first solution is fine with me, especially after cross checking that&lt;br/&gt;
java.util.Properties.load() behaves exactly the same way.&lt;/p&gt;

&lt;p&gt;I added some notes to the javadoc of AbstractFileConfiguration and the load()&lt;br/&gt;
methods of PropertiesConfiguration and XMLConfiguration. I also added two new&lt;br/&gt;
test cases that show that a second load() call inserts new properties rather&lt;br/&gt;
than replacing the old content.&lt;/p&gt;

&lt;p&gt;For XMLConfiguration it was a little harder because I found out that the output&lt;br/&gt;
of the save() method is broken when multiple files were loaded. I could fix&lt;br/&gt;
this, which is also checked in the corresponding test class.&lt;/p&gt;

&lt;p&gt;So I suppose this bug can be closed now?&lt;/p&gt;</comment>
                            <comment id="12408807" author="ebourg" created="Sat, 5 Mar 2005 23:10:55 +0000"  >&lt;p&gt;Yes that&apos;s fine, thank you Oliver&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Mar 2005 00:59:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33961</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-117] [configuration] MapConfiguration doesn&apos;t support multiple-valued properties</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-117</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The MapConfiguration addPropertyDirect method does not support multiple-valued properties. The following implementation is what I used to fix the problem.&lt;/p&gt;

&lt;p&gt;        protected void addPropertyDirect(String key, Object obj) {&lt;br/&gt;
            Object currentValue = getProperty(key);&lt;br/&gt;
            if (currentValue == null) &lt;/p&gt;
{
                getMap().put(key, obj);
            }
&lt;p&gt; else if (List.class.isAssignableFrom(currentValue.getClass())) &lt;/p&gt;
{
                ((List) currentValue).add(obj);
            }
&lt;p&gt; else &lt;/p&gt;
{
                List values = new ArrayList();
                values.add(currentValue);
                values.add(obj);
                getMap().put(key, values);
            }
&lt;p&gt;        }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342418">CONFIGURATION-117</key>
            <summary>[configuration] MapConfiguration doesn&apos;t support multiple-valued properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bate@technoetic.com">Steve Bate</reporter>
                        <labels>
                    </labels>
                <created>Sun, 31 Jul 2005 05:12:58 +0000</created>
                <updated>Tue, 16 May 2006 12:11:03 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:11:03 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409950" author="ebourg" created="Wed, 24 Aug 2005 20:09:42 +0000"  >&lt;p&gt;Thank you Steve, it&apos;s now fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35945</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Aug 2005 20:09:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tf9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-116] [configuration] XMLConfiguration doesn&apos;t support attribute names with a dot</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-116</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The setXmlProperty method in XMLConfiguration splits the key on the node&lt;br/&gt;
delimiter, that&apos;s the dot character, before diving into the DOM document to set&lt;br/&gt;
the property. It means that if the key specifies an attribute property&lt;br/&gt;
(foo&lt;span class=&quot;error&quot;&gt;&amp;#91;@bar&amp;#93;&lt;/span&gt;), the attribute name can&apos;t contain a node delimiter otherwise it&apos;ll&lt;br/&gt;
be truncated. For example:&lt;/p&gt;

&lt;p&gt;setXmlProperty(&quot;foo&lt;span class=&quot;error&quot;&gt;&amp;#91;@bar.man&amp;#93;&lt;/span&gt;&quot;, &quot;value&quot;);&lt;/p&gt;

&lt;p&gt;will result in the creation of the following element:&lt;/p&gt;

&lt;p&gt;&amp;lt;foo ba=&quot;value&quot;/&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341583">CONFIGURATION-116</key>
            <summary>[configuration] XMLConfiguration doesn&apos;t support attribute names with a dot</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jul 2004 19:09:36 +0000</created>
                <updated>Tue, 16 May 2006 12:23:09 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:23:09 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30205</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110695</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169849</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-115] [configuration]Documentation updates</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-115</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;In the howto sections of the configuration documentation there are still some&lt;br/&gt;
inconsistencies caused by lost files during the move from sandbox to proper.&lt;/p&gt;

&lt;p&gt;This patch updates the documentation. In the XML howto document some examples&lt;br/&gt;
for configuration definition files used the className attribute. The patch&lt;br/&gt;
replaces this by the hierarchicalDom4J element. The ConfigurationFactory howto&lt;br/&gt;
contained the section about HierarchicalConfiguration. I removed this because it&lt;br/&gt;
is doublicate (also contained in the XML howto where I think it belongs).&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341373">CONFIGURATION-115</key>
            <summary>[configuration]Documentation updates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Mar 2004 02:05:30 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406372" author="oliver.heger@t-online.de" created="Mon, 29 Mar 2004 02:06:15 +0000"  >&lt;p&gt;Created an attachment (id=11023)&lt;br/&gt;
Documentation patch&lt;/p&gt;</comment>
                            <comment id="12406373" author="dep4b" created="Mon, 29 Mar 2004 03:59:42 +0000"  >&lt;p&gt;Oliver, I&apos;ve applied the patches, thanks a bunch!  I will upload the site &lt;br/&gt;
tonight.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332851" name="ASF.LICENSE.NOT.GRANTED--howto.txt" size="18285" author="oheger" created="Mon, 29 Mar 2004 02:06:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Mar 2004 03:59:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169919</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-114] [configuration] Saving XML configurations to another file</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-114</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The two XML configurations (DOMConfiguration &amp;amp; DOM4JConfiguration) cannot be&lt;br/&gt;
saved to another file, unlike PropertiesConfiguration they do not provide a&lt;br/&gt;
save(String filename) method to save the configuration to another file.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341533">CONFIGURATION-114</key>
            <summary>[configuration] Saving XML configurations to another file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Jun 2004 23:46:01 +0000</created>
                <updated>Tue, 16 May 2006 12:23:55 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:23:55 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406904" author="brentworden" created="Thu, 24 Jun 2004 00:19:11 +0000"  >&lt;p&gt;Created an attachment (id=11930)&lt;br/&gt;
Patch providing save method to the XML configurations.&lt;/p&gt;</comment>
                            <comment id="12406905" author="ebourg" created="Tue, 6 Jul 2004 19:15:12 +0000"  >&lt;p&gt;Thank you for the patch Brent, I&apos;ll merge it once the refactoring of the xml&lt;br/&gt;
configurations is completed.&lt;/p&gt;</comment>
                            <comment id="12406906" author="ebourg" created="Tue, 13 Jul 2004 21:17:13 +0000"  >&lt;p&gt;Fixed, I didn&apos;t apply the patch though, I reused the methods of&lt;br/&gt;
BasePropertiesConfiguration instead.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332958" name="ASF.LICENSE.NOT.GRANTED--dom-save.diff" size="6437" author="brentworden" created="Thu, 24 Jun 2004 00:19:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29721</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 Jun 2004 00:19:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169829</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-113] [configuration] The Iterator returned by getKeys() should support remove()</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-113</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Calling the remove() method on an iterator returned by getKeys() or&lt;br/&gt;
getKeys(String) should remove the property from the configuration. This is not&lt;br/&gt;
supported by CompositeConfiguration, JNDIConfiguration, DatabaseConfiguration&lt;br/&gt;
and maybe HierarchicalConfiguration.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342102">CONFIGURATION-113</key>
            <summary>[configuration] The Iterator returned by getKeys() should support remove()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Mar 2005 21:02:35 +0000</created>
                <updated>Tue, 16 May 2006 12:15:50 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:15:50 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408851" author="oliver.heger@t-online.de" created="Thu, 10 Mar 2005 03:55:00 +0000"  >&lt;p&gt;Not a big blocker I would say.&lt;/p&gt;

&lt;p&gt;Well, if this feature is desired, a possible solution would be to let&lt;br/&gt;
AbstractConfiguration return a special (non public) ConfigurationIterator, which&lt;br/&gt;
wraps an iterator obtained from a concrete sub class. This special iterator&lt;br/&gt;
implementation could store a reference to the associated Configuration object&lt;br/&gt;
and route the remove() method to this configuration&apos;s clearProperty() method.&lt;/p&gt;

&lt;p&gt;I think, it is important that the removal is done by the clearProperty() method&lt;br/&gt;
itself (so I am not too content that remove is supported by some Configuration&lt;br/&gt;
classes directly) because there might be other actions associated with this. One&lt;br/&gt;
example would be observable configurations where a removal of a property should&lt;br/&gt;
cause an event to be fired.&lt;/p&gt;</comment>
                            <comment id="12408852" author="oliver.heger@t-online.de" created="Thu, 7 Apr 2005 02:35:12 +0000"  >&lt;p&gt;I will try to implement the wrapper iterator approach. Because&lt;br/&gt;
AbstractConfiguration.getKeys() will then contain some logic, this requires a&lt;br/&gt;
new abstract method in AbstractConfiguration, say createIterator(). getKeys()&lt;br/&gt;
will delegate to this method and then create the wrapper iterator around the&lt;br/&gt;
obtained iterator. The getKeys() method in derived classes will have to be&lt;br/&gt;
renamed to createIterator().&lt;/p&gt;</comment>
                            <comment id="12408853" author="ebourg" created="Thu, 7 Apr 2005 02:45:14 +0000"  >&lt;p&gt;(In reply to comment #1)&lt;br/&gt;
&amp;gt; I think, it is important that the removal is done by the clearProperty() method&lt;br/&gt;
&amp;gt; itself (so I am not too content that remove is supported by some Configuration&lt;br/&gt;
&amp;gt; classes directly) because there might be other actions associated with this. One&lt;br/&gt;
&amp;gt; example would be observable configurations where a removal of a property should&lt;br/&gt;
&amp;gt; cause an event to be fired.&lt;/p&gt;

&lt;p&gt;How do plan to implement that ? If the configuration is based on a Collection&lt;br/&gt;
like BaseConfiguration, you&apos;ll get a ConcurrentModificationException on calling&lt;br/&gt;
clearProperty from the Iterator. What about firing an event in the remove()&lt;br/&gt;
method instead of calling clearProperty() ?&lt;/p&gt;</comment>
                            <comment id="12408854" author="oliver.heger@t-online.de" created="Thu, 7 Apr 2005 02:55:25 +0000"  >&lt;p&gt;I am aware of the concurrent modification exceptions. I already added a note to&lt;br/&gt;
the comment of the new createIterator() method that the returned iterator must&lt;br/&gt;
be able to deal with that. So for BaseConfiguration it might be necessary to&lt;br/&gt;
copy the map&apos;s keyset into another collection first.&lt;/p&gt;

&lt;p&gt;The problem with clearProperty() is that it may become arbitrary complex in a&lt;br/&gt;
specific implementation. Firing an event was just one example, another one would&lt;br/&gt;
be the autosave feature. I don&apos;t want to doublicate this logic in the iterator.&lt;/p&gt;</comment>
                            <comment id="12408855" author="ebourg" created="Thu, 7 Apr 2005 03:20:44 +0000"  >&lt;p&gt;I would prefer duplicating the logic rather than duplicating the keys when possible.&lt;/p&gt;

&lt;p&gt;Good point for the auto save feature, I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-73&quot; title=&quot;[configuration] Auto save is not triggered on calling getKeys().remove()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-73&quot;&gt;&lt;del&gt;COM-2009&lt;/del&gt;&lt;/a&gt; to cover this issue.&lt;/p&gt;</comment>
                            <comment id="12408856" author="oliver.heger@t-online.de" created="Thu, 7 Apr 2005 03:28:23 +0000"  >&lt;p&gt;Well, if copying the keys is a problem, the iterator returned by&lt;br/&gt;
AbstractConfiguration could work in a &quot;deferred mode&quot;, i.e. as long as remove()&lt;br/&gt;
is not called, the wrapped iterator is directly accessed. The first call to&lt;br/&gt;
remove will copy all remaining keys into an internal collection, which is then&lt;br/&gt;
iterated.&lt;/p&gt;

&lt;p&gt;Adding the clearProperty() logic to the iterator will not only lead to &quot;smelly&quot;&lt;br/&gt;
code, this is also something that simply gets forgotten when implementing&lt;br/&gt;
another Configuration class.&lt;/p&gt;</comment>
                            <comment id="12408857" author="oliver.heger@t-online.de" created="Thu, 7 Apr 2005 04:20:47 +0000"  >&lt;p&gt;Created an attachment (id=14634)&lt;br/&gt;
First implementation for discussion&lt;/p&gt;

&lt;p&gt;This is a first patch, which implements a ConfigurationIterator in&lt;br/&gt;
AbstractConfiguration. It is not yet finished, some classes derived from&lt;br/&gt;
AbstractConfiguration are not yet covered. This is intended for discussion&lt;br/&gt;
only.&lt;/p&gt;

&lt;p&gt;Comments?&lt;/p&gt;</comment>
                            <comment id="12408858" author="oliver.heger@t-online.de" created="Sun, 17 Apr 2005 23:45:34 +0000"  >&lt;p&gt;No comments? I would like to finish and commit this.&lt;/p&gt;</comment>
                            <comment id="12408859" author="ebourg" created="Mon, 18 Apr 2005 16:16:55 +0000"  >&lt;p&gt;Sorry I haven&apos;t got the time to review it thoroughly yet. Could we put this on&lt;br/&gt;
hold until the other issues are fixed ? This isn&apos;t a top priority bug, but just&lt;br/&gt;
a minor consistency point.&lt;/p&gt;</comment>
                            <comment id="12408860" author="oliver.heger@t-online.de" created="Sun, 26 Jun 2005 00:00:39 +0000"  >&lt;p&gt;With this issue floating around for a while I changed my mind. The patch I&lt;br/&gt;
provided would solve the problem, but it would also break code that inherits&lt;br/&gt;
from AbstractConfiguration (by introducing a new abstract method) - by following&lt;br/&gt;
some recent discussions on the dev list I am now much more concerned about&lt;br/&gt;
backwards compatibility.&lt;/p&gt;

&lt;p&gt;Because I don&apos;t consider this remove() feature of an iterator as an important&lt;br/&gt;
one I tend to resolve this issue by only adding a comment to the getKeys()&lt;br/&gt;
method stating in an implementation note that calling remove() on a returned&lt;br/&gt;
iterator will probably not work on most concrete implementations and if it&lt;br/&gt;
works, it is no real replacement for calling a configuration&apos;s clearProperty()&lt;br/&gt;
method.&lt;/p&gt;

&lt;p&gt;I doubt whether this undocumented remove feature is often used. By adding this&lt;br/&gt;
warning to the documentation we won&apos;t break existing code, but we state clearly&lt;br/&gt;
that usage might cause problems in the future. With this approach I would also&lt;br/&gt;
resolve the related issue 34333.&lt;/p&gt;

&lt;p&gt;Other opinions?&lt;/p&gt;</comment>
                            <comment id="12408861" author="oliver.heger@t-online.de" created="Mon, 29 Aug 2005 03:20:51 +0000"  >&lt;p&gt;I added a corresponding note to the method comment of the getKeys() method in&lt;br/&gt;
the Configuration interface. Closing this now as wontfix, feel free to reopen if&lt;br/&gt;
you have a better solution.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333411" name="ASF.LICENSE.NOT.GRANTED--patch.txt" size="13291" author="oheger" created="Thu, 7 Apr 2005 04:20:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33926</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Mar 2005 03:55:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110693</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0th1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170070</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-112] [configuration] JNDI prefix can&apos;t be changed once getContext() has been called</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-112</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;In JNDIConfiguration, the prefix is used only once when getContext() is called&lt;br/&gt;
for the first time. Once the context is initialized, changing the prefix has no&lt;br/&gt;
effect, the old one is always used.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341741">CONFIGURATION-112</key>
            <summary>[configuration] JNDI prefix can&apos;t be changed once getContext() has been called</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Sep 2004 22:20:30 +0000</created>
                <updated>Tue, 16 May 2006 12:20:27 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:20:27 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407628" author="ebourg" created="Wed, 22 Sep 2004 00:20:57 +0000"  >&lt;p&gt;Fixed!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169885</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-111] [configuration] addProperty throws a NPE in XMLConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-111</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The method addProperty in DOMConfiguration throws a NullPointerException if the&lt;br/&gt;
configuration file hasn&apos;t been loaded.&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at&lt;br/&gt;
org.apache.commons.configuration.DOMConfiguration.setXmlProperty(DOMConfiguration.java:254)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.commons.configuration.DOMConfiguration.addProperty(DOMConfiguration.java:225)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341534">CONFIGURATION-111</key>
            <summary>[configuration] addProperty throws a NPE in XMLConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Jun 2004 23:51:48 +0000</created>
                <updated>Tue, 16 May 2006 12:23:54 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:23:54 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406907" author="ebourg" created="Tue, 22 Jun 2004 16:08:08 +0000"  >&lt;p&gt;Same issue with DOM4JConfiguration since the document is only initialized when&lt;br/&gt;
the load() method is called.&lt;/p&gt;</comment>
                            <comment id="12406908" author="ebourg" created="Mon, 12 Jul 2004 21:42:58 +0000"  >&lt;p&gt;Fixed, an empty document with a &quot;configuration&quot; element is now created in the&lt;br/&gt;
default constructor.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29722</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169826</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-110] [configuration] CompositeConfiguration getList doesn&apos;t return all property values</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-110</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The getList method returns the values only for the first&lt;br/&gt;
configuration containing the key. It seems like it should&lt;br/&gt;
collect the values from all configurations in the composite.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342419">CONFIGURATION-110</key>
            <summary>[configuration] CompositeConfiguration getList doesn&apos;t return all property values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bate@technoetic.com">Steve Bate</reporter>
                        <labels>
                    </labels>
                <created>Sun, 31 Jul 2005 05:16:11 +0000</created>
                <updated>Tue, 16 May 2006 12:11:02 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:11:02 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409951" author="ebourg" created="Wed, 3 Aug 2005 00:16:15 +0000"  >&lt;p&gt;Hi Steve, this is actually the intend of this configuration. Sorry if it is&lt;br/&gt;
misnamed, ChainedConfiguration or CascadedConfiguration would be more appropriate.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Aug 2005 00:16:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110690</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170153</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-109] [configuration] XMLConfiguration partially supports List properties</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-109</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;XMLConfiguration doesn&apos;t fully support list properties, while you can call&lt;br/&gt;
addProperty with the same key several times to build a list of values, you can&apos;t&lt;br/&gt;
call addProperty directly with a List value, it results in a ClassCastException&lt;br/&gt;
when setXmlProperty tries to cast it into a String to create the text node.&lt;/p&gt;

&lt;p&gt;List list = new ArrayList();&lt;br/&gt;
list.add(&quot;value1&quot;);&lt;br/&gt;
list.add(&quot;value2&quot;);&lt;/p&gt;

&lt;p&gt;conf.addProperty(&quot;test.list&quot;, list);&lt;/p&gt;

&lt;p&gt;Also list properties are not saved properly, the values are concatenated like this:&lt;/p&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
  &amp;lt;test&amp;gt;&lt;br/&gt;
    &amp;lt;list&amp;gt;value1value2&amp;lt;/list&amp;gt;&lt;br/&gt;
  &amp;lt;/test&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;The list should appear like this instead:&lt;/p&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
  &amp;lt;test&amp;gt;&lt;br/&gt;
    &amp;lt;list&amp;gt;value1&amp;lt;/list&amp;gt;&lt;br/&gt;
    &amp;lt;list&amp;gt;value2&amp;lt;/list&amp;gt;&lt;br/&gt;
  &amp;lt;/test&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;


&lt;p&gt;Last issue identified, if the list is stored in an attribute:&lt;/p&gt;

&lt;p&gt;conf.addProperty(&quot;test.attribute&lt;span class=&quot;error&quot;&gt;&amp;#91;@list&amp;#93;&lt;/span&gt;&quot;, &quot;value1&quot;);&lt;br/&gt;
conf.addProperty(&quot;test.attribute&lt;span class=&quot;error&quot;&gt;&amp;#91;@list&amp;#93;&lt;/span&gt;&quot;, &quot;value2&quot;);&lt;/p&gt;

&lt;p&gt;only the last element is saved:&lt;/p&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
  &amp;lt;test&amp;gt;&lt;br/&gt;
    &amp;lt;attribute list=&quot;value2&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;/test&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;It is preferable to write the list as comma separated values:&lt;/p&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
  &amp;lt;test&amp;gt;&lt;br/&gt;
    &amp;lt;attribute list=&quot;value1, value2&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;/test&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341568">CONFIGURATION-109</key>
            <summary>[configuration] XMLConfiguration partially supports List properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jul 2004 18:29:44 +0000</created>
                <updated>Tue, 16 May 2006 12:23:19 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:23:19 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406999" author="rgladwell" created="Wed, 11 Aug 2004 22:34:38 +0000"  >&lt;p&gt;Created an attachment (id=12394)&lt;br/&gt;
Ignore last patch: use this one instead.&lt;/p&gt;</comment>
                            <comment id="12407000" author="dep4b" created="Thu, 12 Aug 2004 23:44:17 +0000"  >&lt;p&gt;I believe that your other patch fixed this issue..  Marking as invalid.&lt;/p&gt;</comment>
                            <comment id="12407001" author="ebourg" created="Mon, 16 Aug 2004 04:39:34 +0000"  >&lt;p&gt;If this bug is fixed I&apos;m changing the resolution to fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332979" name="ASF.LICENSE.NOT.GRANTED--commons-configuration.bug30598.patch.txt" size="2443" author="rgladwell" created="Wed, 11 Aug 2004 22:34:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Aug 2004 22:34:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33877</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tflz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-108] [configuration] xmlconf: items under root element are duplicated on save</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-108</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;using XMLConfiguration, when i save the configuration to a file, all child&lt;br/&gt;
elements of the root element are duplicated, besides elements which i&apos;ve&lt;br/&gt;
modified using clearTree(&quot;peer&quot;); then add... and then save. those items are not&lt;br/&gt;
duplicated.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Linux&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342714">CONFIGURATION-108</key>
            <summary>[configuration] xmlconf: items under root element are duplicated on save</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="junk@u812.net">eyal lior</reporter>
                        <labels>
                    </labels>
                <created>Sun, 13 Nov 2005 10:58:12 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:41 +0000</updated>
                            <resolved>Sat, 22 Aug 2009 19:36:41 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410877" author="oliver.heger@t-online.de" created="Mon, 14 Nov 2005 00:03:11 +0000"  >&lt;p&gt;Could you please provide a code fragment that demonstrates what you do (or even&lt;br/&gt;
better: a JUnit test case)? Do you create a new configuration from scratch or do&lt;br/&gt;
you load it from a file?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12410878" author="junk@u812.net" created="Mon, 14 Nov 2005 05:18:09 +0000"  >&lt;p&gt;my bad. i did new XMLConfiguration(file) and then config.load();&lt;br/&gt;
which made the items become duplicate. whenever i updated an item all it&apos;s&lt;br/&gt;
instances would get removed and one added. the rest stayed dups.&lt;/p&gt;

&lt;p&gt;simple.&lt;/p&gt;

&lt;p&gt;load() should not create duplicates i think but my bad anyways.&lt;/p&gt;</comment>
                            <comment id="12410879" author="oliver.heger@t-online.de" created="Mon, 14 Nov 2005 21:18:55 +0000"  >&lt;p&gt;The Javadocs for AbstractFileConfiguration describe the behavior of the load()&lt;br/&gt;
methods:&lt;/p&gt;

&lt;p&gt;&quot;Note that the load() methods do not wipe out the configuration&apos;s content before&lt;br/&gt;
the new configuration file is loaded. Thus it is very easy to construct a union&lt;br/&gt;
configuration by simply loading multiple configuration files &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;.&quot;&lt;/p&gt;

&lt;p&gt;But maybe this is not demonstrative enough? Will see if I can add similar&lt;br/&gt;
paragraphs to AbstractHierarchicalFileConfiguration and perhaps&lt;br/&gt;
XMLConfiguration, too.&lt;/p&gt;

&lt;p&gt;Okay, this bug can be closed now. Thanks for your feedback.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Nov 2005 00:03:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110689</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uqwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-107] [configuration] AbstractFileConfiguration.getFile() returns incorrect file object</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-107</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;This is true of all file operations, such as getPath() etc.&lt;/p&gt;

&lt;p&gt;Running from Netbeans 5.0 beta:&lt;/p&gt;

&lt;p&gt;I have a configuration file called mcc.properties that is located under the&lt;br/&gt;
default package under source packages in NB. When I unit test this, it reads the&lt;br/&gt;
configuration file correctly but when I add an item and save it, it creates a&lt;br/&gt;
new file under the project directory. Adding a few println statements, I find&lt;br/&gt;
that the  File object returned by getFile() is not the file object that could&lt;br/&gt;
have been used to load my properties file because its pointing to a different&lt;br/&gt;
file altogether.&lt;/p&gt;

&lt;p&gt;So, netbeans puts its output, after compilation, under a directory called&lt;br/&gt;
&apos;framework/build/classes&apos; where framework is my top level directory. My&lt;br/&gt;
properties file is located in the classes directory,&lt;br/&gt;
&apos;framework\build\classes\mcc.properties&apos;. After I load it in junit and do a&lt;br/&gt;
config.getPath () it returns &apos;framework\mcc.properties&apos; as the location of my&lt;br/&gt;
file, which is wrong. If I do some additions to the property file and save it,&lt;br/&gt;
it saves it in &apos;framework\mcc.properties&apos; so I land up with two property files.&lt;/p&gt;

&lt;p&gt;It seems this file handling stuff is done in AbstractFileConfiguration so I&lt;br/&gt;
guess the problem is in there.&lt;/p&gt;

&lt;p&gt;//loads from framework\build\classes\mcc.properties&lt;br/&gt;
config = new PropertiesConfiguration(&quot;mcc.properties&quot;);&lt;/p&gt;

&lt;p&gt;System.out.println(&quot;FileName: &quot; + config.getPath ());&lt;br/&gt;
//returns framework\mcc.properties - WRONG!&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342693">CONFIGURATION-107</key>
            <summary>[configuration] AbstractFileConfiguration.getFile() returns incorrect file object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pds1602@yahoo.co.uk">pds1602</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Nov 2005 00:33:23 +0000</created>
                <updated>Tue, 16 May 2006 12:07:57 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:07:57 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410818" author="pds1602@yahoo.co.uk" created="Wed, 9 Nov 2005 02:18:56 +0000"  >&lt;p&gt;OK, here is what happens:&lt;/p&gt;

&lt;p&gt;AbstractFileConfiguration(String fileName) is called as&lt;br/&gt;
AbstractFileConfiguration(&quot;mcc.properties&quot;). This calls setPath(fileName) and&lt;br/&gt;
then load(). &lt;/p&gt;

&lt;p&gt;setPath(fileName) calls setFile(filename) which is where things start going&lt;br/&gt;
wrong because setfile(fileName) calls setFileName() and setBasePath() but we&lt;br/&gt;
can&apos;t do this because we will only know the actual (i.e. real) basepath &lt;b&gt;after&lt;/b&gt;&lt;br/&gt;
we call load(). So to fix it, load() should update the basepath with the value&lt;br/&gt;
from the URL.&lt;/p&gt;

&lt;p&gt;The following works for me and can be added either in the constructor or at the&lt;br/&gt;
end of the load() method:&lt;/p&gt;

&lt;p&gt;URL url = ConfigurationUtils.locate( getBasePath(), getFileName());&lt;br/&gt;
setPath(url.toURI().getPath ());&lt;/p&gt;</comment>
                            <comment id="12410819" author="oliver.heger@t-online.de" created="Wed, 9 Nov 2005 15:45:09 +0000"  >&lt;p&gt;Could you please try again with the latest version from SVN? This issue should&lt;br/&gt;
have been fixed in the meanwhile.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12410820" author="pds1602@yahoo.co.uk" created="Wed, 9 Nov 2005 19:48:01 +0000"  >&lt;p&gt;Sorry, I don&apos;t know my way arounf the source. Where is the changed file?&lt;/p&gt;</comment>
                            <comment id="12410821" author="oliver.heger@t-online.de" created="Wed, 9 Nov 2005 21:23:49 +0000"  >&lt;p&gt;There have been many changes since the 1.1 release, in fact we are moving&lt;br/&gt;
towards the 1.2 release.&lt;/p&gt;

&lt;p&gt;Usually the best way to obtain the newest sources is to make a checkout from SVN&lt;br/&gt;
and build the jar yourself (using ant or maven). Instructions can be found here:&lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/site/cvsindex.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/site/cvsindex.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We have also nightly builds, but for some reason the binary builds for&lt;br/&gt;
configuration are broken ATM.&lt;/p&gt;

&lt;p&gt;I am closing this ticket now. Feel free to reopen if the problem exists with the&lt;br/&gt;
newest version, too.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Nov 2005 15:45:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110688</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170167</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-106] [configuration] XMLConfiguration.save() does not keep element hierarchy</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-106</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I am using commons.configuration.XMLConfiguration to save some configuration&lt;br/&gt;
elements of my Java 1.4.2 application in a file. If I use nested elements in my&lt;br/&gt;
configuration, this structure is not mapped to the saved XML-File.&lt;/p&gt;

&lt;p&gt;As an example, consider the following simple main method:&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) {&lt;br/&gt;
        try &lt;/p&gt;
{
        XMLConfiguration myXMLConfig = new XMLConfiguration();
        myXMLConfig.setProperty(&quot;A&quot;,&quot;valueA&quot;);
        myXMLConfig.setProperty(&quot;A.B&quot;,&quot;valueA.B&quot;);
        myXMLConfig.setProperty(&quot;A.B.C.D&quot;,&quot;valueA.B.C.D&quot;);
        myXMLConfig.setProperty(&quot;E.F.G.H&quot;,&quot;valueE.F.G.H&quot;);
        myXMLConfig.setProperty(&quot;I.J.K.L&quot;,&quot;valueI.J.K.L&quot;);
        myXMLConfig.setProperty(&quot;I.J.K&quot;,null);
        myXMLConfig.setProperty(&quot;I.J&quot;,null);
        myXMLConfig.setProperty(&quot;I&quot;,null);
        myXMLConfig.save(&quot;testConfig.xml&quot;);
        }
&lt;p&gt; catch (ConfigurationException e) &lt;/p&gt;
{
            System.out.println(&quot;ERROR: &quot; + e.toString());
        }
&lt;p&gt;    }&lt;/p&gt;

&lt;p&gt;What I expect to get by executing this piece of code is the following (modulo&lt;br/&gt;
formatting issues, of course):&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;configuration&amp;gt;&lt;br/&gt;
&amp;lt;A&amp;gt; valueA&lt;br/&gt;
  &amp;lt;B&amp;gt; valueB&lt;br/&gt;
    &amp;lt;C&amp;gt;&lt;br/&gt;
      &amp;lt;D&amp;gt; valueD&lt;br/&gt;
      &amp;lt;/D&amp;gt;&lt;br/&gt;
   &amp;lt;/C&amp;gt;&lt;br/&gt;
  &amp;lt;/B&amp;gt;&lt;br/&gt;
&amp;lt;/A&amp;gt;&lt;br/&gt;
&amp;lt;E&amp;gt;&lt;br/&gt;
  &amp;lt;F&amp;gt;&lt;br/&gt;
    &amp;lt;G&amp;gt;&lt;br/&gt;
      &amp;lt;H&amp;gt; valueE.F.G.H&lt;br/&gt;
      &amp;lt;/H&amp;gt;&lt;br/&gt;
   &amp;lt;/G&amp;gt;&lt;br/&gt;
  &amp;lt;/F&amp;gt;&lt;br/&gt;
&amp;lt;/E&amp;gt;&lt;br/&gt;
&amp;lt;I&amp;gt; null&lt;br/&gt;
  &amp;lt;J&amp;gt; null&lt;br/&gt;
    &amp;lt;K&amp;gt; null&lt;br/&gt;
      &amp;lt;L&amp;gt; valueI.J.K.L&lt;br/&gt;
      &amp;lt;/L&amp;gt;&lt;br/&gt;
    &amp;lt;/K&amp;gt;&lt;br/&gt;
  &amp;lt;/J&amp;gt;&lt;br/&gt;
&amp;lt;/I&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;The null-values in I.J.K and so on have only been introduced to show that such a&lt;br/&gt;
workarund does not work, either.&lt;br/&gt;
What I actually receive by storing testConfig.xml is the following:&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;configuration&amp;gt;&lt;br/&gt;
&amp;lt;A&amp;gt;valueA&amp;lt;B&amp;gt;valueA.B&amp;lt;D&amp;gt;valueA.B.C.D&amp;lt;/D&amp;gt;&lt;br/&gt;
&amp;lt;/B&amp;gt;&lt;br/&gt;
&amp;lt;/A&amp;gt;&lt;br/&gt;
&amp;lt;H&amp;gt;valueE.F.G.H&amp;lt;/H&amp;gt;&lt;br/&gt;
&amp;lt;L&amp;gt;valueI.J.K.L&amp;lt;/L&amp;gt;&lt;br/&gt;
&amp;lt;K&amp;gt;null&amp;lt;/K&amp;gt;&lt;br/&gt;
&amp;lt;J&amp;gt;null&amp;lt;/J&amp;gt;&lt;br/&gt;
&amp;lt;I&amp;gt;null&amp;lt;/I&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;In my opinion, at least two failures can be seen above:&lt;br/&gt;
 a) The elements I, J, K, and L are not nested, but all declared on top level of&lt;br/&gt;
the XML-document&lt;br/&gt;
 b) Elements without any value are not automatically inserted as, e.g., element&lt;br/&gt;
C for the path A.B.C.D or elements E, F, and G for E.F.G.H&lt;/p&gt;

&lt;p&gt;I also tried to use HierarchicalXMLConfiguration, but corresponding objects can&lt;br/&gt;
not be saved:&lt;br/&gt;
ERROR: org.apache.commons.configuration.ConfigurationException: Can&apos;t save&lt;br/&gt;
HierarchicalXMLConfigurations&lt;/p&gt;

&lt;p&gt;I am using the final Version 1.0 (not RC1 nor RC2) JAR-Files provied by&lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/commons/configuration/downloads.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/commons/configuration/downloads.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Best regards,&lt;/p&gt;

&lt;p&gt;Christian Kemmer&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341874">CONFIGURATION-106</key>
            <summary>[configuration] XMLConfiguration.save() does not keep element hierarchy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="christian.kemmer@viadee.de">Christian Kemmer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Nov 2004 19:08:33 +0000</created>
                <updated>Tue, 16 May 2006 12:18:05 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:18:05 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408035" author="christian.kemmer@viadee.de" created="Wed, 8 Dec 2004 17:25:12 +0000"  >&lt;p&gt;I reported this bug about four weeks ago. Has there been any work on this during&lt;br/&gt;
the last few weeks? I am just interested in whether I can rely on getting this&lt;br/&gt;
bug fixed in the near future.&lt;/p&gt;

&lt;p&gt;Best regdards,&lt;/p&gt;

&lt;p&gt;Christian Kemmer&lt;/p&gt;</comment>
                            <comment id="12408036" author="oliver.heger@t-online.de" created="Wed, 8 Dec 2004 18:08:11 +0000"  >&lt;p&gt;An implementation of the save() method was added to&lt;br/&gt;
HierarchicalXMLConfiguration. Maybe you can give it a try.&lt;/p&gt;

&lt;p&gt;I have some plans to combine the two XMLConfiguration classes, taking the best&lt;br/&gt;
of both. This needs a little experimenting though, so I cannot promise anything&lt;br/&gt;
concrete. But I am going to have a look at it on the coming weekend.&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</comment>
                            <comment id="12408037" author="chrisw@sptech.com" created="Wed, 15 Dec 2004 07:28:37 +0000"  >&lt;p&gt;I tried the HierachicalXMLConfiguration.&lt;/p&gt;

&lt;p&gt;I get the following when I try to save:&lt;/p&gt;

&lt;p&gt;java.lang.UnsupportedOperationException: Can&apos;t save &lt;br/&gt;
HierarchicalXMLConfigurations&lt;br/&gt;
	at org.apache.commons.configuration.HierarchicalXMLConfiguration.save&lt;br/&gt;
(HierarchicalXMLConfiguration.java:199)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.commons.configuration.HierarchicalXMLConfiguration$FileConfiguration&lt;br/&gt;
Delegate.save(HierarchicalXMLConfiguration.java:251)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.save&lt;br/&gt;
(AbstractFileConfiguration.java:324)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.save&lt;br/&gt;
(AbstractFileConfiguration.java:292)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.save&lt;br/&gt;
(AbstractFileConfiguration.java:260)&lt;br/&gt;
	at org.apache.commons.configuration.AbstractFileConfiguration.save&lt;br/&gt;
(AbstractFileConfiguration.java:241)&lt;br/&gt;
	at org.apache.commons.configuration.HierarchicalXMLConfiguration.save&lt;br/&gt;
(HierarchicalXMLConfiguration.java:184)&lt;br/&gt;
	at config.ConfigUpdate.&amp;lt;init&amp;gt;(ConfigUpdate.java:54)&lt;br/&gt;
	at config.ConfigUpdate.main(ConfigUpdate.java:65)&lt;br/&gt;
Exception in thread &quot;main&quot; &lt;/p&gt;</comment>
                            <comment id="12408038" author="ebourg" created="Wed, 15 Dec 2004 09:13:38 +0000"  >&lt;p&gt;Chris, did you try with the latest nightly build ?&lt;/p&gt;</comment>
                            <comment id="12408039" author="christian.kemmer@viadee.de" created="Wed, 15 Dec 2004 16:52:28 +0000"  >&lt;p&gt;Hi Oliver,&lt;br/&gt;
hi Emmanuel,&lt;/p&gt;

&lt;p&gt;I cannot compile the latest sources (from 2004-12-14) due to the following &lt;br/&gt;
error:&lt;/p&gt;

&lt;p&gt;compile:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 41 source files to E:\TEMP\commons-configuration-src-&lt;br/&gt;
20041214\commons-configuration\target\classes&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; E:\TEMP\commons-configuration-src-20041214\commons-&lt;br/&gt;
configuration\src\java\org\apache\commons\configuration\AbstractConfiguration&lt;br/&gt;
.java:149: cannot resolve symbol&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : method arrayIterator (java.lang.Object)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: class org.apache.commons.collections.IteratorUtils&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;             return fetchInsertIterator(IteratorUtils.arrayIterator&lt;br/&gt;
(token));&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                                                     ^&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 1 error&lt;/p&gt;

&lt;p&gt;The required libraries, including commons-collections-3.0.jar, have been &lt;br/&gt;
downloaded by ant before.&lt;/p&gt;

&lt;p&gt;So, I am not able to test the new version of HierarchicalXMLConfiguration. Or &lt;br/&gt;
is there a link to a pre-compiled nightly build, that I missed? I am not &lt;br/&gt;
familiar with the developing process of jakarta-commons as I am only trying to &lt;br/&gt;
use the configuration library for my program.&lt;/p&gt;

&lt;p&gt;Best regards,&lt;/p&gt;

&lt;p&gt;Christian&lt;/p&gt;</comment>
                            <comment id="12408040" author="oliver.heger@t-online.de" created="Wed, 15 Dec 2004 17:15:57 +0000"  >&lt;p&gt;This is strange.&lt;/p&gt;

&lt;p&gt;We are using maven for building per default. So it may be possible that the ant&lt;br/&gt;
build file is a bit out of date. Is there any chance that you can try maven&lt;br/&gt;
(&lt;a href=&quot;http://maven.apache.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/&lt;/a&gt;) instead?&lt;/p&gt;

&lt;p&gt;I am also not sure why there are no nightly binaries available for&lt;br/&gt;
configuration, but probably for the same reasons.&lt;/p&gt;

&lt;p&gt;HTH&lt;br/&gt;
Oliver&lt;/p&gt;</comment>
                            <comment id="12408041" author="christian.kemmer@viadee.de" created="Wed, 15 Dec 2004 17:42:16 +0000"  >&lt;p&gt;Hi Oliver,&lt;/p&gt;

&lt;p&gt;thanks a lot for that remark. The build from&lt;br/&gt;
commons-configuration-src-20041214.zip has completed without any problems now.&lt;/p&gt;

&lt;p&gt;And, in advance, saving HierarchicalXMLConfigurations really seems to work now.&lt;/p&gt;

&lt;p&gt;I have tried the following main method:&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) {&lt;br/&gt;
        try &lt;/p&gt;
{
            HierarchicalXMLConfiguration myHierarchicalXMLConfig = new
HierarchicalXMLConfiguration();
            myHierarchicalXMLConfig.setProperty(&quot;A&quot;, &quot;valueA&quot;);
            myHierarchicalXMLConfig.setProperty(&quot;A.B&quot;, &quot;valueA.B&quot;);
            myHierarchicalXMLConfig.setProperty(&quot;A.B.C.D&quot;, &quot;valueA.B.C.D&quot;);
            myHierarchicalXMLConfig.setProperty(&quot;E.F.G.H&quot;, &quot;valueE.F.G.H&quot;);
            myHierarchicalXMLConfig.setProperty(&quot;I.J.K.L&quot;, &quot;valueI.J.K.L&quot;);
            myHierarchicalXMLConfig.setProperty(&quot;I.J.K&quot;, null);
            myHierarchicalXMLConfig.setProperty(&quot;I.J&quot;, null);
            myHierarchicalXMLConfig.setProperty(&quot;I&quot;, null);
            myHierarchicalXMLConfig.setProperty(&quot;A.B&quot;, &quot;NEWvalueA.B&quot;);
            myHierarchicalXMLConfig.save(&quot;testConfig.xml&quot;);
        }
&lt;p&gt; catch (ConfigurationException e) &lt;/p&gt;
{
            System.out.println(&quot;ERROR: &quot; + e.toString());
        }
&lt;p&gt;    }&lt;/p&gt;

&lt;p&gt;which gives me&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;configuration&amp;gt;&lt;br/&gt;
&amp;lt;A&amp;gt;valueA&amp;lt;B&amp;gt;NEWvalueA.B&amp;lt;C&amp;gt;&lt;br/&gt;
&amp;lt;D&amp;gt;valueA.B.C.D&amp;lt;/D&amp;gt;&lt;br/&gt;
&amp;lt;/C&amp;gt;&lt;br/&gt;
&amp;lt;/B&amp;gt;&lt;br/&gt;
&amp;lt;/A&amp;gt;&lt;br/&gt;
&amp;lt;E&amp;gt;&lt;br/&gt;
&amp;lt;F&amp;gt;&lt;br/&gt;
&amp;lt;G&amp;gt;&lt;br/&gt;
&amp;lt;H&amp;gt;valueE.F.G.H&amp;lt;/H&amp;gt;&lt;br/&gt;
&amp;lt;/G&amp;gt;&lt;br/&gt;
&amp;lt;/F&amp;gt;&lt;br/&gt;
&amp;lt;/E&amp;gt;&lt;br/&gt;
&amp;lt;I&amp;gt;&lt;br/&gt;
&amp;lt;J&amp;gt;&lt;br/&gt;
&amp;lt;K&amp;gt;&lt;br/&gt;
&amp;lt;L&amp;gt;valueI.J.K.L&amp;lt;/L&amp;gt;&lt;br/&gt;
&amp;lt;/K&amp;gt;&lt;br/&gt;
&amp;lt;/J&amp;gt;&lt;br/&gt;
&amp;lt;/I&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;


&lt;p&gt;This means that&lt;br/&gt;
a) elements are correctly nested now&lt;br/&gt;
b) elements without any value are inserted correctly now&lt;/p&gt;


&lt;p&gt;So, I say a big THANK YOU to you, Oliver, and to all others who helped resolving&lt;br/&gt;
this issue.&lt;/p&gt;

&lt;p&gt;I am changing the status of this issue to FIXED and just wait for the next&lt;br/&gt;
official release to come, including this fix.&lt;/p&gt;

&lt;p&gt;Best regards,&lt;/p&gt;

&lt;p&gt;Christian&lt;/p&gt;</comment>
                            <comment id="12408042" author="christian.kemmer@viadee.de" created="Wed, 22 Dec 2004 21:55:29 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-168&quot; title=&quot;[configuration] Messed file on saving an XMLConfiguration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-168&quot;&gt;&lt;del&gt;COM-1601&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32240</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Dec 2004 18:08:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-105] [configuration] setUrl and getUrl for FileConfiguration are incorrect</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-105</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;We use XMLConfiguration to store our application user preferences.&lt;br/&gt;
the preferences are persisted in a FileManager, which delivers the files using&lt;br/&gt;
the HTTP protocol.&lt;br/&gt;
As each user has its own preferences, the URL we use to get the preferences is :&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://server/ContentAcces?id=&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://server/ContentAcces?id=&lt;/a&gt;&amp;lt;the_id&amp;gt;&amp;amp;session=&amp;lt;session_id&amp;gt;&lt;/p&gt;

&lt;p&gt;As the code of setUrl in AbstractFileConfiguration is : &lt;/p&gt;

&lt;p&gt; public void setURL(URL url)&lt;/p&gt;
    {
        setBasePath(ConfigurationUtils.getBasePath(url));
        setFileName(ConfigurationUtils.getFileName(url));
    }

&lt;p&gt;the request parameters of the URL are not stored in the URL, and when getUrl is&lt;br/&gt;
called, null is returned, because the composed URL (&lt;a href=&quot;http://server/ContentAcces&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://server/ContentAcces&lt;/a&gt;)&lt;br/&gt;
cannot be opened.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342791">CONFIGURATION-105</key>
            <summary>[configuration] setUrl and getUrl for FileConfiguration are incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="e.lacazedieu@lectra.com">Etienne Lacazedieu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Dec 2005 20:55:55 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411063" author="oliver.heger@t-online.de" created="Thu, 15 Dec 2005 05:13:06 +0000"  >&lt;p&gt;You are right, this is a bug. In setURL() it was simply forgotten to store the&lt;br/&gt;
URL. Thanks for spotting this. Should now be fixed in SVN.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37886</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 15 Dec 2005 05:13:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-104] [configuration] Preserve file structure (line comments) when re-saving properties file</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-104</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;This bug applies when an application allows both manual editing of its &lt;br/&gt;
configuration files, and  manipulation of the configuration via software. When &lt;br/&gt;
saving the configuration file after changing, its file structure - file, &lt;br/&gt;
section and line comments - will all be lost. Next time a human tries to edit &lt;br/&gt;
the configuration file, all property documentation will be lost.&lt;/p&gt;

&lt;p&gt;I have created a fix for this problem, applicable to PropertiesConfiguration &lt;br/&gt;
and XMLPropertiesConfiguration. The fix allows these classes to preserve a &lt;br/&gt;
list of comment lines preceding each property line. By default, comments are &lt;br/&gt;
not preserved; in case the comment preservation is required, it should be &lt;br/&gt;
enabled prior to loading the configuration file using:&lt;/p&gt;

&lt;p&gt;AbstractFileConfiguration.setDefaultPreserveComments(true);&lt;/p&gt;


&lt;p&gt;The fix is implemented and tested, attached as a patch file to this bug.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12343007">CONFIGURATION-104</key>
            <summary>[configuration] Preserve file structure (line comments) when re-saving properties file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="oded.noam@adamind.com">Oded Noam</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Apr 2006 00:52:03 +0000</created>
                <updated>Thu, 20 Sep 2018 18:44:33 +0000</updated>
                            <resolved>Sat, 22 Jul 2006 17:09:45 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411695" author="oded.noam@adamind.com" created="Mon, 3 Apr 2006 00:53:17 +0000"  >&lt;p&gt;Created an attachment (id=18018)&lt;br/&gt;
Comment preservation mechanism for AbstractFileConfiguration and its&lt;br/&gt;
descendants&lt;/p&gt;</comment>
                            <comment id="12411696" author="oliver.heger@t-online.de" created="Tue, 11 Apr 2006 23:46:03 +0000"  >&lt;p&gt;Looks interesting. Thank you for your work!&lt;/p&gt;

&lt;p&gt;I think, Emmanuel Bourg also has some ideas in this area (see&lt;br/&gt;
&lt;a href=&quot;http://issues.apache.org/bugzilla/show_bug.cgi?id=38285#c3&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/bugzilla/show_bug.cgi?id=38285#c3&lt;/a&gt;). Maybe he can chime&lt;br/&gt;
in and comment about how your approach fits with his ideas?&lt;/p&gt;

&lt;p&gt;However there is one thing I noticed, which is problematic: Our target&lt;br/&gt;
environment is still JDK 1.3. You use some of the new regex facilities that are&lt;br/&gt;
not available in this JDK. So either the affected parts have to be re-written or&lt;br/&gt;
this patch cannot be applied before we drop support for JDK 1.3.&lt;/p&gt;</comment>
                            <comment id="12411697" author="oded.noam@adamind.com" created="Wed, 12 Apr 2006 01:23:41 +0000"  >&lt;p&gt;Created an attachment (id=18067)&lt;br/&gt;
Revised - java1.3 version of the patch&lt;/p&gt;

&lt;p&gt;You are right about the Java1.3 compliance issue. I fixed it.&lt;/p&gt;

&lt;p&gt;Of course, this is not exactly what Emmanuel Bourg dreamt about... But it could&lt;br/&gt;
be expanded to be good enough 90% of the times. Emmanuel Bourg&apos;s idea seems&lt;br/&gt;
nice, but I don&apos;t think it can be achieved without requiring the user to create&lt;br/&gt;
a formatting definitions file for each properties file. Maybe some enhancement&lt;br/&gt;
of my mechanism would be easier to use.&lt;/p&gt;</comment>
                            <comment id="12411698" author="ebourg" created="Wed, 12 Apr 2006 01:27:43 +0000"  >&lt;p&gt;Thanks for the patch ! &lt;/p&gt;

&lt;p&gt;There are several aspects to consider in order to preserve completly the file&lt;br/&gt;
structure:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the comments (property or section comments)&lt;/li&gt;
	&lt;li&gt;the blank lines&lt;/li&gt;
	&lt;li&gt;the order of the properties&lt;/li&gt;
	&lt;li&gt;the proper insertion of the new properties next to the similar properties&lt;/li&gt;
	&lt;li&gt;the format of the properties:&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;multiline or single line lists&lt;/li&gt;
	&lt;li&gt;decimal or hexadecimal numbers&lt;/li&gt;
	&lt;li&gt;text wrapped on multiple lines&lt;/li&gt;
	&lt;li&gt;etc&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;To handle this I&apos;d like to introduce a Layout class attached to the&lt;br/&gt;
configuration rather than overloading the class with more methods. This class&lt;br/&gt;
will maintain a List of the elements of the file. This list would look like this:&lt;/p&gt;

&lt;p&gt;    &amp;lt;comment: Configuration file for the Foo application&amp;gt;&lt;br/&gt;
    &amp;lt;blank line&amp;gt;&lt;br/&gt;
    &amp;lt;comment: Main properties&amp;gt;&lt;br/&gt;
    property: foo.key.a&lt;br/&gt;
    property: foo.key.b&lt;br/&gt;
    property: foo.key.bar.a&lt;br/&gt;
    &amp;lt;blank line&amp;gt;&lt;br/&gt;
    &amp;lt;comment: Secondary properties&amp;gt;&lt;br/&gt;
    property: bar.key.a&lt;br/&gt;
    property: bar.key.b&lt;br/&gt;
    property: bar.key.c&lt;/p&gt;

&lt;p&gt;Every time a property is added or removed from the configuration, the layout&lt;br/&gt;
will be notified and it will update the list accordingly. It will attempt to&lt;br/&gt;
group the properties by prefix. For example, if the foo.key.bar.b property is&lt;br/&gt;
added, it will look for the last property sharing the same prefix, that&apos;s&lt;br/&gt;
foo.key.bar.a, and insert it after:&lt;/p&gt;

&lt;p&gt;    ...&lt;br/&gt;
    property: foo.key.a&lt;br/&gt;
    property: foo.key.b&lt;br/&gt;
    property: foo.key.bar.a&lt;br/&gt;
    property: foo.key.bar.b&lt;br/&gt;
    ...&lt;/p&gt;

&lt;p&gt;If no similar property is found the property is added at the end of the list.&lt;/p&gt;

&lt;p&gt;For every property a format is attached, that&apos;s what specifies the property&lt;br/&gt;
specific details like the list format or the number format.&lt;/p&gt;

&lt;p&gt;It&apos;ll be possible to disable this feature if performance is more important than&lt;br/&gt;
the correctness of the file. Either by adding a flag to the layout, or by using&lt;br/&gt;
a NullLayout that would produce the same result we have today.&lt;/p&gt;
</comment>
                            <comment id="12411699" author="oded.noam@adamind.com" created="Wed, 12 Apr 2006 14:16:32 +0000"  >&lt;p&gt;I like the idea for the Layout class. But I see two problems with the fact &lt;br/&gt;
that the Layout object is initialized from a configuration file.&lt;/p&gt;

&lt;p&gt;First, it requires the application developer to create a layout configuration &lt;br/&gt;
file, in addition to default properties file (and, of course, to make sure the &lt;br/&gt;
two are compliant with each other). This is a small issue but I suspect that &lt;br/&gt;
this requirement might discourage 99% of the potential users of this feature.&lt;/p&gt;

&lt;p&gt;Second, since the layout of the file is not derived from the layout it had &lt;br/&gt;
before being parsed, re-saving it may result in re-ordering of the lines in &lt;br/&gt;
the file, thus making it harder to review the changes using diff (or CVS, for &lt;br/&gt;
that matter).&lt;/p&gt;

&lt;p&gt;On the other hand, using a layout configuration file will enable formatting of &lt;br/&gt;
properties added by the user, and accurate formatting of complex properties &lt;br/&gt;
(lists, multi-lines etc). Perhaps you know of applications that make a more &lt;br/&gt;
sophisticated use of properties files than I do, but in the applications I&apos;ve &lt;br/&gt;
seen, it is rare for an end user to make a big change to the properties file. &lt;br/&gt;
Usually an end user would only modify a couple of properties that are &lt;br/&gt;
specified in the file (or commented out). Same goes for configuration changes &lt;br/&gt;
made via software.&lt;/p&gt;

&lt;p&gt;Maybe the way to go is to create the Layout class, and have it initialized &lt;br/&gt;
from analyzing the parsed properties file. Such layout class would not be &lt;br/&gt;
complete, but in time we can add all kinds of heuristics for it to detect &lt;br/&gt;
things like multiline layout configuration, property groups etc.&lt;/p&gt;</comment>
                            <comment id="12419922" author="oliver.heger@t-online.de" created="Sun, 9 Jul 2006 23:20:16 +0000"  >&lt;p&gt;+1 for the idea of a Layout class that tries to obtain as much information as possible from the properties file. I would like to start with a rather simple one that can be enhanced step by step.&lt;/p&gt;

&lt;p&gt;The collaboration between a PropertiesConfiguration object and its Layout object could be as follows:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The load(Reader) method of PropertiesConfiguration delegates to the Layout object.&lt;/li&gt;
	&lt;li&gt;The Layout object reads the file line by line and stores relevant information, e.g. about comments, in internal data structures.&lt;/li&gt;
	&lt;li&gt;Extracted properties are added to the PropertiesConfiguration.&lt;/li&gt;
	&lt;li&gt;The Layout object is also registered as event listener at its PropertiesConfiguration. If events are received, its content is updated accordingly.&lt;/li&gt;
	&lt;li&gt;PropertiesConfiguration.save(Writer) again delegates to the Layout object for writing the data back to file.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So the interface of the layout class could roughly look as follows:&lt;/p&gt;

&lt;p&gt;public class PropertiesConfigurationLayout implements ConfigurationListener&lt;br/&gt;
{&lt;br/&gt;
    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Creates a new instance and sets the associated configuration.&lt;br/&gt;
     */&lt;br/&gt;
    public PropertiesConfigurationLayou(PropertiesConfiguration config);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Reads in a properties file.&lt;br/&gt;
     */&lt;br/&gt;
    public void load(Reader in) throws ConfigurationException;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Writes the internal data into a properties file.&lt;br/&gt;
     */&lt;br/&gt;
    public void save(Writer out) throws ConfigurationException;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    // it would also be nice to have access to comments for properties&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Returns the comment for the specified key.&lt;br/&gt;
     */&lt;br/&gt;
    public String getComment(String key);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Sets the comment for the specified key.&lt;br/&gt;
     */&lt;br/&gt;
    public void setComment(String key, String comment);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Returns the header comment.&lt;br/&gt;
     */&lt;br/&gt;
    public String getHeaderComment();&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Sets the header comment.&lt;br/&gt;
     */&lt;br/&gt;
    public void setHeaderComment(String comment);&lt;br/&gt;
}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Any thoughts?&lt;/p&gt;</comment>
                            <comment id="12422836" author="oliver.heger@t-online.de" created="Sat, 22 Jul 2006 17:09:45 +0000"  >&lt;p&gt;A new class PropertiesConfigurationLayout was added. Objects of this class are associated with PropertiesConfiguration instances. They are able to preserve many structure related aspects of a properties file.&lt;/p&gt;

&lt;p&gt;Please have a look if this class fits your needs.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12342408">CONFIGURATION-140</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12334096" name="ASF.LICENSE.NOT.GRANTED--preserve-comments-patch" size="26595" author="oded.noam@adamind.com" created="Mon, 3 Apr 2006 00:53:17 +0000"/>
                            <attachment id="12334097" name="ASF.LICENSE.NOT.GRANTED--preserve-comments-patch-java1.3" size="27732" author="oded.noam@adamind.com" created="Wed, 12 Apr 2006 01:23:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Apr 2006 23:46:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tf8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169779</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-103] [configuration] subset() method alters XMLConfiguration when invoked</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-103</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Invoking subset() on an XMLConfiguration causes the underlying hierarchy to &lt;br/&gt;
change.  For example, using the database example on the webpage, performing &lt;br/&gt;
the following and then serializing the XMLConfiguration file will show the &lt;br/&gt;
structure has been altered:&lt;/p&gt;

&lt;p&gt;XMLConfiguration xmlConfig = new XMLConfiguration(databaseDotXmlUrl);&lt;br/&gt;
xmlConfig.subset(&quot;tables.table(0&quot;);&lt;br/&gt;
xmlConfig.save(&quot;C:/AlteredDatabase.xml&quot;);&lt;/p&gt;

&lt;p&gt;Not sure this was the intent of the method... actually the method returns a &lt;br/&gt;
new HierarchicalConfiguration object but this method has undesired side effect &lt;br/&gt;
on the original configuration.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342397">CONFIGURATION-103</key>
            <summary>[configuration] subset() method alters XMLConfiguration when invoked</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jamock@mindspring.com">Jeffrey Mock</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jul 2005 08:05:05 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409893" author="oliver.heger@t-online.de" created="Tue, 26 Jul 2005 15:01:21 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;could you please attach the test configuration file you use before and after the&lt;br/&gt;
invocation of subset() to demonstrate how the structure was changed?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12409894" author="ebourg" created="Tue, 26 Jul 2005 17:43:23 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-40&quot; title=&quot;[configuration] subset() method alters XMLConfiguration when invoked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-40&quot;&gt;&lt;del&gt;COM-2246&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12409895" author="jamock@mindspring.com" created="Tue, 26 Jul 2005 21:55:18 +0000"  >&lt;p&gt;Created an attachment (id=15780)&lt;br/&gt;
Source file with main()&lt;/p&gt;

&lt;p&gt;Copied the XML layout from the &quot;How To&quot; page of XML Configuration into a file&lt;br/&gt;
called &quot;resources/database.xml&quot; on my classpath.  The first three lines in the&lt;br/&gt;
go() method is what is described in the bug.  I first dump the contents of the&lt;br/&gt;
XMLConfiguration to a file, then invoke the subset() method, and finally redump&lt;br/&gt;
the contents to another XML file.  The content of the two saved XML files is&lt;br/&gt;
different.&lt;/p&gt;</comment>
                            <comment id="12409896" author="ebourg" created="Tue, 26 Jul 2005 22:39:58 +0000"  >&lt;p&gt;Oliver, I looked quickly at HierarchicalConfiguration.subset(String), it returns&lt;br/&gt;
a copy of the sub tree, correct ? Is it possible to return a configuration with&lt;br/&gt;
the selected node as root instead ? Thus any change to the subset would also&lt;br/&gt;
affect the parent configuration, just like the other subset. That may also fix&lt;br/&gt;
this issue.&lt;/p&gt;</comment>
                            <comment id="12409897" author="ebourg" created="Wed, 27 Jul 2005 00:06:01 +0000"  >&lt;p&gt;Here is an alternative implementation:&lt;/p&gt;


&lt;p&gt;    public Configuration subset(String prefix)&lt;br/&gt;
    {&lt;br/&gt;
        Collection nodes = fetchNodeList(prefix);&lt;/p&gt;

&lt;p&gt;        HierarchicalConfiguration result = new HierarchicalConfiguration();&lt;/p&gt;

&lt;p&gt;        for (Iterator it = nodes.iterator(); it.hasNext()&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
        {&lt;br/&gt;
            Node node = (Node) it.next();&lt;br/&gt;
            for (Iterator children = node.getChildren().iterator();&lt;br/&gt;
children.hasNext()&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
            {
                result.getRoot().addChild((Node) children.next());
            }
&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        return result;&lt;br/&gt;
    }&lt;/p&gt;</comment>
                            <comment id="12409898" author="oliver.heger@t-online.de" created="Wed, 27 Jul 2005 15:08:24 +0000"  >&lt;p&gt;I will have to dig a little deeper into this. First I&apos;d like to know exactly how&lt;br/&gt;
a call to subset() changes the original configuration.&lt;/p&gt;

&lt;p&gt;Generally I agree with your patch, but we will have to check whether it causes&lt;br/&gt;
problems if one Node object is added as child to two different parent nodes (the&lt;br/&gt;
nodes contain a reference to their parent).&lt;/p&gt;

&lt;p&gt;Another approach would be to remove this special implementation of subset() in&lt;br/&gt;
HierarchicalConfiguration and rely on the implementation in&lt;br/&gt;
AbstractConfiguration. Will have to check if the tests then pass. IIRC&lt;br/&gt;
HierarchicalConfiguration.subset() had been once removed before the 1.0 release&lt;br/&gt;
and was later re-introduced because of problems with the&lt;br/&gt;
ConfigurationXMLDocument class, which later became obsolet. I somehow thought&lt;br/&gt;
that subset() after that was removed again, so I am now a bit surprised that it&lt;br/&gt;
exists in HierarchicalConfiguration at all.&lt;/p&gt;</comment>
                            <comment id="12409899" author="ebourg" created="Wed, 27 Jul 2005 18:07:13 +0000"  >&lt;p&gt;(In reply to comment #6)&lt;br/&gt;
&amp;gt; Another approach would be to remove this special implementation of subset() in&lt;br/&gt;
&amp;gt; HierarchicalConfiguration and rely on the implementation in&lt;br/&gt;
&amp;gt; AbstractConfiguration. Will have to check if the tests then pass. IIRC&lt;br/&gt;
&amp;gt; HierarchicalConfiguration.subset() had been once removed before the 1.0 release&lt;br/&gt;
&amp;gt; and was later re-introduced because of problems with the&lt;br/&gt;
&amp;gt; ConfigurationXMLDocument class, which later became obsolet. I somehow thought&lt;br/&gt;
&amp;gt; that subset() after that was removed again, so I am now a bit surprised that it&lt;br/&gt;
&amp;gt; exists in HierarchicalConfiguration at all.&lt;/p&gt;

&lt;p&gt;You are right, the implementation in AbstractConfiguration pass the subset test&lt;br/&gt;
for HierarchicalConfiguration. The benefit of this implementation is to return a&lt;br/&gt;
HierarchicalConfiguration, it implies a slight difference that is not covered by&lt;br/&gt;
our tests. For example with the following structure:&lt;/p&gt;

&lt;p&gt;foo&lt;br/&gt;
    bar = value1&lt;br/&gt;
foo&lt;br/&gt;
    bar = value2&lt;/p&gt;

&lt;p&gt;the subset on &apos;foo&apos; returns a HierarchicalConfiguration that can be queried on&lt;br/&gt;
the &apos;bar(0)&apos; and &apos;bar(1)&apos; keys. It wouldn&apos;t work if it was just a&lt;br/&gt;
SubsetConfiguration translating the keys.&lt;/p&gt;</comment>
                            <comment id="12409900" author="oliver.heger@t-online.de" created="Thu, 28 Jul 2005 03:29:41 +0000"  >&lt;p&gt;I committed a fix, which should solve the original problem (there was a bug in&lt;br/&gt;
the CloneVisitor, which also affects the clone() method).&lt;/p&gt;

&lt;p&gt;About removing the subset() method at all: I think, this would work.&lt;br/&gt;
SubsetConfiguration only adds the correct prefix and passes the key then to&lt;br/&gt;
HierarchicalConfiguration, which correctly interprets indices. The subset test&lt;br/&gt;
in TestHierarchicalConfiguration also tests such complex keys.&lt;/p&gt;

&lt;p&gt;Just adding the subset&apos;s nodes to a new HierarchicalConfiguration as you do in&lt;br/&gt;
your alternative implementation will probably cause trouble with clearing&lt;br/&gt;
property values: Here a node&apos;s parent reference is used for removing the child node.&lt;/p&gt;</comment>
                            <comment id="12409901" author="ebourg" created="Fri, 30 Sep 2005 20:26:52 +0000"  >&lt;p&gt;(In reply to comment #8)&lt;br/&gt;
&amp;gt; About removing the subset() method at all: I think, this would work.&lt;br/&gt;
&amp;gt; SubsetConfiguration only adds the correct prefix and passes the key then to&lt;br/&gt;
&amp;gt; HierarchicalConfiguration, which correctly interprets indices. The subset test&lt;br/&gt;
&amp;gt; in TestHierarchicalConfiguration also tests such complex keys.&lt;/p&gt;

&lt;p&gt;I added a test that fails if the subset() implementation is removed:&lt;/p&gt;

&lt;p&gt;    assertEquals(fields&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, subset.getProperty(&quot;name(0)&quot;));&lt;/p&gt;

&lt;p&gt;I haven&apos;t looked why it doesn&apos;t work with a SubsetConfiguration.&lt;/p&gt;</comment>
                            <comment id="12409902" author="oliver.heger@t-online.de" created="Fri, 14 Oct 2005 04:19:53 +0000"  >&lt;p&gt;The original problem has been fixed, so I am closing this ticket now.&lt;/p&gt;

&lt;p&gt;For the discussion about the subset in HierarchicalConfiguration not being&lt;br/&gt;
connected to its original configuration I opened a different ticket: 37081.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333642" name="ASF.LICENSE.NOT.GRANTED--WindowConfigurationTest4.java" size="1534" author="jamock@mindspring.com" created="Tue, 26 Jul 2005 21:55:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jul 2005 15:01:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169846</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-102] [configuration] addNodes() does not work</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-102</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The method addNodes() does not work in HierarchicalConfiguration.  Using the &lt;br/&gt;
database example from the webpage, doing the following does not work:&lt;/p&gt;

&lt;p&gt;            List l = fetchNodeList(&quot;tables&quot;);&lt;br/&gt;
            clearTree(&quot;tables&quot;);&lt;br/&gt;
            addNodes(&quot;tables&quot;, l);&lt;/p&gt;

&lt;p&gt;As far as I can tell, only one level is traversed when the configuration is &lt;br/&gt;
serialized back out.  According to the documentation, entire subtrees can be &lt;br/&gt;
added to configurations using the addNodes() method.  Am I doing something &lt;br/&gt;
wrong?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342396">CONFIGURATION-102</key>
            <summary>[configuration] addNodes() does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jamock@mindspring.com">Jeffrey Mock</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jul 2005 05:38:33 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409891" author="oliver.heger@t-online.de" created="Thu, 28 Jul 2005 04:08:28 +0000"  >&lt;p&gt;I suppose the problem lies in your call to clearTree(). This method removes all&lt;br/&gt;
children of the nodes in your list. addNodes() should work with complete new&lt;br/&gt;
node hierarchies.&lt;/p&gt;

&lt;p&gt;I just found out that there is obviously no unit test for the addNodes() method.&lt;br/&gt;
Don&apos;t know, why. I created a new test in TestHierarchicalConfiguration, which&lt;br/&gt;
adds some new field nodes to a table. This works as expected. Please double check.&lt;/p&gt;</comment>
                            <comment id="12409892" author="oliver.heger@t-online.de" created="Sun, 28 Aug 2005 01:05:52 +0000"  >&lt;p&gt;Did not get feedback, so closing this now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35857</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Jul 2005 04:08:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110685</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0thm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170163</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-101] [configuration] testSaveInvalidURL in TestFileConfiguration fails</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-101</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The newly added test testSaveInvalidURL in TestFileConfiguration fails because&lt;br/&gt;
config.save(&quot;http://www.apache.org&quot;) does not fail as anticipated.  This&lt;br/&gt;
statement actually succeeds in creating a subdirectory &quot;http:&quot; and creates the&lt;br/&gt;
file &quot;www.apache.org&quot; in it.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Solaris&lt;br/&gt;
Platform: Sun&lt;/p&gt;</environment>
        <key id="12342011">CONFIGURATION-101</key>
            <summary>[configuration] testSaveInvalidURL in TestFileConfiguration fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="petermaurath93@aol.com">Peter Maurath</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jan 2005 06:14:36 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408586" author="oliver.heger@t-online.de" created="Sat, 22 Jan 2005 00:55:41 +0000"  >&lt;p&gt;Fixed in CVS.&lt;/p&gt;

&lt;p&gt;I removed the code in ConfigurationUtils.getFile() that tries to extract a file&lt;br/&gt;
name from a non &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; URL. As shown by this bug report, this fails anyway.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33185</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 22 Jan 2005 00:55:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tggn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-100] [Configuration] XMLConfiguration.save() drops&lt;! DOCTYPE...  &gt;</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-100</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I want to programmatically update an XML-styled configuration file and &lt;br/&gt;
everything works very well except for one thing:  It fails to save back &lt;br/&gt;
the line specifying my DTD:&lt;/p&gt;

&lt;p&gt;&amp;lt;!DOCTYPE Config SYSTEM &quot;../../../dtds/Schedule.dtd&quot;&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12343015">CONFIGURATION-100</key>
            <summary>[Configuration] XMLConfiguration.save() drops&lt;! DOCTYPE...  &gt;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="william.evans@ronin-capital.com">Bill Evans</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Apr 2006 02:42:56 +0000</created>
                <updated>Tue, 16 May 2006 12:04:14 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:04:14 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411710" author="oliver.heger@t-online.de" created="Mon, 10 Apr 2006 01:34:00 +0000"  >&lt;p&gt;The DOCTYPE&apos;s public and system ID are now extracted when loading an XML&lt;br/&gt;
document. On saving, they are written back. With the new publicID and systemID&lt;br/&gt;
properties of XMLConfiguration they can be accessed and modified.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39227</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 10 Apr 2006 01:34:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33938</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-99] [configuration] PropertiesConfiguration doesn&apos;t throw exception when path is directory</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-99</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When I use a string which is a directory to create a PropertiesConfiguration, no&lt;br/&gt;
exception is thrown.  However, the configuration is unusable as it has no&lt;br/&gt;
properties.&lt;/p&gt;

&lt;p&gt;For example, I do&lt;/p&gt;

&lt;p&gt;&amp;lt;code&amp;gt;&lt;br/&gt;
PropertiesConfiguration temp = &lt;br/&gt;
	new PropertiesConfiguration(&quot;c:/baddirectory&quot;);&lt;br/&gt;
&amp;lt;/code&amp;gt;&lt;/p&gt;

&lt;p&gt;I get the expected&lt;/p&gt;

&lt;p&gt;&amp;lt;code&amp;gt;&lt;br/&gt;
org.apache.commons.configuration.ConfigurationException: Cannot locate &lt;br/&gt;
configuration source baddirectory &lt;br/&gt;
&amp;lt;/code&amp;gt;&lt;/p&gt;

&lt;p&gt;However, when I do&lt;/p&gt;

&lt;p&gt;PropertiesConfiguration temp2 = new &lt;br/&gt;
PropertiesConfiguration(&quot;c:/windows&quot;);&lt;/p&gt;

&lt;p&gt;I don&apos;t get any exception.  The difference between &quot;baddirectory&quot; and &quot;windows&quot;&lt;br/&gt;
is that the former doesn&apos;t exist and the latter does.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342528">CONFIGURATION-99</key>
            <summary>[configuration] PropertiesConfiguration doesn&apos;t throw exception when path is directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="moran@place-base.com">Moran Ben-David</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Sep 2005 01:25:24 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410327" author="ebourg" created="Tue, 6 Sep 2005 00:21:49 +0000"  >&lt;p&gt;Thank you for reporting this issue, it&apos;s now fixed in SVN. Feel free to download&lt;br/&gt;
the next nightly build and check if it works for you.&lt;/p&gt;</comment>
                            <comment id="12410328" author="moran@place-base.com" created="Fri, 9 Sep 2005 23:26:44 +0000"  >&lt;p&gt;I took the trunk from svn and this issue is fixed.  Thank you so much.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Sep 2005 00:21:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33921</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-98] [configuration] ConfigurationConverter.getProperties() doesn&apos;t convert Lists properly</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-98</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The method getProperties(Configuration) in the ConfigurationConverter class is&lt;br/&gt;
not covered by our tests, and guess what, it is broken &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; The javadoc for this&lt;br/&gt;
method states that multivalue keys are collapsed by Configuration.getString, but&lt;br/&gt;
getString returns only the first element of the list. That means the resulting&lt;br/&gt;
Properties is incomplete, list objects in the initial Configuration are not&lt;br/&gt;
stored as a comma separated value in the Properties as documented.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341513">CONFIGURATION-98</key>
            <summary>[configuration] ConfigurationConverter.getProperties() doesn&apos;t convert Lists properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Jun 2004 21:46:31 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:41 +0000</updated>
                            <resolved>Sat, 22 Aug 2009 19:36:41 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406845" author="ebourg" created="Wed, 16 Jun 2004 22:26:44 +0000"  >&lt;p&gt;fixed ! TestConfigurationConverter has been updated to test each method&lt;br/&gt;
independently.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29607</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l66v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-97] [configuration] XMLConfiguration does not correctly handle comma delimited lists</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-97</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;XMLConfiguration has some issues with comma (or the currently set delimiter&lt;br/&gt;
character) delimited lists:&lt;/p&gt;

&lt;p&gt;1) If an XML element contains the delimiter character, it will not be splitted&lt;br/&gt;
into a list element, but is taken as one property whose value contains the&lt;br/&gt;
delimiter character.&lt;/p&gt;

&lt;p&gt;2) If an XML element contains an escaped delimiter character, the corresponding&lt;br/&gt;
property&apos;s value will be the exact string, including the escaping character.&lt;/p&gt;

&lt;p&gt;3) If properties are set whose values contain escaped delimiters, no escaping is&lt;br/&gt;
performed when saving the configuration into a file. Thus when it is loaded the&lt;br/&gt;
next time, those properties are now list properties.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342417">CONFIGURATION-97</key>
            <summary>[configuration] XMLConfiguration does not correctly handle comma delimited lists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Sun, 31 Jul 2005 00:16:18 +0000</created>
                <updated>Tue, 16 May 2006 12:11:04 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:11:04 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409949" author="oliver.heger@t-online.de" created="Sun, 31 Jul 2005 00:29:15 +0000"  >&lt;p&gt;Fix committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35938</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-96] [configuration] File based configurations throw NPE when file does not exist</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-96</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;If a file based configuration like PropertiesConfiguration is constructed with a&lt;br/&gt;
file name and the specified file does not exist, a NullPointerException is&lt;br/&gt;
thrown instead of a ConfigurationException.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341872">CONFIGURATION-96</key>
            <summary>[configuration] File based configurations throw NPE when file does not exist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Nov 2004 02:13:27 +0000</created>
                <updated>Tue, 16 May 2006 12:18:07 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:18:07 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408034" author="oliver.heger@t-online.de" created="Mon, 15 Nov 2004 02:38:25 +0000"  >&lt;p&gt;A fix and an additional unit test for PropertiesConfiguration were provided.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 46 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-95] [configuration] Use of enum as variable</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-95</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;JNDIConfiguration uses enum as variable that is reserved in JDK 1.5.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341397">CONFIGURATION-95</key>
            <summary>[configuration] Use of enum as variable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Apr 2004 14:37:06 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:41 +0000</updated>
                            <resolved>Sat, 22 Aug 2009 19:36:41 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406425" author="ebourg" created="Wed, 2 Jun 2004 23:36:52 +0000"  >&lt;p&gt;The &apos;enum&apos; variables have been renamed to &apos;enumeration&apos;. Thank you J&#195;&#182;rg &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28274</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Jun 2004 23:36:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110683</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uq7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177388</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-94] [configuration] AbstractFileConfiguration.save() creates a new file instead of overwritting the existing one</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-94</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The manner in wich a file is found and read... versus how it is check for &lt;br/&gt;
existance and overriden are different. Thus a file that is found and &lt;br/&gt;
successfully read, will not always be updated correctly when using setProperty&lt;br/&gt;
(key,value); Instead a new file will be generated containing the new &lt;br/&gt;
configuration information.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342168">CONFIGURATION-94</key>
            <summary>[configuration] AbstractFileConfiguration.save() creates a new file instead of overwritting the existing one</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmguillemette@gmail.com">Jamie M. Guillemette</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Apr 2005 06:19:49 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:41 +0000</updated>
                            <resolved>Tue, 10 Apr 2007 14:48:57 +0000</resolved>
                                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409060" author="jmguillemette@gmail.com" created="Fri, 8 Apr 2005 06:23:22 +0000"  >&lt;p&gt;Created an attachment (id=14655)&lt;br/&gt;
Fixed Save() logic&lt;/p&gt;

&lt;p&gt;The load method uses ConfigurationUtils.locate(basePath, fileName);&lt;br/&gt;
to locate a file. Ive updated the save() method to implement the same method.&lt;br/&gt;
Previously this method used ConfigurationUtils.getFile(fileName);&lt;/p&gt;

&lt;p&gt;The method of searching for the resource differs in these two methods.&lt;/p&gt;</comment>
                            <comment id="12409061" author="jmguillemette@gmail.com" created="Fri, 8 Apr 2005 06:48:52 +0000"  >&lt;p&gt;Created an attachment (id=14658)&lt;br/&gt;
Just the changed logic&lt;/p&gt;

&lt;p&gt;public void save(String fileName) throws ConfigurationException{&lt;br/&gt;
  try{&lt;br/&gt;
     URL url = ConfigurationUtils.locate(basePath, fileName);&lt;br/&gt;
     File file = new File(url.getPath());&lt;br/&gt;
     if (file == null)&lt;/p&gt;
{
	throw new ConfigurationException(&quot;Invalid file name for save:
&quot;+fileName);
     }
&lt;p&gt;     save(file);&lt;br/&gt;
  } catch (Exception e)&lt;/p&gt;
{
     throw new ConfigurationException(e.getMessage(), e);
  }
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="12409062" author="oliver.heger@t-online.de" created="Fri, 8 Apr 2005 15:09:50 +0000"  >&lt;p&gt;Jamie,&lt;/p&gt;

&lt;p&gt;thanks for your patch. Some comments:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;A very important point are unit tests. If you can provide a test case that&lt;br/&gt;
fails before the patch is applied and runs afterwards, this will demonstrate the&lt;br/&gt;
problem and show that it is indeed solved.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Shouldn&apos;t the line File file = new File(url.getPath()); be replaced by File&lt;br/&gt;
file = ConfigurationUtils.fileFromURL(url); ? Otherwise the test for null won&apos;t&lt;br/&gt;
make sense.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;There are some coding conventions, e.g. that curly brackets are placed on a&lt;br/&gt;
new line. Please ensure that your code looks like the other code around it.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;And a more general point: I think the root cause for the problems is that the&lt;br/&gt;
location of the config file as it was resolved in the load() method is not&lt;br/&gt;
stored. Using the same resolving logic again in the save() method will likely&lt;br/&gt;
result in the same location, but this is not guaranteed. So I am not sure&lt;br/&gt;
whether this patch will solve all problems. A while ago we had a discussion&lt;br/&gt;
about redesigning the whole file resolving logic by introducing Locator objects,&lt;br/&gt;
which implement specific algorithms for finding files (e.g. from a URL, from the&lt;br/&gt;
classpath, etc.). But IIRC we didn&apos;t find a consensus then. Maybe it&apos;s time to&lt;br/&gt;
start this discussion again?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12409063" author="jmguillemette@gmail.com" created="Fri, 8 Apr 2005 23:07:14 +0000"  >&lt;p&gt;I think youve touched upon the main issue. We create configurations but do not &lt;br/&gt;
retain the location.. thus forcing us to re-discover the location when saving.&lt;/p&gt;

&lt;p&gt;A simple strategy that might work is no matter how the filename / path is fead &lt;br/&gt;
to the code, we resolve its URL and store the URL as part of the configuration.&lt;br/&gt;
Save() methods will no longer resolve the path, instead they will just read the &lt;br/&gt;
currently stored URL. &lt;/p&gt;

&lt;p&gt;Using a URL is best as it will enable in jar references.&lt;/p&gt;

&lt;p&gt;As for there being no consense... I think thats when a project leader(s) just &lt;br/&gt;
have to make a choice and go with it. This is a reasonably serious bug. I was &lt;br/&gt;
looking to use this library in a project... but without this feature working &lt;br/&gt;
properly its a total show stopper for me. I&apos;d be happy to implement the changes &lt;br/&gt;
to use URL. (Id even rewrite the unit tests and use a new line for { format... )&lt;/p&gt;
</comment>
                            <comment id="12409064" author="ebourg" created="Fri, 8 Apr 2005 23:23:29 +0000"  >&lt;p&gt;This issue was one of the points I raised when we refactored the resource&lt;br/&gt;
resolution in AbtractFileConfiguration. I agree that the file should be saved at&lt;br/&gt;
the exact location it was loaded, that means going back to the pain of storing&lt;br/&gt;
the URL and ensuring its consistency with the filename and the basepath :/&lt;/p&gt;</comment>
                            <comment id="12409065" author="jmguillemette@gmail.com" created="Fri, 8 Apr 2005 23:36:01 +0000"  >&lt;p&gt;how concerned are we with FULL backwards compatibility....&lt;br/&gt;
ie.. currently some logic may be pointed directly to save(string filename)&lt;br/&gt;
where if we store the URL .. save() might be a more appropriate method and save&lt;br/&gt;
(string filename) becomes a saveAs style feature....&lt;/p&gt;</comment>
                            <comment id="12409066" author="oliver.heger@t-online.de" created="Sat, 9 Apr 2005 18:51:28 +0000"  >&lt;p&gt;(In reply to comment #5)&lt;br/&gt;
&amp;gt; I agree that the file should be saved at&lt;br/&gt;
&amp;gt; the exact location it was loaded, that means going back to the pain of storing&lt;br/&gt;
&amp;gt; the URL and ensuring its consistency with the filename and the basepath :/&lt;/p&gt;

&lt;p&gt;Maybe it need not be as bad as before. I think it should be enough to only store&lt;br/&gt;
the URL in one of the load() methods. We could make this information accessable&lt;br/&gt;
by a getCurrentURL() or getSourceURL() method, which returns null until load()&lt;br/&gt;
was called. I see no need that this URL is updated whenever the filename or&lt;br/&gt;
basepath change.&lt;/p&gt;</comment>
                            <comment id="12409067" author="oliver.heger@t-online.de" created="Sat, 9 Apr 2005 19:05:05 +0000"  >&lt;p&gt;(In reply to comment #6)&lt;br/&gt;
&amp;gt; how concerned are we with FULL backwards compatibility....&lt;br/&gt;
&amp;gt; ie.. currently some logic may be pointed directly to save(string filename)&lt;br/&gt;
&amp;gt; where if we store the URL .. save() might be a more appropriate method and save&lt;br/&gt;
&amp;gt; (string filename) becomes a saveAs style feature....&lt;br/&gt;
&amp;gt; &lt;/p&gt;

&lt;p&gt;In the JavaDoc of AbstractFileConfiguration there is noted for some of the&lt;br/&gt;
save() methods that they do not change the internal file name, among them the&lt;br/&gt;
save(String filename) method. Is it possible to keep the semantic of these&lt;br/&gt;
methods or do you see problems for some of them?&lt;/p&gt;

&lt;p&gt;Oh, and if you are interested in the discussion about locators, the thread can&lt;br/&gt;
be found here:&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.eu.apache.org/mod_mbox/jakarta-commons-dev/200412.mbox/%3c41B5E5E4.5080602@lfjr.net%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.eu.apache.org/mod_mbox/jakarta-commons-dev/200412.mbox/%3c41B5E5E4.5080602@lfjr.net%3e&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12409068" author="jmguillemette@gmail.com" created="Wed, 13 Apr 2005 05:12:45 +0000"  >&lt;p&gt;Ok .. took me a bit to figure out a test case that would work for 99% of the &lt;br/&gt;
people out there...&lt;/p&gt;

&lt;p&gt;   /***&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Test loading using URL and saving ...&lt;/li&gt;
	&lt;li&gt;This is a test to prove an obscure but none abnormal bug&lt;/li&gt;
	&lt;li&gt;that occurs when i file is loaded from a classpath...&lt;/li&gt;
	&lt;li&gt;due to how we &quot;search&quot; for files&lt;/li&gt;
	&lt;li&gt;(see &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-94&quot; title=&quot;[configuration] AbstractFileConfiguration.save() creates a new file instead of overwritting the existing one&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-94&quot;&gt;&lt;del&gt;COM-2016&lt;/del&gt;&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;@author JMGuillemette&lt;br/&gt;
     */&lt;br/&gt;
    public void testLoadAndSaveURL()throws Exception
	{
    	Properties sysProps = System.getProperties();
    	String path = sysProps.getProperty(&quot;user.home&quot;);
		File file1 = new File(path+&quot;/file1.properties&quot;);
    	Properties p = new Properties();
    	p.put(&quot;Prop1&quot;,&quot;value&quot;);
    	FileOutputStream fos = new FileOutputStream(file1);
    	p.store(fos,&quot;test file&quot;);
    	fos.close();
    	FileConfiguration config = new PropertiesConfiguration
(&quot;file1.properties&quot;);
    	config.setProperty(&quot;Prop1&quot;,&quot;newValue&quot;);
    	config.save();
    	Properties props = new Properties();// independant checking of save 
feature
    	props.load(new FileInputStream(file1));
    	assertTrue(&quot;Should contain new value&quot;,props.containsKey(&quot;Prop1&quot;));
    	assertTrue(&quot;Value should be updated&quot;,&quot;newValue&quot;.equals(props.get
(&quot;Prop1&quot;)));
   }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This code will fail due to the existing bug.&lt;br/&gt;
Basically .. we create a file within the realm of our load()&apos;s search area&lt;br/&gt;
in this cause user.home .. but when we save the file.. it will end up save it &lt;br/&gt;
to &amp;lt;executionpath&amp;gt;/ thus .. manual reading the props will find that the new &lt;br/&gt;
values dont exists and the test fails.&lt;/p&gt;

&lt;p&gt;J.&lt;/p&gt;
</comment>
                            <comment id="12409069" author="petec33@gmail.com" created="Wed, 13 Apr 2005 14:17:19 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-77&quot; title=&quot;[configuration]  PropertiesConfiguration constructor doesn&amp;#39;t load resource from classpath.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-77&quot;&gt;&lt;del&gt;COM-2028&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12409070" author="jmguillemette@gmail.com" created="Wed, 13 Apr 2005 23:36:57 +0000"  >&lt;p&gt;Hi Everyone,&lt;/p&gt;

&lt;p&gt;I have been working on a set of fixes for the bugs  that are documented for the &lt;br/&gt;
AbstractFileConfiguration and I wanted to run a few things by everyone for your &lt;br/&gt;
input.&lt;/p&gt;

&lt;p&gt;Changes to File Loading:&lt;/p&gt;

&lt;p&gt;Ive updated the load methods to cascade into one another thus place 99% of the &lt;br/&gt;
real business logic into a single load method. ( In this case load(URL url) )&lt;/p&gt;

&lt;p&gt;thus:&lt;br/&gt;
load(String fileName)&lt;br/&gt;
woud create a file and from the filename and then pass to &lt;br/&gt;
load(File file)&lt;br/&gt;
which would get the URL and pass to&lt;br/&gt;
load(URL url)&lt;br/&gt;
which would be the primary loading mechanism.&lt;/p&gt;

&lt;p&gt;load()&lt;br/&gt;
would use the stored url (instance variable) to forward to load(URL url)&lt;/p&gt;

&lt;p&gt;This then leads to the saving strategy.&lt;/p&gt;

&lt;p&gt;Calling save() will save your current configuration using the existing &lt;br/&gt;
filename, path ect...&lt;br/&gt;
calling save(String fileName) or any other save method that includes a &lt;br/&gt;
parameter is actually a saveAs type feature.&lt;/p&gt;

&lt;p&gt;Updating values&lt;/p&gt;

&lt;p&gt;Updating the path and filename values will actually update the internally &lt;br/&gt;
stored URL.&lt;br/&gt;
thus calling setFileName(String name) should cause us to get the basePath.. &lt;br/&gt;
tack on the fileName and generate the new URL to be used for loading and &lt;br/&gt;
calling save().&lt;br/&gt;
The same logic is applied to setBasePath, setURL ect...&lt;br/&gt;
Doing this has ment that the setFileName setBasePath setURL methods now must &lt;br/&gt;
all throw ConfigurationException(s)&lt;br/&gt;
where previously they did not.This is because if we update the instance URL we &lt;br/&gt;
may encounter a malformedUrlException... &lt;/p&gt;

&lt;p&gt;These changes may also require updating some of our test cases.. ive been &lt;br/&gt;
reviewing them as I write this email.&lt;/p&gt;

&lt;p&gt;Please let me know your thoughts.&lt;/p&gt;
</comment>
                            <comment id="12409071" author="jmguillemette@gmail.com" created="Thu, 14 Apr 2005 00:04:17 +0000"  >&lt;p&gt;One last note.. &lt;br/&gt;
getBasePath();&lt;/p&gt;

&lt;p&gt;this method currently returns different values based on if you started off with &lt;br/&gt;
a URL or a String / filename. &lt;br/&gt;
ie..&lt;br/&gt;
new PropertiesConfigurationFile(&quot;/mydir/myConfiguFile.properites&quot;);&lt;br/&gt;
would have a base path of /mydir/&lt;br/&gt;
but new PropertiesConfigurationFile&lt;br/&gt;
(&quot;file://mydir/myConfigurationFile.properties&quot;);&lt;br/&gt;
woul have a base path of &lt;a href=&quot;file://mydir/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://mydir/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;both instance however would still have a getURL method.. that would return a &lt;br/&gt;
url full path.&lt;/p&gt;

&lt;p&gt;Since im proposing using the a URL as the internal base for file location&lt;br/&gt;
basePath now has a new challenge.  Do we still return different values based on &lt;br/&gt;
how the configuration was initialized... ? or do we decide on a common form for &lt;br/&gt;
base path..&lt;br/&gt;
lets say.. base path is now the path without protocol&lt;br/&gt;
ie.. &lt;a href=&quot;file:/mydir/myCOnfiguration.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/mydir/myCOnfiguration.properties&lt;/a&gt; basepath is now /mydir/&lt;br/&gt;
same as if it was create using File(/mydir/myConfiguration.properties) &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;and for those that need the URL base path..version we add a new method to the &lt;br/&gt;
interface&lt;/p&gt;

&lt;p&gt;getURLBasePath();&lt;/p&gt;

&lt;p&gt;which would return &lt;a href=&quot;file:/mydir/myConfiguration&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/mydir/myConfiguration&lt;/a&gt; even if you created the &lt;br/&gt;
configuration using a string or file parameter..&lt;/p&gt;

&lt;p&gt;(i know that was all a bit wordy.. sorry about that.. let me know your thoughts)&lt;/p&gt;</comment>
                            <comment id="12409072" author="oliver.heger@t-online.de" created="Thu, 14 Apr 2005 02:39:18 +0000"  >&lt;p&gt;Hey, thanks for your work! Here are some of my thoughts:&lt;/p&gt;

&lt;p&gt;WRT load() methods: I may be wrong, but I thought that the load() methods were&lt;br/&gt;
already implemented in a way that they call each other and that most part of the&lt;br/&gt;
logic was placed in one of them. If your load(URL) method does the job, how do&lt;br/&gt;
you handle readers and streams then?&lt;/p&gt;

&lt;p&gt;WRT save(): The save as semantic is okay with me, I think this is compatible&lt;br/&gt;
with the actual implementation, isn&apos;t it?&lt;/p&gt;

&lt;p&gt;WRT setting the file name stuff: I am -1 that these methods should throw&lt;br/&gt;
exceptions. Wouldn&apos;t it be possible to evaluate the values lazy, i.e. when the&lt;br/&gt;
load() method is called? As I already pointed out, for me there is no need that&lt;br/&gt;
all of the getters and setters are always in sync. If the URL that is used by&lt;br/&gt;
the load() method is stored and used again by save(), this is fine.&lt;/p&gt;

&lt;p&gt;From your description I get the impression that the whole process is quite&lt;br/&gt;
delicate, and I bet there will be a bunch of other opinions about how&lt;br/&gt;
ambiguities (e.g. with the base path) should be resolved. So I would recommend&lt;br/&gt;
to provide only simple getters and setters and in addition allow to retrieve the&lt;br/&gt;
resolved URL used by load().&lt;/p&gt;

&lt;p&gt;I see this fix as a temporary solution only. For the long run I am for the locators.&lt;/p&gt;</comment>
                            <comment id="12409073" author="jmguillemette@gmail.com" created="Thu, 14 Apr 2005 02:59:11 +0000"  >&lt;p&gt;WRT: Methods&lt;br/&gt;
Yes they did cascade into one another.. but some contained code to set the base &lt;br/&gt;
path. ect.. along the way. This created a disconnect in when and what some of &lt;br/&gt;
the get/setters would return based on how you initialized/created the &lt;br/&gt;
configuration. This is futher compounded by the fact that you can change the &lt;br/&gt;
filename, basepath ect and it may not effect how the file is loaded / saved!&lt;/p&gt;

&lt;p&gt;The goal of my changes is two fold. I would like to fix the existing bug. But &lt;br/&gt;
in doing so we are also forced to re-examine fields such as basePath.&lt;br/&gt;
and how they are related to the actual configuration file.&lt;/p&gt;

&lt;p&gt;What I have come up with is something like this:&lt;/p&gt;

&lt;p&gt;Lets say you create a PropertiesConfiguration(&quot;/myDir/MyConfig.properties&quot;);&lt;br/&gt;
the base path would be /myDir/&lt;br/&gt;
the filename is MyConfig.properties&lt;br/&gt;
if you save() the file will replace the existing file.(or create the file anew)&lt;br/&gt;
if you save(String newName) a copy of the existing settings will be saved to &lt;br/&gt;
newName but the existing configuration is unchanged&lt;br/&gt;
if you setFileName( newName.props);&lt;br/&gt;
the configuration will now use the new fileName from this point forward&lt;br/&gt;
thus save() would now store to /myDir/newName.props&lt;br/&gt;
The same applies to basePath.&lt;br/&gt;
if you setBasePath(&quot;/newDir&quot;);&lt;br/&gt;
the new stored location is now /newDir/newName.props&lt;/p&gt;

&lt;p&gt;This logic must work weither the user is using URL / String or File to create / &lt;br/&gt;
manipulate the configuration.&lt;/p&gt;

&lt;p&gt;So far.. ive got the changes almost complete.&lt;/p&gt;

&lt;p&gt;Im aware that what im doing here is more than just fixing the existing bug. &lt;br/&gt;
And that prior to now these settings had no guarrenty of being in synch with &lt;br/&gt;
where save() actually store data... but then if its not in synch.. what go are &lt;br/&gt;
they?&lt;/p&gt;

&lt;p&gt;The only place i ran into a potential issue is for web based URLs..&lt;br/&gt;
ie &lt;a href=&quot;http://www.myweb.com/myprops.props&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.myweb.com/myprops.props&lt;/a&gt;&lt;br/&gt;
for this configuration basePath should not return &lt;a href=&quot;http://www.myweb.com/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.myweb.com/&lt;/a&gt;&lt;br/&gt;
this is unconsitent as it means the base app now has to be smart enough to &lt;br/&gt;
change the basePath to a URL.&lt;br/&gt;
Instead I would add getURLBase and return null from getBasePath&lt;br/&gt;
where getURLBase returns a URL for all implementation (including local files);&lt;br/&gt;
but getBase.. im not sure.. so right now null if the URL is a remote url.&lt;/p&gt;



</comment>
                            <comment id="12409074" author="jmguillemette@gmail.com" created="Fri, 15 Apr 2005 01:36:44 +0000"  >&lt;p&gt;Hey Guys,&lt;br/&gt;
Sorry about my last rant there.. I think was getting to close the problem.&lt;br/&gt;
I backed away today and started fresh.. He is the fix i would like to propose.&lt;/p&gt;

&lt;p&gt;1) add a URL instance variable&lt;br/&gt;
2) setURL will now update this instance var.&lt;br/&gt;
3) getURL will return the instance var if not null else will return using &lt;br/&gt;
existing logic ConfigurationUtils.local(basePath,fileName);&lt;br/&gt;
4) Load will check if URL is not null if it is will default to existing load&lt;br/&gt;
(filename) method. if it isnt null it will use load(URL)&lt;br/&gt;
5) Load(String fileName) will remain the same.. but when it resolve the URL it &lt;br/&gt;
will populate its internal instace URL var. This way all future url calls / &lt;br/&gt;
save / load will be url based&lt;/p&gt;

&lt;p&gt;Thats it.. its just a few lines of extra code placed in several methods.&lt;br/&gt;
Let me know your thoughts.. im running the unit tests on it now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12409075" author="jmguillemette@gmail.com" created="Fri, 15 Apr 2005 01:55:56 +0000"  >&lt;p&gt;Unit test all passed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Ill write up a cleaner unit test that what i submitted earlier to better &lt;br/&gt;
demonstrate the bug.&lt;br/&gt;
The new fix is less than 10 lines of code strategically placed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; far less &lt;br/&gt;
drastic that what i was originally working on.&lt;/p&gt;

&lt;p&gt;Ill submit it later tonight when i can properly make a patch file.&lt;/p&gt;

&lt;p&gt;J.&lt;/p&gt;</comment>
                            <comment id="12409076" author="jmguillemette@gmail.com" created="Tue, 19 Apr 2005 04:57:21 +0000"  >&lt;p&gt;arg,&lt;/p&gt;

&lt;p&gt;Hi everyone, i finished my fix.. rexamined it.. and decided it wasnt clean at &lt;br/&gt;
all.&lt;/p&gt;

&lt;p&gt;one of the issues i ran into was if we store the file URL .. if we do a &lt;br/&gt;
setFileName or setBasePath should we also automatically update the URL... &lt;br/&gt;
my quess is yes.. this is not.. but that leads to what to return when the user &lt;br/&gt;
calls getBasePath&lt;/p&gt;

&lt;p&gt;currently if the user set the URL via setURL basePath returns a &lt;a href=&quot;file://my&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://my&lt;/a&gt; file&lt;br/&gt;
but if they use lets say a file object .. via setFile() then basepath returns &lt;br/&gt;
c:/yourFile&lt;/p&gt;

&lt;p&gt;basepath is changing based on how the file path / name was set. &lt;/p&gt;

&lt;p&gt;So this creates a problem. Using the URL is a master reference we can still &lt;br/&gt;
resolved the base path via configurationUtils.getBasePath(url) but it will no &lt;br/&gt;
longer change based on how the values where initailly set.&lt;/p&gt;

&lt;p&gt;A) is this bad?&lt;br/&gt;
b) should basepath be changing based on how the file / path was set anyways.? &lt;br/&gt;
shouldnt it be more consistent?&lt;/p&gt;

&lt;p&gt;Really need some guidance here form the active members. Cause it looks like any &lt;br/&gt;
solution to this bug is going to have minor functionality changes that im &lt;br/&gt;
trying to avoid.&lt;/p&gt;

&lt;p&gt;J.&lt;/p&gt;</comment>
                            <comment id="12409077" author="oliver.heger@t-online.de" created="Tue, 19 Apr 2005 17:41:48 +0000"  >&lt;p&gt;Obviously there is no perfect solution that fits all needs and makes everybody&lt;br/&gt;
happy. This may in part be due to the fact that the basepath/filename form we&lt;br/&gt;
currently use is no good representation for all suported possibilities (e.g.&lt;br/&gt;
resources from classpath).&lt;/p&gt;

&lt;p&gt;Okay, the main problem is that the save() method sometimes uses a different file&lt;br/&gt;
than the one that was originally loaded, right?. I think it should be possible&lt;br/&gt;
to solve this without modifying existing getter and setter methods: By&lt;br/&gt;
introducing a new sourceURL property. This property is null until a load()&lt;br/&gt;
method is called or a new configuration is saved for the first time. Then the&lt;br/&gt;
final URL is resolved based on the setters that have been called before. From&lt;br/&gt;
now on save() uses this URL to store the properties. If file name or path setter&lt;br/&gt;
methods are called again later, the sourceURL property is reset to null.&lt;/p&gt;</comment>
                            <comment id="12409078" author="jmguillemette@gmail.com" created="Wed, 20 Apr 2005 03:09:16 +0000"  >&lt;p&gt;Oliver,&lt;/p&gt;

&lt;p&gt;Simple enough fix. Im happy you agree that there was no all encompassing &lt;br/&gt;
strategy. I was storing the url.. then trying to keep it updated when basepath &lt;br/&gt;
ect are being set.. which worked.. but then some functionality changed.. which &lt;br/&gt;
sucked... ect..&lt;/p&gt;

&lt;p&gt;Ill implement the simple fix and post it...&lt;/p&gt;</comment>
                            <comment id="12409079" author="jmguillemette@gmail.com" created="Wed, 20 Apr 2005 04:42:22 +0000"  >&lt;p&gt;Created an attachment (id=14765)&lt;br/&gt;
Unit test update patch to illustrate bug&lt;/p&gt;

&lt;p&gt;This patch updates the FileConfigurationTest unit tests with a test that&lt;br/&gt;
illustrates the original bug.&lt;/p&gt;</comment>
                            <comment id="12409080" author="jmguillemette@gmail.com" created="Wed, 20 Apr 2005 04:43:27 +0000"  >&lt;p&gt;Created an attachment (id=14766)&lt;br/&gt;
patch fix for AbstractFileConfiguration&lt;/p&gt;

&lt;p&gt;This patch add sourceURL to the fileConfiguration which solves the bug&lt;br/&gt;
illustrated in previous patch.&lt;/p&gt;</comment>
                            <comment id="12409081" author="jmguillemette@gmail.com" created="Thu, 21 Apr 2005 20:37:32 +0000"  >&lt;p&gt;Awaiting active members to confirm the patches posted. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12409082" author="oliver.heger@t-online.de" created="Thu, 21 Apr 2005 23:04:35 +0000"  >&lt;p&gt;Hi Jamie, many thanks for your work.&lt;/p&gt;

&lt;p&gt;I tried to have a look at your patch for AbstractFileConfiguration, but I think&lt;br/&gt;
something is wrong with this diff. It seems to contain only deleted lines for&lt;br/&gt;
the whole file.&lt;/p&gt;

&lt;p&gt;Could you please double check?&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="12409083" author="jmguillemette@gmail.com" created="Mon, 25 Apr 2005 23:07:32 +0000"  >&lt;p&gt;Not sure my patch generation system is working properly.. &lt;br/&gt;
hence ill just post the full code &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12409084" author="jmguillemette@gmail.com" created="Mon, 25 Apr 2005 23:08:27 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;AbstractFileConfiguration.java&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;/*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Copyright 2004-2005 The Apache Software Foundation.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;Licensed under the Apache License, Version 2.0 (the &quot;License&quot;)&lt;/li&gt;
	&lt;li&gt;you may not use this file except in compliance with the License.&lt;/li&gt;
	&lt;li&gt;You may obtain a copy of the License at&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;Unless required by applicable law or agreed to in writing, software&lt;/li&gt;
	&lt;li&gt;distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;/li&gt;
	&lt;li&gt;WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;/li&gt;
	&lt;li&gt;See the License for the specific language governing permissions and&lt;/li&gt;
	&lt;li&gt;limitations under the License.&lt;br/&gt;
 */&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;package org.apache.commons.configuration;&lt;/p&gt;

&lt;p&gt;import java.io.File;&lt;br/&gt;
import java.io.FileOutputStream;&lt;br/&gt;
import java.io.IOException;&lt;br/&gt;
import java.io.InputStream;&lt;br/&gt;
import java.io.InputStreamReader;&lt;br/&gt;
import java.io.OutputStream;&lt;br/&gt;
import java.io.OutputStreamWriter;&lt;br/&gt;
import java.io.Reader;&lt;br/&gt;
import java.io.UnsupportedEncodingException;&lt;br/&gt;
import java.io.Writer;&lt;br/&gt;
import java.net.URL;&lt;br/&gt;
import java.util.Iterator;&lt;/p&gt;

&lt;p&gt;import org.apache.commons.configuration.reloading.InvariantReloadingStrategy;&lt;br/&gt;
import org.apache.commons.configuration.reloading.ReloadingStrategy;&lt;/p&gt;

&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;Partial implementation of the &amp;lt;code&amp;gt;FileConfiguration&amp;lt;/code&amp;gt; interface.&lt;/li&gt;
	&lt;li&gt;Developpers of file based configuration may want to extend this class,&lt;/li&gt;
	&lt;li&gt;the two methods left to implement are 
{@see AbstractFileConfiguration#load
(Reader)}&lt;/li&gt;
	&lt;li&gt;and 
{@see AbstractFileConfiguration#save(Reader)}
&lt;p&gt;.&amp;lt;/p&amp;gt;&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;This base class already implements a couple of ways to specify the&lt;br/&gt;
location&lt;/li&gt;
	&lt;li&gt;of the file this configuration is based on. The following possibilities&lt;/li&gt;
	&lt;li&gt;exist:&lt;/li&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;URLs: With the method &amp;lt;code&amp;gt;setURL()&amp;lt;/code&amp;gt; a full URL to the&lt;/li&gt;
	&lt;li&gt;configuration source can be specified. This is the most flexible way. Note&lt;/li&gt;
	&lt;li&gt;that the &amp;lt;code&amp;gt;save()&amp;lt;/code&amp;gt; methods support only &amp;lt;em&amp;gt;file:&amp;lt;/em&amp;gt; URLs.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;Files: The &amp;lt;code&amp;gt;setFile()&amp;lt;/code&amp;gt; method allows to specify the&lt;/li&gt;
	&lt;li&gt;configuration source as a file. This can be either a relative or an&lt;/li&gt;
	&lt;li&gt;absolute file. In the former case the file is resolved based on the current&lt;/li&gt;
	&lt;li&gt;directory.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;As file paths in string form: With the &amp;lt;code&amp;gt;setPath()&amp;lt;/code&amp;gt; method a&lt;/li&gt;
	&lt;li&gt;full path to a configuration file can be provided as a string.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;Separated as base path and file name: This is the native form in which&lt;/li&gt;
	&lt;li&gt;the location is stored. The base path is a string defining either a local&lt;/li&gt;
	&lt;li&gt;directory or a URL. It can be set using the &amp;lt;code&amp;gt;setBasePath()&amp;lt;/code&amp;gt;&lt;/li&gt;
	&lt;li&gt;method. The file name, non surprisingly, defines the name of the&lt;br/&gt;
configuration&lt;/li&gt;
	&lt;li&gt;file.&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;/p&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;Note that the &amp;lt;code&amp;gt;load()&amp;lt;/code&amp;gt; methods do not wipe out the&lt;br/&gt;
configuration&apos;s&lt;/li&gt;
	&lt;li&gt;content before the new configuration file is loaded. Thus it is very easy to&lt;/li&gt;
	&lt;li&gt;construct a union configuration by simply loading multiple configuration&lt;/li&gt;
	&lt;li&gt;files, e.g.&amp;lt;/p&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;&amp;lt;pre&amp;gt;&lt;/li&gt;
	&lt;li&gt;config.load(configFile1);&lt;/li&gt;
	&lt;li&gt;config.load(configFile2);&lt;/li&gt;
	&lt;li&gt;&amp;lt;/pre&amp;gt;&amp;lt;/p&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;After executing this code fragment, the resulting configuration will&lt;/li&gt;
	&lt;li&gt;contain both the properties of configFile1 and configFile2. On the other&lt;/li&gt;
	&lt;li&gt;hand, if the current configuration file is to be reloaded, &amp;lt;code&amp;gt;clear()&lt;br/&gt;
&amp;lt;/code&amp;gt;&lt;/li&gt;
	&lt;li&gt;should be called first. Otherwise the properties are doubled. This behavior&lt;/li&gt;
	&lt;li&gt;is analogous to the behavior of the &amp;lt;code&amp;gt;load(InputStream)&amp;lt;/code&amp;gt; method&lt;/li&gt;
	&lt;li&gt;in &amp;lt;code&amp;gt;java.util.Properties&amp;lt;/code&amp;gt;.&amp;lt;/p&amp;gt;&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;@author Emmanuel Bourg&lt;/li&gt;
	&lt;li&gt;@version $Revision: 156237 $, $Date: 2005-03-05 05:26:22 -0500 (Sat, 05 Mar&lt;br/&gt;
2005) $&lt;/li&gt;
	&lt;li&gt;@since 1.0-rc2&lt;br/&gt;
 */&lt;br/&gt;
public abstract class AbstractFileConfiguration extends BaseConfiguration &lt;br/&gt;
implements FileConfiguration&lt;br/&gt;
{&lt;br/&gt;
    protected String fileName;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    protected String basePath;&lt;/p&gt;

&lt;p&gt;    protected boolean autoSave;&lt;/p&gt;

&lt;p&gt;    protected ReloadingStrategy strategy;&lt;/p&gt;

&lt;p&gt;    private Object reloadLock = new Object();&lt;/p&gt;

&lt;p&gt;    private String encoding;&lt;/p&gt;

&lt;p&gt;    private URL sourceURL = null;&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Default constructor&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@since 1.1&lt;br/&gt;
     */&lt;br/&gt;
    public AbstractFileConfiguration()
    {
        setReloadingStrategy(new InvariantReloadingStrategy());
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Creates and loads the configuration from the specified file. The passed&lt;/li&gt;
	&lt;li&gt;in string must be a valid file name, either absolute or relativ.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param fileName The name of the file to load.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@throws ConfigurationException Error while loading the file&lt;/li&gt;
	&lt;li&gt;@since 1.1&lt;br/&gt;
     */&lt;br/&gt;
    public AbstractFileConfiguration(String fileName) throws &lt;br/&gt;
ConfigurationException
    {
        this();

        // store the file name
        setPath(fileName);

        // load the file
        load();
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Creates and loads the configuration from the specified file.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param file The file to load.&lt;/li&gt;
	&lt;li&gt;@throws ConfigurationException Error while loading the file&lt;/li&gt;
	&lt;li&gt;@since 1.1&lt;br/&gt;
     */&lt;br/&gt;
    public AbstractFileConfiguration(File file) throws ConfigurationException&lt;br/&gt;
    {&lt;br/&gt;
        this();&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;        // set the file and update the url, the base path and the file name&lt;br/&gt;
        setFile(file);&lt;/p&gt;

&lt;p&gt;        // load the file&lt;br/&gt;
        if (file.exists())&lt;/p&gt;
        {
            load();
        }
&lt;p&gt;    }&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Creates and loads the configuration from the specified URL.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param url The location of the file to load.&lt;/li&gt;
	&lt;li&gt;@throws ConfigurationException Error while loading the file&lt;/li&gt;
	&lt;li&gt;@since 1.1&lt;br/&gt;
     */&lt;br/&gt;
    public AbstractFileConfiguration(URL url) throws ConfigurationException
    {
        this();

        // set the URL and update the base path and the file name
        setURL(url);

        // load the file
        load();
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Load the configuration from the underlying location.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@throws ConfigurationException if loading of the configuration fails&lt;br/&gt;
     */&lt;br/&gt;
    public void load() throws ConfigurationException
    &lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {    	if(sourceURL != null)    	{
    		load(sourceURL);
    	}    	else    	{
    		load(getFileName());
    	}    }&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Locate the specified file and load the configuration.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param fileName the name of the file loaded&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void load(String fileName) throws ConfigurationException&lt;br/&gt;
    {&lt;br/&gt;
        try&lt;br/&gt;
        {&lt;br/&gt;
            URL url = ConfigurationUtils.locate(basePath, fileName);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;            if (url == null)&lt;/p&gt;
            {
                throw new ConfigurationException(&quot;Cannot locate configuration 
source &quot; + fileName);
            }
&lt;p&gt;            load(url);&lt;br/&gt;
        }&lt;br/&gt;
        catch (ConfigurationException e)&lt;/p&gt;
        {
            throw e;
        }&lt;br/&gt;
        catch (Exception e)&lt;br/&gt;
        {
            throw new ConfigurationException(e.getMessage(), e);
        }&lt;br/&gt;
    }&lt;br/&gt;
&lt;br/&gt;
    /**&lt;br/&gt;
     * Load the configuration from the specified file.&lt;br/&gt;
     *&lt;br/&gt;
     * @param file the loaded file&lt;br/&gt;
     *&lt;br/&gt;
     * @throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void load(File file) throws ConfigurationException&lt;br/&gt;
    {&lt;br/&gt;
        try&lt;br/&gt;
        {
            load(file.toURL());
        }&lt;br/&gt;
        catch (ConfigurationException e)&lt;br/&gt;
        {            throw e;        }
&lt;p&gt;        catch (Exception e)&lt;/p&gt;
        {
            throw new ConfigurationException(e.getMessage(), e);
        }&lt;br/&gt;
    }&lt;br/&gt;
&lt;br/&gt;
    /**&lt;br/&gt;
     * Load the configuration from the specified URL.&lt;br/&gt;
     *&lt;br/&gt;
     * @param url the URL of the file loaded&lt;br/&gt;
     *&lt;br/&gt;
     * @throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void load(URL url) throws ConfigurationException&lt;br/&gt;
	{&lt;br/&gt;
        if(sourceURL == null)&lt;br/&gt;
        {
        	sourceURL = url;
        }&lt;br/&gt;
    	InputStream in = null;&lt;br/&gt;
&lt;br/&gt;
        try&lt;br/&gt;
        {
            in = url.openStream();
            load(in);
        }&lt;br/&gt;
        catch (ConfigurationException e)&lt;br/&gt;
        {
            throw e;
        }&lt;br/&gt;
        catch (Exception e)&lt;br/&gt;
        {            throw new ConfigurationException(e.getMessage(), e);        }
&lt;p&gt;        finally&lt;br/&gt;
        {&lt;br/&gt;
            // close the input stream&lt;br/&gt;
            try&lt;br/&gt;
            {&lt;br/&gt;
                if (in != null)&lt;/p&gt;
                {
                    in.close();
                }
&lt;p&gt;            }&lt;br/&gt;
            catch (IOException e)&lt;/p&gt;
            {
                e.printStackTrace();
            }&lt;br/&gt;
        }&lt;br/&gt;
    }&lt;br/&gt;
&lt;br/&gt;
    /**&lt;br/&gt;
     * Load the configuration from the specified stream, using the encoding&lt;br/&gt;
     * returned by {@link #getEncoding()}.&lt;br/&gt;
     *&lt;br/&gt;
     * @param in the input stream&lt;br/&gt;
     *&lt;br/&gt;
     * @throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void load(InputStream in) throws ConfigurationException&lt;br/&gt;
    {
        load(in, getEncoding());
    }&lt;br/&gt;
&lt;br/&gt;
    /**&lt;br/&gt;
     * Load the configuration from the specified stream, using the specified&lt;br/&gt;
     * encoding. If the encoding is null the default encoding is used.&lt;br/&gt;
     *&lt;br/&gt;
     * @param in the input stream&lt;br/&gt;
     * @param encoding the encoding used. &amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt; to use the default &lt;br/&gt;
encoding&lt;br/&gt;
     *&lt;br/&gt;
     * @throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void load(InputStream in, String encoding) throws &lt;br/&gt;
ConfigurationException&lt;br/&gt;
    {&lt;br/&gt;
        Reader reader = null;&lt;br/&gt;
&lt;br/&gt;
        if (encoding != null)&lt;br/&gt;
        {&lt;br/&gt;
            try&lt;br/&gt;
            {
                reader = new InputStreamReader(in, encoding);
            }&lt;br/&gt;
            catch (UnsupportedEncodingException e)&lt;br/&gt;
            {
                throw new ConfigurationException(
                        &quot;The requested encoding is not supported, try the 
default encoding.&quot;, e);
            }&lt;br/&gt;
        }&lt;br/&gt;
&lt;br/&gt;
        if (reader == null)&lt;br/&gt;
        {
            reader = new InputStreamReader(in);
        }&lt;br/&gt;
&lt;br/&gt;
        load(reader);&lt;br/&gt;
    }&lt;br/&gt;
&lt;br/&gt;
    /**&lt;br/&gt;
     * Save the configuration.&lt;br/&gt;
     *&lt;br/&gt;
     * @throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void save() throws ConfigurationException&lt;br/&gt;
    {&lt;br/&gt;
    	if(sourceURL!=null)&lt;br/&gt;
    	{
    		save(sourceURL);
    	}&lt;br/&gt;
    	else&lt;br/&gt;
    	{
    		save(fileName);	
    	}&lt;br/&gt;
    	strategy.init();&lt;br/&gt;
    }&lt;br/&gt;
&lt;br/&gt;
    /**&lt;br/&gt;
     * Save the configuration to the specified file. This doesn&apos;t change the&lt;br/&gt;
     * source of the configuration, use setFileName() if you need it.&lt;br/&gt;
     *&lt;br/&gt;
     * @param fileName&lt;br/&gt;
     *&lt;br/&gt;
     * @throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void save(String fileName) throws ConfigurationException&lt;br/&gt;
    {&lt;br/&gt;
        try&lt;br/&gt;
        {&lt;br/&gt;
            File file = ConfigurationUtils.getFile(basePath, fileName);&lt;br/&gt;
            if (file == null)&lt;br/&gt;
            {
                throw new ConfigurationException(&quot;Invalid file name for save: &quot; 
+ fileName);
            }&lt;br/&gt;
            save(file);&lt;br/&gt;
        }&lt;br/&gt;
        catch (ConfigurationException e)&lt;br/&gt;
        {
            throw e;
        }&lt;br/&gt;
        catch (Exception e)&lt;br/&gt;
        {
            throw new ConfigurationException(e.getMessage(), e);
        }&lt;br/&gt;
    }&lt;br/&gt;
&lt;br/&gt;
    /**&lt;br/&gt;
     * Save the configuration to the specified URL if it&apos;s a file URL.&lt;br/&gt;
     * This doesn&apos;t change the source of the configuration, use setURL()&lt;br/&gt;
     * if you need it.&lt;br/&gt;
     *&lt;br/&gt;
     * @param url&lt;br/&gt;
     *&lt;br/&gt;
     * @throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void save(URL url) throws ConfigurationException&lt;br/&gt;
    {&lt;br/&gt;
        File file = ConfigurationUtils.fileFromURL(url);&lt;br/&gt;
        if (file != null)&lt;br/&gt;
        {
            save(file);
        }&lt;br/&gt;
        else&lt;br/&gt;
        {
            throw new ConfigurationException(&quot;Could not save to URL &quot; + url);
        }&lt;br/&gt;
    }&lt;br/&gt;
&lt;br/&gt;
    /**&lt;br/&gt;
     * Save the configuration to the specified file. The file is created&lt;br/&gt;
     * automatically if it doesn&apos;t exist. This doesn&apos;t change the source&lt;br/&gt;
     * of the configuration, use {@link #setFile} if you need it.&lt;br/&gt;
     *&lt;br/&gt;
     * @param file&lt;br/&gt;
     *&lt;br/&gt;
     * @throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void save(File file) throws ConfigurationException&lt;br/&gt;
    {&lt;br/&gt;
        OutputStream out = null;&lt;br/&gt;
&lt;br/&gt;
        try&lt;br/&gt;
        {
            // create the file if necessary
            createPath(file);
            out = new FileOutputStream(file);
            save(out);
        }&lt;br/&gt;
        catch (IOException e)&lt;br/&gt;
        {            throw new ConfigurationException(e.getMessage(), e);        }&lt;br/&gt;
        finally&lt;br/&gt;
        {&lt;br/&gt;
            // close the output stream&lt;br/&gt;
            try&lt;br/&gt;
            {&lt;br/&gt;
                if (out != null)&lt;br/&gt;
                {
                    out.close();
                }&lt;br/&gt;
            }&lt;br/&gt;
            catch (IOException e)&lt;br/&gt;
            {                e.printStackTrace();            }
&lt;p&gt;        }&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Save the configuration to the specified stream, using the encoding&lt;/li&gt;
	&lt;li&gt;returned by 
{@link #getEncoding()}
&lt;p&gt;.&lt;br/&gt;
     *&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;@param out&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void save(OutputStream out) throws ConfigurationException
    {
        save(out, getEncoding());
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Save the configuration to the specified stream, using the specified&lt;/li&gt;
	&lt;li&gt;encoding. If the encoding is null the default encoding is used.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param out&lt;/li&gt;
	&lt;li&gt;@param encoding&lt;/li&gt;
	&lt;li&gt;@throws ConfigurationException&lt;br/&gt;
     */&lt;br/&gt;
    public void save(OutputStream out, String encoding) throws &lt;br/&gt;
ConfigurationException&lt;br/&gt;
    {&lt;br/&gt;
        Writer writer = null;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;        if (encoding != null)&lt;br/&gt;
        {&lt;br/&gt;
            try&lt;/p&gt;
            {
                writer = new OutputStreamWriter(out, encoding);
            }
&lt;p&gt;            catch (UnsupportedEncodingException e)&lt;/p&gt;
            {
                throw new ConfigurationException(
                        &quot;The requested encoding is not supported, try the 
default encoding.&quot;, e);
            }
&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        if (writer == null)&lt;/p&gt;
        {
            writer = new OutputStreamWriter(out);
        }

&lt;p&gt;        save(writer);&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Return the name of the file.&lt;br/&gt;
     */&lt;br/&gt;
    public String getFileName()
    {
        return fileName;
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Set the name of the file. The passed in file name should not contain a&lt;/li&gt;
	&lt;li&gt;path. Use &amp;lt;code&amp;gt;
{@link AbstractFileConfiguration#setPath(String)
     * setPath()}
&lt;p&gt;&amp;lt;/code&amp;gt; to set a full qualified file name.&lt;br/&gt;
     *&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;@param fileName the name of the file&lt;br/&gt;
     */&lt;br/&gt;
    public void setFileName(String fileName)
    {
    	sourceURL = null;
        this.fileName = fileName;
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Return the base path.&lt;br/&gt;
     */&lt;br/&gt;
    public String getBasePath()
    {
        return basePath;
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Set the base path. Relative configurations are loaded from this path.&lt;/li&gt;
	&lt;li&gt;The base path can be either a path to a directory or a URL.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param basePath the base path.&lt;br/&gt;
     */&lt;br/&gt;
    public void setBasePath(String basePath)
    {
    	sourceURL = null;
        this.basePath = basePath;
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Return the file where the configuration is stored. If the base path is&lt;/li&gt;
	&lt;li&gt;a URL with a protocol different than &amp;quot;file&amp;quot;, the return value&lt;/li&gt;
	&lt;li&gt;will not point to a valid file object.&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;@return the file where the configuration is stored&lt;br/&gt;
     */&lt;br/&gt;
    public File getFile()
    {
        return ConfigurationUtils.getFile(getBasePath(), getFileName());
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Set the file where the configuration is stored. The passed in file is&lt;/li&gt;
	&lt;li&gt;made absolute if it is not yet. Then the file&apos;s path component becomes&lt;/li&gt;
	&lt;li&gt;the base path and its name component becomes the file name.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param file the file where the configuration is stored&lt;br/&gt;
     */&lt;br/&gt;
    public void setFile(File file)
    {
    	sourceURL = null;
        setFileName(file.getName());
        setBasePath((file.getParentFile() != null) ? file.getParentFile
().getAbsolutePath() : null);
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Returns the full path to the file this configuration is based on. The&lt;/li&gt;
	&lt;li&gt;return value is valid only if this configuration is based on a file on&lt;/li&gt;
	&lt;li&gt;the local disk.&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;@return the full path to the configuration file&lt;br/&gt;
     */&lt;br/&gt;
    public String getPath()
    {
        return getFile().getAbsolutePath();
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Sets the location of this configuration as a full path name. The passed&lt;/li&gt;
	&lt;li&gt;in path should represent a valid file name.&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;@param path the full path name of the configuration file&lt;br/&gt;
     */&lt;br/&gt;
    public void setPath(String path)
    {
        setFile(new File(path));
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Return the URL where the configuration is stored.&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;@return the configuration&apos;s location as URL&lt;br/&gt;
     */&lt;br/&gt;
    public URL getURL()
    {
        return ConfigurationUtils.locate(getBasePath(), getFileName());
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Set the location of this configuration as a URL. For loading this can be&lt;/li&gt;
	&lt;li&gt;an arbitrary URL with a supported protocol. If the configuration is to&lt;/li&gt;
	&lt;li&gt;be saved, too, a URL with the &amp;quot;file&amp;quot; protocol should be&lt;/li&gt;
	&lt;li&gt;provided.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param url the location of this configuration as URL&lt;br/&gt;
     */&lt;br/&gt;
    public void setURL(URL url)
    {
        setBasePath(ConfigurationUtils.getBasePath(url));
        setFileName(ConfigurationUtils.getFileName(url));
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    public void setAutoSave(boolean autoSave)&lt;/p&gt;
    {
        this.autoSave = autoSave;
    }

&lt;p&gt;    public boolean isAutoSave()&lt;/p&gt;
    {
        return autoSave;
    }

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Save the configuration if the automatic persistence is enabled&lt;/li&gt;
	&lt;li&gt;and if a file is specified.&lt;br/&gt;
     */&lt;br/&gt;
    protected void possiblySave()&lt;br/&gt;
    {&lt;br/&gt;
        if (autoSave &amp;amp;&amp;amp; fileName != null)
        &lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {            try            {
                save();
            }            catch (ConfigurationException e)            {
                throw new ConfigurationRuntimeException(&quot;Failed to auto-save&quot;, 
e);
            }        }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;    }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    protected void addPropertyDirect(String key, Object obj)&lt;/p&gt;
    {
        super.addPropertyDirect(key, obj);
        possiblySave();
    }

&lt;p&gt;    public void clearProperty(String key)&lt;/p&gt;
    {
        super.clearProperty(key);
        possiblySave();
    }

&lt;p&gt;    public ReloadingStrategy getReloadingStrategy()&lt;/p&gt;
    {
        return strategy;
    }

&lt;p&gt;    public void setReloadingStrategy(ReloadingStrategy strategy)&lt;/p&gt;
    {
        this.strategy = strategy;
        strategy.setConfiguration(this);
        strategy.init();
    }

&lt;p&gt;    public void reload()&lt;br/&gt;
    {&lt;br/&gt;
        synchronized (reloadLock)&lt;br/&gt;
        {&lt;br/&gt;
            if (strategy.reloadingRequired())&lt;br/&gt;
            {&lt;br/&gt;
                try&lt;/p&gt;
                {
                    clear();
                    load();

                    // notify the strategy
                    strategy.reloadingPerformed();
                }
&lt;p&gt;                catch (Exception e)&lt;/p&gt;
                {
                    e.printStackTrace();
                    // todo rollback the changes if the file can&apos;t be reloaded
                }
&lt;p&gt;            }&lt;br/&gt;
        }&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    public Object getProperty(String key)&lt;/p&gt;
    {
        reload();
        return super.getProperty(key);
    }

&lt;p&gt;    public boolean isEmpty()&lt;/p&gt;
    {
        reload();
        return super.isEmpty();
    }

&lt;p&gt;    public boolean containsKey(String key)&lt;/p&gt;
    {
        reload();
        return super.containsKey(key);
    }

&lt;p&gt;    public Iterator getKeys()&lt;/p&gt;
    {
        reload();
        return super.getKeys();
    }

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Create the path to the specified file.&lt;br/&gt;
     */&lt;br/&gt;
    private void createPath(File file)&lt;br/&gt;
    {&lt;br/&gt;
        if (file != null)&lt;br/&gt;
        {&lt;br/&gt;
            // create the path to the file if the file doesn&apos;t exist&lt;br/&gt;
            if (!file.exists())
            &lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {                File parent = file.getParentFile();                if (parent != null &amp;amp;&amp;amp; !parent.exists())                {
                    parent.mkdirs();
                }            }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;        }&lt;br/&gt;
    }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    public String getEncoding()&lt;/p&gt;
    {
        return encoding;
    }

&lt;p&gt;    public void setEncoding(String encoding)&lt;/p&gt;
    {
        this.encoding = encoding;
    }
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="12409085" author="jmguillemette@gmail.com" created="Mon, 25 Apr 2005 23:09:17 +0000"  >&lt;p&gt;add this test case to TestFileConfiguration unit test class&lt;/p&gt;

&lt;p&gt; public void testFileOverwrite()throws Exception &lt;/p&gt;
{
    	String path = System.getProperties().getProperty(&quot;user.home&quot;);
    	String fileName = &quot;test.properties&quot;;
    	Properties props = new Properties();
    	props.setProperty(&quot;1&quot;,&quot;one&quot;);
    	File file = new File(path+File.separator+fileName);
    	file.delete();
    	props.store(new FileOutputStream(file),&quot;TestFileOverwrite&quot;);
    	FileConfiguration config = new PropertiesConfiguration(fileName);
    	config.load();
    	String value = config.getString(&quot;1&quot;);
    	assertTrue(&quot;one&quot;.equals(value));
    	config.setProperty(&quot;1&quot;,&quot;two&quot;);
    	config.save();
    	props = new Properties();
    	props.load(new FileInputStream(new File(path+File.separator+fileName)));
    	String value2 = props.getProperty(&quot;1&quot;);
    	assertTrue(&quot;two&quot;.equals(value2));
    	
    }</comment>
                            <comment id="12409086" author="oliver.heger@t-online.de" created="Tue, 26 Apr 2005 00:02:48 +0000"  >&lt;p&gt;Created an attachment (id=14832)&lt;br/&gt;
Diff of AbstractFileConfiguration based on Jamie&apos;s contribution&lt;/p&gt;</comment>
                            <comment id="12409087" author="oliver.heger@t-online.de" created="Tue, 26 Apr 2005 00:07:06 +0000"  >&lt;p&gt;Created an attachment (id=14833)&lt;br/&gt;
Unit test to illustrate the bug&lt;/p&gt;

&lt;p&gt;I slightly modified the unit test because I felt a little uneasy by simply&lt;br/&gt;
overriding a file in the user&apos;s home directory. So I created a temporary file&lt;br/&gt;
in this directory and removed it afterwards. The basic concepts stay the same.&lt;/p&gt;</comment>
                            <comment id="12409088" author="oliver.heger@t-online.de" created="Tue, 26 Apr 2005 00:14:46 +0000"  >&lt;p&gt;I had a look at the proposed patch and it looks good to me. Thank you very much!&lt;/p&gt;

&lt;p&gt;Only one thing where I am not sure: The getURL() method of&lt;br/&gt;
AbstractFileConfiguration at the moment always tries to locate the url using&lt;br/&gt;
ConfigurationUtils and returns the results. Shouldn&apos;t this method take sourceURL&lt;br/&gt;
into account if it is defined? Or would it be better to add another method&lt;br/&gt;
getSourceURL()?&lt;/p&gt;

&lt;p&gt;Let&apos;s wait for Emmanuel&apos;s opinion and if he agrees, I can commit it.&lt;/p&gt;</comment>
                            <comment id="12409089" author="jmguillemette@gmail.com" created="Tue, 26 Apr 2005 00:19:13 +0000"  >&lt;p&gt;Re: getURL()&lt;/p&gt;

&lt;p&gt;I may have missed that.. i had to write test.. undo and rewrite this logic a &lt;br/&gt;
few times.. trying to test the patch file .&lt;/p&gt;

&lt;p&gt;The getURL() method should do a null check on sourceURL if its not null then it &lt;br/&gt;
should return sourceURL else.. resolve the url and return.&lt;/p&gt;
</comment>
                            <comment id="12409090" author="oliver.heger@t-online.de" created="Thu, 5 May 2005 02:47:49 +0000"  >&lt;p&gt;Patch applied.&lt;/p&gt;

&lt;p&gt;I updated the getURL() method to perform the check with sourceURL first.&lt;/p&gt;

&lt;p&gt;Jamie, do you want me to add you to the list of contributors? If so, then please&lt;br/&gt;
send me the data I need for the team list (see&lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/commons/configuration/team-list.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/commons/configuration/team-list.html&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333452" name="ASF.LICENSE.NOT.GRANTED--AbstractFileConfiguration.diff" size="3420" author="oheger" created="Tue, 26 Apr 2005 00:02:48 +0000"/>
                            <attachment id="12333448" name="ASF.LICENSE.NOT.GRANTED--AbstractFileConfiguration.java" size="19474" author="jmguillemette@gmail.com" created="Fri, 8 Apr 2005 06:23:22 +0000"/>
                            <attachment id="12333453" name="ASF.LICENSE.NOT.GRANTED--TestFileConfiguration.diff" size="2956" author="oheger" created="Tue, 26 Apr 2005 00:07:06 +0000"/>
                            <attachment id="12333451" name="ASF.LICENSE.NOT.GRANTED--abstractFileConfiguration.patch" size="20139" author="jmguillemette@gmail.com" created="Wed, 20 Apr 2005 04:43:27 +0000"/>
                            <attachment id="12333449" name="ASF.LICENSE.NOT.GRANTED--fix.txt" size="479" author="jmguillemette@gmail.com" created="Fri, 8 Apr 2005 06:48:52 +0000"/>
                            <attachment id="12333450" name="ASF.LICENSE.NOT.GRANTED--unitTest.patch" size="1747" author="jmguillemette@gmail.com" created="Wed, 20 Apr 2005 04:42:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Apr 2005 15:09:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0up9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177233</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[CONFIGURATION-93] [configuration] NPE in FileChangedReloadingStrategy for configurations loaded from a JAR</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-93</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;FileChangedReloadingStrategy throws a NullPointerException if used with a&lt;br/&gt;
FileConfiguration loaded from a JAR. This is due to the null value returned by&lt;br/&gt;
AbstractFileConfiguration.getFile() in this case. I suggest to change the&lt;br/&gt;
strategy to silently ignore this case and behave like an&lt;br/&gt;
InvariantReloadingStrategy if the file doesn&apos;t exist.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342173">CONFIGURATION-93</key>
            <summary>[configuration] NPE in FileChangedReloadingStrategy for configurations loaded from a JAR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Apr 2005 01:52:23 +0000</created>
                <updated>Tue, 16 May 2006 12:14:38 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:14:38 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409108" author="oliver.heger@t-online.de" created="Tue, 31 May 2005 19:37:55 +0000"  >&lt;p&gt;Jorge Ferrer has made the suggestion to test the jar file itself in this case.&lt;br/&gt;
More information can be found at issue 34289, so I&apos;m marking this bug us duplicate.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 34289 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 31 May 2005 19:37:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110682</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0th8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-92] [configuration] XMLConfiguration.clearTree does not Auto Save.</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-92</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When the setAutoSave method has been called to turn auto saving on the method &lt;br/&gt;
XMLConfiguration.clearTree still does not save the configuration file.&lt;/p&gt;

&lt;p&gt;The user is forced to manually call XMLConfiguration.save()&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341970">CONFIGURATION-92</key>
            <summary>[configuration] XMLConfiguration.clearTree does not Auto Save.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bsutton@idatam.com.au">Brett Sutton</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Dec 2004 10:25:47 +0000</created>
                <updated>Tue, 16 May 2006 12:17:10 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:17:10 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408442" author="oliver.heger@t-online.de" created="Sat, 1 Jan 2005 01:03:26 +0000"  >&lt;p&gt;Fixed in CVS now. Thank you for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32899</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 1 Jan 2005 01:03:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-91] [configuration] Problem adding property XMLConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-91</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;CharacterData data = document.createTextNode((String) value); seems to be&lt;br/&gt;
adding array elements into one string versus multiple elements.  The XML&lt;br/&gt;
should look like:&lt;/p&gt;

&lt;p&gt; &amp;lt;test&amp;gt;&lt;br/&gt;
          	&amp;lt;array&amp;gt;value1&amp;lt;/array&amp;gt;&lt;br/&gt;
		&amp;lt;array&amp;gt;value2&amp;lt;/array&amp;gt;&lt;br/&gt;
		&amp;lt;array&amp;gt;value3&amp;lt;/array&amp;gt;&lt;br/&gt;
		&amp;lt;array&amp;gt;value4&amp;lt;/array&amp;gt;&lt;br/&gt;
&amp;lt;/test&amp;gt;&lt;/p&gt;

&lt;p&gt;However, it looks like:&lt;br/&gt;
 &amp;lt;test&amp;gt;&lt;br/&gt;
         &amp;lt;array&amp;gt;value1value2value3value4&amp;lt;/array&amp;gt;&lt;br/&gt;
&amp;lt;/test&amp;gt;&lt;/p&gt;

&lt;p&gt;The same basic problem occurs with this loop:&lt;br/&gt;
        // add an array of strings in an attribute&lt;br/&gt;
        for (int i = 1; i &amp;lt; 5; i++)&lt;/p&gt;
        {
            conf.addProperty(&quot;test.attribute[@array]&quot;, &quot;value&quot; + i);
        }

&lt;p&gt;However, in this case, instead of add value1, value2, etc:&lt;br/&gt;
 &amp;lt;test&amp;gt;&lt;br/&gt;
          	&amp;lt;attribute array=&quot;value1&quot;/&amp;gt;&lt;br/&gt;
          	&amp;lt;attribute array=&quot;value2&quot;/&amp;gt;&lt;br/&gt;
          	&amp;lt;attribute array=&quot;value3&quot;/&amp;gt;&lt;br/&gt;
          	&amp;lt;attribute array=&quot;value4&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/test&amp;gt;&lt;/p&gt;

&lt;p&gt;we get just:&lt;br/&gt;
 &amp;lt;test&amp;gt;&lt;br/&gt;
          	&amp;lt;attribute array=&quot;value4&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/test&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341630">CONFIGURATION-91</key>
            <summary>[configuration] Problem adding property XMLConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rgladwell">Ricardo Gladwell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Aug 2004 22:30:09 +0000</created>
                <updated>Tue, 16 May 2006 11:23:51 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407210" author="rgladwell" created="Wed, 11 Aug 2004 22:31:40 +0000"  >&lt;p&gt;Created an attachment (id=12393)&lt;br/&gt;
Patch fixes this bug and passes XMLConfiguration JUnit tests.&lt;/p&gt;</comment>
                            <comment id="12407211" author="dep4b" created="Thu, 12 Aug 2004 22:49:10 +0000"  >&lt;p&gt;Thanks for the patch!  I have applied it.  as a note for the future, when you&lt;br/&gt;
attach a patch, make sure other stuff doesn&apos;t creep in.  I&apos;m guessing you have&lt;br/&gt;
both your patch for this bug, as well as the map stuff in your ide &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;check out the changes.xml doc!&lt;/p&gt;

&lt;p&gt;Eric Pugh&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333041" name="ASF.LICENSE.NOT.GRANTED--commons-configuration.bug30598.patch.txt" size="18328" author="rgladwell" created="Wed, 11 Aug 2004 22:31:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Aug 2004 22:49:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169889</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-90] [configuration] Set wrong property when call XMLConfiguration.setProperty</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-90</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When I call org.apache.commons.configuration.XMLConfiguration.setProperty to &lt;br/&gt;
set property, I find the relevant element in XML Document is set twice. For &lt;br/&gt;
example, to call setProperty(&quot;name1&quot;, &quot;value1&quot;) will obtain the node like &lt;br/&gt;
&amp;lt;name1&amp;gt;value1value1&amp;lt;/name1&amp;gt;&lt;br/&gt;
the value &quot;value1&quot; appear twice.&lt;/p&gt;

&lt;p&gt;I find that when I call setProperty, addXMLProperty is called before &lt;br/&gt;
setXMLProperty. When I comment &quot;setXmlProperty(name, value);&quot;(about line 347 in &lt;br/&gt;
XMLConfiguration), the problem is disappeared.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341653">CONFIGURATION-90</key>
            <summary>[configuration] Set wrong property when call XMLConfiguration.setProperty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="njualert">Gao Peng</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Aug 2004 16:35:58 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:41 +0000</updated>
                            <resolved>Sat, 22 Aug 2009 19:36:41 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407309" author="dep4b" created="Fri, 10 Sep 2004 20:37:14 +0000"  >&lt;p&gt;I tried this, and it all worked..  Can you test with CVS HEAD?  If you see the&lt;br/&gt;
bug, can you edit TestXmlConfiguration and add a testcase?&lt;/p&gt;</comment>
                            <comment id="12407310" author="ebourg" created="Fri, 10 Sep 2004 20:54:15 +0000"  >&lt;p&gt;Changing resolution to WFM&lt;/p&gt;</comment>
                            <comment id="12407311" author="ebourg" created="Tue, 28 Sep 2004 18:47:56 +0000"  >&lt;p&gt;Reopening per comment #2 in &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-168&quot; title=&quot;[configuration] Messed file on saving an XMLConfiguration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-168&quot;&gt;&lt;del&gt;COM-1601&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12407312" author="rwinston@eircom.net" created="Tue, 28 Sep 2004 19:08:42 +0000"  >&lt;p&gt;I can reproduce with this code:&lt;/p&gt;

&lt;p&gt;/*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Copyright 2001-2004 The Apache Software Foundation.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;Licensed under the Apache License, Version 2.0 (the &quot;License&quot;)&lt;/li&gt;
	&lt;li&gt;you may not use this file except in compliance with the License.&lt;/li&gt;
	&lt;li&gt;You may obtain a copy of the License at&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;Unless required by applicable law or agreed to in writing, software&lt;/li&gt;
	&lt;li&gt;distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;/li&gt;
	&lt;li&gt;WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;/li&gt;
	&lt;li&gt;See the License for the specific language governing permissions and&lt;/li&gt;
	&lt;li&gt;limitations under the License.&lt;br/&gt;
 */&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;package org.apache.commons.configuration;&lt;/p&gt;

&lt;p&gt;import java.io.File;&lt;/p&gt;


&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test for loading and saving xml properties files&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;@version $Id: TestXMLConfiguration.java,v 1.11 2004/09/22 17:17:30 ebourg Exp $&lt;br/&gt;
 */&lt;br/&gt;
public class TestCfg &lt;br/&gt;
{&lt;br/&gt;
    /** The File that we test with */&lt;br/&gt;
    private static String testProperties = new&lt;br/&gt;
File(&quot;conf/ckfr_test.xml&quot;).getAbsolutePath();&lt;br/&gt;
    private static String testBasePath = new File(&quot;conf&quot;).getAbsolutePath();&lt;br/&gt;
    private static File testSaveConf = new File(&quot;target/ckfr_save.xml&quot;);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    static XMLConfiguration conf;&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) throws Exception&lt;/p&gt;
    {
        conf = new XMLConfiguration(new File(testProperties));
		conf.addProperty(&quot;a.key2&quot;, &quot;value2&quot;);
		conf.save(testSaveConf);
		conf.setProperty(&quot;a.key1&quot;, &quot;abcdefgh&quot;);
		conf.save(testSaveConf); 
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;and this starting file:&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;configuration&amp;gt;&lt;br/&gt;
&amp;lt;a&amp;gt;&lt;br/&gt;
&amp;lt;/a&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;Can anyone else reproduce? Some logging statements:&lt;/p&gt;

&lt;p&gt;INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;&lt;br/&gt;
org.apache.commons.configuration.XMLConfiguration.addXmlProperty(XMLConfiguration.java:478)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Created element: [&lt;span class=&quot;error&quot;&gt;&amp;#91;key1: null&amp;#93;&lt;/span&gt;], appending to parent [&lt;span class=&quot;error&quot;&gt;&amp;#91;a: null&amp;#93;&lt;/span&gt;]&lt;br/&gt;
INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;&lt;br/&gt;
org.apache.commons.configuration.XMLConfiguration.addXmlProperty(XMLConfiguration.java:483)&lt;/li&gt;
	&lt;li&gt;Appending text &lt;span class=&quot;error&quot;&gt;&amp;#91;abcdefgh&amp;#93;&lt;/span&gt; to child&lt;br/&gt;
INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;&lt;br/&gt;
org.apache.commons.configuration.XMLConfiguration.setXmlProperty(XMLConfiguration.java:418)&lt;/li&gt;
	&lt;li&gt;Appending abcdefgh to &lt;span class=&quot;error&quot;&gt;&amp;#91;key1: null&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12407313" author="rwinston@eircom.net" created="Wed, 29 Sep 2004 14:56:00 +0000"  >&lt;p&gt;The bug seems to be that setXmlProperty() sets the value twice - once in&lt;br/&gt;
addXmlProperty(), and &lt;b&gt;then&lt;/b&gt; in setXmlProperty(). The second time, it just&lt;br/&gt;
blindly appends the textual Property value to the parent node, when of course,&lt;br/&gt;
an existing text node has already been created in addXmlProperty(), giving&lt;br/&gt;
&amp;lt;a&amp;gt;foofoo&amp;lt;/a&amp;gt; instead of &amp;lt;a&amp;gt;foo&amp;lt;/a&amp;gt;&lt;/p&gt;

&lt;p&gt;Perhaps setXmlProperty should clear the property before setting it to its new&lt;br/&gt;
value. This however, still means that the attribute gets initialized twice,&lt;br/&gt;
which feels like a &quot;code smell&quot;, I think you&apos;ll agree.&lt;/p&gt;

&lt;p&gt;Here is one way to do that , I would urge you to review this and then look for&lt;br/&gt;
alternative/more efficient mechanisms if they are available - I wrote this in a&lt;br/&gt;
hurry &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;private void setXmlProperty(String name, Object value)&lt;br/&gt;
    {&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;


&lt;p&gt;        if (attName == null)&lt;br/&gt;
        {&lt;br/&gt;
            // Should remove all existing text nodes before appending a new one&lt;br/&gt;
            CharacterData data = document.createTextNode(String.valueOf(value));&lt;br/&gt;
            logger.info(&quot;Appending &quot; + data.getData() + &quot; to &quot; + element);&lt;/p&gt;

&lt;p&gt;            Node node = null;&lt;br/&gt;
            NodeList children = element.getChildNodes();&lt;br/&gt;
            for(int i = 0; i &amp;lt; children.getLength(); ++i) {&lt;/p&gt;

&lt;p&gt;            	if((node = (Node)children.item&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/information.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;).getNodeType() == Node.TEXT_NODE) &lt;/p&gt;
{
            		logger.info(&quot;Found an existing text node [ &quot;+ node + &quot;] under &quot; +
element + &quot;, removing...&quot;);
            		element.removeChild(node);
            	}
&lt;p&gt;            }&lt;/p&gt;

&lt;p&gt;            element.appendChild(data);  &lt;br/&gt;
            logger.info(&quot;Child element # of &quot; + element + &quot; is now &quot; +&lt;br/&gt;
element.getChildNodes().getLength());&lt;/p&gt;

&lt;p&gt;        }&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;


&lt;p&gt;This produces the expected results (at least for my testcase, anyways). I think&lt;br/&gt;
a new TestCase should be written to regression-test this bug.&lt;/p&gt;

&lt;p&gt;This also brings me to an issue I have with the Configuration codebase, and one&lt;br/&gt;
I am frequently guilty of myself - where is the logging?? If there was a&lt;br/&gt;
consistent level of logging across the codebase, bugs like this would be &lt;b&gt;much&lt;/b&gt;&lt;br/&gt;
easier to track down. &lt;/p&gt;
</comment>
                            <comment id="12407314" author="ebourg" created="Tue, 5 Oct 2004 01:17:47 +0000"  >&lt;p&gt;I checked in a test case. I&apos;m working on a fix&lt;/p&gt;</comment>
                            <comment id="12407315" author="ebourg" created="Tue, 5 Oct 2004 02:41:15 +0000"  >&lt;p&gt;Fixed! I just removed setProperty and setXmlProperty, there was no reason to&lt;br/&gt;
keep them in XMLConfiguration since the &quot;set&quot; logic is already performed as a&lt;br/&gt;
&quot;clear and add&quot; in AbstractConfiguration.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30799</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 Sep 2004 20:37:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33917</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l6av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-89] [configuration] Setting the reloading strategy to FileChangedReloadingStrategy erases entire configuration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-89</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When setting a PropertiesConfiguration reloading strategy to&lt;br/&gt;
FileChangedReloadingStrategy - the entire configuration is erased.&lt;/p&gt;

&lt;p&gt;The problem is that when the FileChangedReloadingStrategy is set, the&lt;br/&gt;
configuration file is erased and then reloaded and then written out.&lt;/p&gt;

&lt;p&gt;The file is erased in AbstractFileConfiguration.save(File) when a new&lt;br/&gt;
FileOutputStream is created.  Then in the PropertiesConfiguration.save(Writer)&lt;br/&gt;
the call to getKeys() causes a reaload() to occur (which the strategy says needs&lt;br/&gt;
to be reloaded because it has been modified).  But the saved config file is now&lt;br/&gt;
zeroed out by the new file stream, and it is read in as an empty config.&lt;/p&gt;


&lt;p&gt;Here is a testcase that exposed this defect:&lt;/p&gt;

&lt;p&gt;    public void&lt;br/&gt;
testPropertiesConfigurationWithFileChangedReloadingStrategyDefect() throws&lt;br/&gt;
ConfigurationException, FileNotFoundException, IOException &lt;/p&gt;
{
        FileWriter file = new FileWriter(&quot;testfile.properties&quot;);
        file.write(&quot;a=1&quot;);
        file.close();
        FileConfiguration config = new
PropertiesConfiguration(&quot;testfile.properties&quot;);
        config.setAutoSave(true);
        config.setReloadingStrategy(new FileChangedReloadingStrategy());

        assertEquals(&quot;1&quot;, config.getString(&quot;a&quot;));
        config.setProperty(&quot;2&quot;, &quot;b&quot;);
        assertEquals(&quot;1&quot;, config.getString(&quot;a&quot;));                        
    }</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342185">CONFIGURATION-89</key>
            <summary>[configuration] Setting the reloading strategy to FileChangedReloadingStrategy erases entire configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bsoutham@gmail.com">Blaine R Southam</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Apr 2005 01:26:20 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:41 +0000</updated>
                            <resolved>Sat, 22 Aug 2009 19:36:41 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409143" author="oliver.heger@t-online.de" created="Mon, 18 Apr 2005 19:17:06 +0000"  >&lt;p&gt;I had a look at this issue, but am yet unsure about the best way to solve it.&lt;br/&gt;
Here are some of my thoughts:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In general setting both a reloading strategy and auto save mode can always&lt;br/&gt;
lead to problems because there can be concurrent changes in both the&lt;br/&gt;
Configuration object and the configuration file. Then the results cannot be&lt;br/&gt;
predicted.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In this special case the problem lies in the call to getKeys() in the save()&lt;br/&gt;
method of PropertiesConfiguration. So a quick (and dirty?) solution would be to&lt;br/&gt;
access the properties in a different way, maybe by making the map with the&lt;br/&gt;
properties in BaseConfiguration protected.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In the current implementation there is more danger potential in the&lt;br/&gt;
collaboration of save() methods and reloading behavior, e.g. a getProperty()&lt;br/&gt;
call might also cause a reload. So it might make sense to disable reloading as&lt;br/&gt;
long as a save() operation is executed. This could be achieved by setting a flag&lt;br/&gt;
(or increasing a counter) at the entrance of a save() method and resetting this&lt;br/&gt;
flag again in a finally block. If this flag is set, the reload() method would do&lt;br/&gt;
nothing.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I don&apos;t know the affected code too well, so I might be missing something obvious.&lt;/p&gt;</comment>
                            <comment id="12409144" author="oliver.heger@t-online.de" created="Fri, 6 May 2005 01:49:51 +0000"  >&lt;p&gt;Created an attachment (id=14945)&lt;br/&gt;
Unit test to illustrate the bug&lt;/p&gt;</comment>
                            <comment id="12409145" author="oliver.heger@t-online.de" created="Fri, 6 May 2005 01:54:21 +0000"  >&lt;p&gt;Created an attachment (id=14946)&lt;br/&gt;
Proposed fix for this issue&lt;/p&gt;

&lt;p&gt;This patch is a proposal to fix the problem:&lt;/p&gt;

&lt;p&gt;Two methods were added to AbstractFileConfiguration, enterNoReload() and&lt;br/&gt;
exitNoReload(). The former increments a counter, the latter decrements it. The&lt;br/&gt;
reload() method now first checks this counter and only performs a reloading if&lt;br/&gt;
the counter is 0.&lt;/p&gt;

&lt;p&gt;In PropertiesConfiguration the save() method calls these methods thus ensuring&lt;br/&gt;
that no problems are caused by a reload.&lt;/p&gt;

&lt;p&gt;Comments?&lt;/p&gt;</comment>
                            <comment id="12409146" author="oliver.heger@t-online.de" created="Wed, 18 May 2005 02:51:56 +0000"  >&lt;p&gt;Committed a patch, should be fixed in the next nightly builds.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333460" name="ASF.LICENSE.NOT.GRANTED--AbstractFileConfiguration.diff" size="2768" author="oheger" created="Fri, 6 May 2005 01:54:21 +0000"/>
                            <attachment id="12333459" name="ASF.LICENSE.NOT.GRANTED--TestFileConfiguration.diff" size="2092" author="oheger" created="Fri, 6 May 2005 01:49:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Apr 2005 19:17:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uodr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-88] [configuration] ClassNotFoundException on Sun App Server</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-88</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When used in an EJB application deployed on Sun app server 8.1 (platform edition&lt;br/&gt;
8.1 build b28-beta), ConfigurationFactory throws a java.lang.ClassNotFoundException:&lt;br/&gt;
org.apache.commons.configuration.Configuration.&lt;/p&gt;

&lt;p&gt;Sun includes Digester in at least one of the jars included with the platform,&lt;br/&gt;
appserv-rt.jar, so presumably Digester is being loaded by the System&lt;br/&gt;
classloader.  This makes Digester unable to find classes loaded by the EJB&lt;br/&gt;
classloader (in this case, classes in configuration-1.0.jar) unless Digester&apos;s&lt;br/&gt;
useContextClassLoader variable is set to true.&lt;/p&gt;

&lt;p&gt;This patch modifies ConfigurationFactory to set useContextClassLoader to true on&lt;br/&gt;
the digester.&lt;/p&gt;

&lt;p&gt;Index: ConfigurationFactory.java&lt;br/&gt;
===================================================================&lt;br/&gt;
RCS file:&lt;br/&gt;
/home/cvspublic/jakarta-commons/configuration/src/java/org/apache/commons/configuration/ConfigurationFactory.java,v&lt;br/&gt;
retrieving revision 1.20&lt;br/&gt;
diff -u -w -b -r1.20 ConfigurationFactory.java&lt;br/&gt;
&amp;#8212; ConfigurationFactory.java	23 Dec 2004 18:42:25 -0000	1.20&lt;br/&gt;
+++ ConfigurationFactory.java	9 Feb 2005 20:22:18 -0000&lt;br/&gt;
@@ -152,8 +152,12 @@&lt;br/&gt;
             // awareness must be configured before the digester rules are&lt;br/&gt;
loaded.&lt;br/&gt;
             configureNamespace(digester);&lt;br/&gt;
         }&lt;br/&gt;
+&lt;br/&gt;
+        digester.setUseContextClassLoader (true);&lt;br/&gt;
+&lt;br/&gt;
         // Put the composite builder object below all of the other objects.&lt;br/&gt;
         digester.push(builder);&lt;br/&gt;
+&lt;br/&gt;
         // Parse the input stream to configure our mappings&lt;br/&gt;
         try&lt;br/&gt;
         {&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342047">CONFIGURATION-88</key>
            <summary>[configuration] ClassNotFoundException on Sun App Server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mbcolbert@yahoo.com">Mike Colbert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Feb 2005 06:36:05 +0000</created>
                <updated>Tue, 16 May 2006 11:23:50 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:50 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408686" author="mbcolbert@yahoo.com" created="Thu, 10 Feb 2005 07:02:04 +0000"  >&lt;p&gt;Stack trace ...&lt;/p&gt;

&lt;p&gt;java.lang.ClassNotFoundException:&lt;br/&gt;
org.apache.commons.configuration.Configuration&lt;br/&gt;
	at java.net.URLClassLoader$1.run(URLClassLoader.java:199)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:187)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:289)&lt;br/&gt;
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:274)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:235)&lt;br/&gt;
	at org.apache.commons.digester.SetNextRule.end(SetNextRule.java:243)&lt;br/&gt;
	at org.apache.commons.digester.Rule.end(Rule.java:276)&lt;br/&gt;
	at org.apache.commons.digester.Digester.endElement(Digester.java:1058)&lt;br/&gt;
	at&lt;br/&gt;
com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:585)&lt;br/&gt;
	at&lt;br/&gt;
com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:221)&lt;br/&gt;
	at&lt;br/&gt;
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:839)&lt;br/&gt;
	at&lt;br/&gt;
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1563)&lt;br/&gt;
	at&lt;br/&gt;
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:341)&lt;br/&gt;
	at&lt;br/&gt;
com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:828)&lt;br/&gt;
	at&lt;br/&gt;
com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:758)&lt;br/&gt;
	at&lt;br/&gt;
com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:148)&lt;br/&gt;
	at&lt;br/&gt;
com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1178)&lt;br/&gt;
	at org.apache.commons.digester.Digester.parse(Digester.java:1567)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.commons.configuration.ConfigurationFactory.getConfiguration(ConfigurationFactory.java:157)&lt;/p&gt;</comment>
                            <comment id="12408687" author="oliver.heger@t-online.de" created="Thu, 10 Feb 2005 21:59:03 +0000"  >&lt;p&gt;Mike,&lt;/p&gt;

&lt;p&gt;I am a bit reluctant about this patch because I am unsure whether it has any&lt;br/&gt;
undesired side effects. Did you check if all unit tests run with your modification?&lt;/p&gt;

&lt;p&gt;Did you evaluate other options to solve your problem, e.g. including the correct&lt;br/&gt;
version of digester in your ear and setting the classpath property in the&lt;br/&gt;
manifest of your ejb-jars?&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</comment>
                            <comment id="12408688" author="mbcolbert@yahoo.com" created="Thu, 10 Feb 2005 23:30:37 +0000"  >&lt;p&gt;Hi Oliver,&lt;/p&gt;

&lt;p&gt;I ran the unit tests with and without the patch; TestXMLConfiguration failed in&lt;br/&gt;
the same way both times at testLoad.  So, I&apos;m unable to tell at this time if the&lt;br/&gt;
patch affects the unit tests.  This is using code from CVS.&lt;/p&gt;

&lt;p&gt;Regarding other options, I&apos;m open to alternatives.  I am already packaging the&lt;br/&gt;
correct jars in the EAR and setting the classpath in the ejb-jar manifest.  This&lt;br/&gt;
doesn&apos;t solve the problem, though, due to the classloader delegation model. &lt;br/&gt;
Since Digester is already loaded by the System classloader, it will not be&lt;br/&gt;
loaded by any child classloaders, such as the EJB classloader.&lt;/p&gt;

&lt;p&gt;Again, I&apos;m using code from CVS.  Does this make any difference?  I&apos;m a little&lt;br/&gt;
confused about whether to use CVS or SVN here.  CVS doesn&apos;t look seem as up to date.&lt;/p&gt;


</comment>
                            <comment id="12408689" author="oliver.heger@t-online.de" created="Thu, 10 Feb 2005 23:44:52 +0000"  >&lt;p&gt;Mike,&lt;/p&gt;

&lt;p&gt;we (the whole jakarta commons) switched from CVS to SVN recently. There have&lt;br/&gt;
been minor changes in the meantime (especially in the build.xml), thats probably&lt;br/&gt;
the reason why the unit tests fail. You can checkout the newest version of&lt;br/&gt;
configuration using&lt;/p&gt;

&lt;p&gt;svn checkout&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/jakarta/commons/proper/configuration/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/jakarta/commons/proper/configuration/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</comment>
                            <comment id="12408690" author="ebourg" created="Thu, 10 Feb 2005 23:48:35 +0000"  >&lt;p&gt;The code has been migrated to SVN recently, you can ignore the code in CVS.&lt;/p&gt;

&lt;p&gt;I&apos;m +1 for the change suggested by Mike, I haven&apos;t tested it but it makes sense.&lt;br/&gt;
If this issue comes back later we can easily add a way to configure the&lt;br/&gt;
classloader used by the ConfigurationFactory.&lt;/p&gt;</comment>
                            <comment id="12408691" author="oliver.heger@t-online.de" created="Thu, 10 Feb 2005 23:57:20 +0000"  >&lt;p&gt;If the unit tests run, I am fine as well.&lt;/p&gt;

&lt;p&gt;I was wondering if it makes sense to get rid off digester as a core dependency&lt;br/&gt;
anyway. The XML files processed by configuration factory are quite simple and&lt;br/&gt;
digester does not earn us that much. I think parsing these files by hand using&lt;br/&gt;
SAX would not be too complicated.&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</comment>
                            <comment id="12408692" author="ebourg" created="Fri, 11 Feb 2005 00:20:21 +0000"  >&lt;p&gt;Well why not, but that may prevent us from doing more complex things with&lt;br/&gt;
ConfigurationFactory in the future. Digester is also used by&lt;br/&gt;
XMLPropertiesConfiguration, a simple SAX parser would be good enough there.&lt;/p&gt;</comment>
                            <comment id="12408693" author="oliver.heger@t-online.de" created="Fri, 11 Feb 2005 04:38:02 +0000"  >&lt;p&gt;Or even cooler, we could use XMLConfiguration in ConfigurationFactory to parse&lt;br/&gt;
the definition file. Then we could use the whole Configuration API to access the&lt;br/&gt;
properties and could do wild things, too. Just a thought, but I enjoy such&lt;br/&gt;
recursive stuff!&lt;/p&gt;</comment>
                            <comment id="12408694" author="skitching" created="Fri, 11 Feb 2005 06:57:34 +0000"  >&lt;p&gt;(In reply to comment #8)&lt;br/&gt;
&amp;gt; Or even cooler, we could use XMLConfiguration in ConfigurationFactory to parse&lt;br/&gt;
&amp;gt; the definition file. Then we could use the whole Configuration API to access the&lt;br/&gt;
&amp;gt; properties and could do wild things, too. Just a thought, but I enjoy such&lt;br/&gt;
&amp;gt; recursive stuff!&lt;/p&gt;

&lt;p&gt;If you can use XMLConfiguration to read your config files, I would recommend that.&lt;/p&gt;

&lt;p&gt;However in reference to the original posting, I think setting Digester&apos;s&lt;br/&gt;
useContextClassLoader is the correct thing to do, and should not have any&lt;br/&gt;
side-effects. If this flag is defined but there is no context classloader set,&lt;br/&gt;
then digester will effectively ignore the flag.&lt;/p&gt;

&lt;p&gt;The only possibility for problems is where contextClassLoader is set but you&lt;br/&gt;
don&apos;t want to use that to load &quot;user&quot; classes. And I can&apos;t see why that would&lt;br/&gt;
ever happen.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Simon (one of the maintainers of commons-digester)&lt;/p&gt;</comment>
                            <comment id="12408695" author="oliver.heger@t-online.de" created="Fri, 11 Feb 2005 15:55:43 +0000"  >&lt;p&gt;Simon,&lt;/p&gt;

&lt;p&gt;thank you for making things clearer.&lt;/p&gt;

&lt;p&gt;Then I am also +1 for applying this patch now. If we want to remove the&lt;br/&gt;
dependency to digester, we can do this in the process of the refactoring of&lt;br/&gt;
ConfigurationFactory.&lt;/p&gt;

&lt;p&gt;Emmanuel, are you going to apply this patch?&lt;/p&gt;</comment>
                            <comment id="12408696" author="ebourg" created="Fri, 11 Feb 2005 18:16:33 +0000"  >&lt;p&gt;Go ahead and apply, I&apos;m not fully operational with SVN yet &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12408697" author="mbcolbert@yahoo.com" created="Fri, 11 Feb 2005 22:13:43 +0000"  >&lt;p&gt;Thanks to everyone for weighing in and taking a look at the problem so quickly.&lt;/p&gt;

</comment>
                            <comment id="12408698" author="oliver.heger@t-online.de" created="Sat, 12 Feb 2005 00:21:32 +0000"  >&lt;p&gt;Patch applied.&lt;br/&gt;
Thank you very much!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Feb 2005 21:59:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-87] [configuration] getKeys(String) broken in JNDIConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-87</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The getKeys(String prefix) implementation in JNDIConfiguration seems to be&lt;br/&gt;
broken, I tried to call this method with a prefix that is not used in the&lt;br/&gt;
configuration and it didn&apos;t return an empty iterator as expected.&lt;/p&gt;

&lt;p&gt;config.getKeys(&quot;foo.bar&quot;);&lt;/p&gt;

&lt;p&gt;returns an Iterator with the &quot;foo&quot; and &quot;bar&quot; elements.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341531">CONFIGURATION-87</key>
            <summary>[configuration] getKeys(String) broken in JNDIConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Jun 2004 22:31:35 +0000</created>
                <updated>Tue, 16 May 2006 12:23:57 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:23:57 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406901" author="ebourg" created="Mon, 21 Jun 2004 22:38:06 +0000"  >&lt;p&gt;A test demonstrating this issue has been added to TestJNDIEnvironmentValues.&lt;/p&gt;</comment>
                            <comment id="12406902" author="ebourg" created="Thu, 8 Jul 2004 22:36:33 +0000"  >&lt;p&gt;fixed!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29717</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-86] [configuration] NullPointerException thrown by AbstractFileConfiguration.getFile()</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-86</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The getFile() method throws a NullPointerException if no file name has been set&lt;br/&gt;
yet. This can also happen after a file has been successfully loaded because most&lt;br/&gt;
of the overloaded load() methods do not store the passed in file name.&lt;/p&gt;

&lt;p&gt;This issue was reported by Mi Zhang on commons user list (see&lt;br/&gt;
&lt;a href=&quot;http://thread.gmane.org/gmane.comp.jakarta.commons.user/12289&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://thread.gmane.org/gmane.comp.jakarta.commons.user/12289&lt;/a&gt;).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342384">CONFIGURATION-86</key>
            <summary>[configuration] NullPointerException thrown by AbstractFileConfiguration.getFile()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jul 2005 04:24:58 +0000</created>
                <updated>Tue, 16 May 2006 12:11:34 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:11:34 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409856" author="ebourg" created="Thu, 21 Jul 2005 05:36:15 +0000"  >&lt;p&gt;The NullPointerException is a bug, but getFile() should return null in this&lt;br/&gt;
case. The load(String filename) method should not store the file in the&lt;br/&gt;
configuration.&lt;/p&gt;</comment>
                            <comment id="12409857" author="oliver.heger@t-online.de" created="Thu, 21 Jul 2005 21:58:21 +0000"  >&lt;p&gt;Not sure whether getFile() should return null after a file was loaded. What&lt;br/&gt;
about the following:&lt;/p&gt;

&lt;p&gt;FileConfiguration conf = new PropertiesConfiguration();&lt;br/&gt;
conf.load(&quot;myfile.properties&quot;);&lt;br/&gt;
...&lt;br/&gt;
conf.save();&lt;/p&gt;

&lt;p&gt;ATM this code will work and store the data at the same place where it was loaded&lt;br/&gt;
from (because the source URL is now stored). This is okay for me, it&apos;s what I&lt;br/&gt;
expect. So there is an association between the configuration and the file it was&lt;br/&gt;
loaded from. Why not return this file in the getFile() method and its name in&lt;br/&gt;
the getFileName() method?&lt;/p&gt;</comment>
                            <comment id="12409858" author="ebourg" created="Thu, 21 Jul 2005 22:46:43 +0000"  >&lt;p&gt;That&apos;s not how I initially designed the FileConfiguration, the idea was to&lt;br/&gt;
attach the configuration to the file only by using the constructors or calling&lt;br/&gt;
setFile/setFilename. The load/save methods were not supposed to change the file&lt;br/&gt;
of the configuration, my bad for not writing a test covering this case.&lt;/p&gt;</comment>
                            <comment id="12409859" author="oliver.heger@t-online.de" created="Fri, 22 Jul 2005 00:25:59 +0000"  >&lt;p&gt;If this is the desired behavior, it should not be a problem to achieve it.&lt;/p&gt;

&lt;p&gt;That the file name won&apos;t be changed is documented for the save() methods, but&lt;br/&gt;
not for the load() methods, so there is room for confusion. The user who&lt;br/&gt;
initiated this request was obviously on the opinion that after a load the file&lt;br/&gt;
name would be available. For me this would make sense, too.&lt;/p&gt;

&lt;p&gt;Could you please in short explain your motivation why the load() methods should&lt;br/&gt;
not change the file name?&lt;/p&gt;

&lt;p&gt;The only incosistency I can see ATM is that load() can be called multiple times&lt;br/&gt;
constructing a union configuration. Then the first call would determine the&lt;br/&gt;
stored file name. But IMO that&apos;s not too bad.&lt;/p&gt;</comment>
                            <comment id="12409860" author="oliver.heger@t-online.de" created="Fri, 22 Jul 2005 18:27:21 +0000"  >&lt;p&gt;I committed a fix, which avoids the NPE. getFile() will return null as long as&lt;br/&gt;
no file has been set using one of the setter methods, even when a file has been&lt;br/&gt;
loaded. So this is inline to comment #1.&lt;/p&gt;</comment>
                            <comment id="12409861" author="ebourg" created="Sat, 23 Jul 2005 02:12:42 +0000"  >&lt;p&gt;(In reply to comment #4)&lt;br/&gt;
&amp;gt; Could you please in short explain your motivation why the load() methods should&lt;br/&gt;
&amp;gt; not change the file name?&lt;/p&gt;

&lt;p&gt;The motivation was to remain symmetric with the semantic of save(), and saving&lt;br/&gt;
without changing the file was a requirement to copy easily a configuration. I&lt;br/&gt;
believe it&apos;s also important to have basic methods with the simplest semantic&lt;br/&gt;
possible, that&apos;s why it just loads from the source, and not load and set the&lt;br/&gt;
reference to the source. This gives a greater flexibility for composing the&lt;br/&gt;
methods and achieving a more complex behaviour.&lt;/p&gt;

&lt;p&gt;Thank you for the fix Oliver.&lt;/p&gt;</comment>
                            <comment id="12409862" author="oliver.heger@t-online.de" created="Tue, 26 Jul 2005 04:09:09 +0000"  >&lt;p&gt;Accepted. Then I will do the following:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add a note to the javadoc of the load() methods that they do not change the&lt;br/&gt;
file name (analogous to the save() methods).&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Update the save(void) method to throw an exception if no file name has been&lt;br/&gt;
set. This behavior should be compatible to the 1.1 release.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add some tests to verify and document this behavior.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="12409863" author="ebourg" created="Tue, 26 Jul 2005 17:17:29 +0000"  >&lt;p&gt;That sounds good&lt;/p&gt;</comment>
                            <comment id="12409864" author="oliver.heger@t-online.de" created="Fri, 29 Jul 2005 23:58:08 +0000"  >&lt;p&gt;Done! So I am closing this issue now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Jul 2005 05:36:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-85] [configuration] XMLConfiguration does not handle tag names with dots correctly</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-85</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;If an XML file with tag names containing the dot character is loaded by&lt;br/&gt;
XMLConfiguration, access to properties with dots in their name is impossible.&lt;br/&gt;
The dot character is always interpreted as a delimiter character.&lt;/p&gt;

&lt;p&gt;There should be a way of escaping dot characters when they belong to the tag name.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342338">CONFIGURATION-85</key>
            <summary>[configuration] XMLConfiguration does not handle tag names with dots correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oheger">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jun 2005 02:44:15 +0000</created>
                <updated>Tue, 16 May 2006 11:23:50 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:50 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409680" author="oliver.heger@t-online.de" created="Mon, 27 Jun 2005 02:46:01 +0000"  >&lt;p&gt;Created an attachment (id=15535)&lt;br/&gt;
Test case demonstrating the bug&lt;/p&gt;

&lt;p&gt;This patch adds some tags with dots to the test.xml file and then checks&lt;br/&gt;
whether the corresponding property values can be retrieved.&lt;/p&gt;</comment>
                            <comment id="12409681" author="oliver.heger@t-online.de" created="Tue, 28 Jun 2005 01:32:06 +0000"  >&lt;p&gt;Fixed in SVN.&lt;/p&gt;</comment>
                            <comment id="12409682" author="ebourg" created="Tue, 28 Jun 2005 01:47:26 +0000"  >&lt;p&gt;I just looked at the diff, the dot is escaped in the key with another dot, right&lt;br/&gt;
? What about escaping it with the usual backslash instead ? This would be&lt;br/&gt;
consistent with the way special characters like &quot;=&quot; and &quot;:&quot; are escaped in a key&lt;br/&gt;
of a .properties file. (&lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-184&quot; title=&quot;[configuration] Support escaped separators in keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-184&quot;&gt;&lt;del&gt;COM-1321&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="12409683" author="oliver.heger@t-online.de" created="Tue, 28 Jun 2005 01:57:39 +0000"  >&lt;p&gt;Right, I used a duplicated dot to do the escaping. I was also thinking about a&lt;br/&gt;
backslash, but I found it inconvenient that in String literals the backslash&lt;br/&gt;
itself has to be escaped. So you would have to write &quot;my&lt;br class=&quot;atl-forced-newline&quot; /&gt;.elem&quot;. This would&lt;br/&gt;
certainly often lead to the error &quot;my\.elem&quot;.&lt;/p&gt;

&lt;p&gt;Well, I think it&apos;s a question of taste. What about a normal slash? But this is&lt;br/&gt;
uncommon, too.&lt;/p&gt;</comment>
                            <comment id="12409684" author="ebourg" created="Tue, 28 Jun 2005 02:20:37 +0000"  >&lt;p&gt;You are right, the backslash is less convenient, but on the other other it&apos;s the&lt;br/&gt;
usual way to escape stuff in Java. &lt;/p&gt;

&lt;p&gt;Another point, if the user decides to change all delimiters to something else,&lt;br/&gt;
like &quot;/&quot;, the double dot notation doesn&apos;t make sense anymore. Maybe doubling the&lt;br/&gt;
delimiter would be more correct, that means replacing ESCAPED_DELIMITER in the&lt;br/&gt;
code by PROPERTY_DELIMITER + PROPERTY_DELIMITER.&lt;/p&gt;</comment>
                            <comment id="12409685" author="oliver.heger@t-online.de" created="Tue, 28 Jun 2005 02:42:40 +0000"  >&lt;p&gt;&amp;gt; Another point, if the user decides to change all delimiters to something else,&lt;br/&gt;
&amp;gt; like &quot;/&quot;, the double dot notation doesn&apos;t make sense anymore. Maybe doubling the&lt;br/&gt;
&amp;gt; delimiter would be more correct, that means replacing ESCAPED_DELIMITER in the&lt;br/&gt;
&amp;gt; code by PROPERTY_DELIMITER + PROPERTY_DELIMITER.&lt;/p&gt;

&lt;p&gt;By &quot;change all delimiters&quot; do you mean by changing the constant&apos;s value in the&lt;br/&gt;
source file? I think there are multiple other places in different source files&lt;br/&gt;
where a &quot;.&quot; is hardcoded.&lt;/p&gt;

&lt;p&gt;But I agree that PROPERTY_DELIMITER + PROPERTY_DELIMITER would be the correct&lt;br/&gt;
value for the ESCAPED_DELIMITER constant. I can change this unless you insist on&lt;br/&gt;
a backslash (which should not mean that I cannot live with a backslash &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="12409686" author="ebourg" created="Tue, 28 Jun 2005 03:16:08 +0000"  >&lt;p&gt;Oops sorry I thought we already implemented the customizable property delimiters&lt;br/&gt;
&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Centralizing the hardcoded &quot;.&quot; may be a wise move though.&lt;/p&gt;

&lt;p&gt;Let&apos;s keep the double delimiter notation, convenience is better.&lt;/p&gt;</comment>
                            <comment id="12409687" author="ebourg" created="Fri, 16 Dec 2005 02:25:04 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-59&quot; title=&quot;[configuration] XMLConfiguration doesn&amp;#39;t support attribute names with a dot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-59&quot;&gt;&lt;del&gt;COM-2646&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333594" name="ASF.LICENSE.NOT.GRANTED--dot.diff" size="1106" author="oheger" created="Mon, 27 Jun 2005 02:46:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35509</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jun 2005 01:47:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-84] [configuration] ConfigurationUtils.copy() does not work for XMLConfigurations with repeated keys</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-84</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Copying an XMLConfiguration using the ConfigurationUtils.copy() method does &lt;br/&gt;
not work if there are repeated keys.  The end result is an XMLConfiguration &lt;br/&gt;
with a majority of its properties missing because only the first property &lt;br/&gt;
value for a repeated key is copied to the configuration.&lt;/p&gt;

&lt;p&gt;This can be repeated by taking the example database tables XML file on the &lt;br/&gt;
Jakarta Commons Configuration webpage, loading the configuration into an XML &lt;br/&gt;
configuration, creating a new XMLConfiguration using the empty constructor, &lt;br/&gt;
copying the first to the second using the ConfigurationUtils.copy() method, &lt;br/&gt;
and then perform the property queries as described on the webpage.  For &lt;br/&gt;
example, calling getProperty() for &apos;tables.table(2).name&apos; will fail on the new &lt;br/&gt;
configuration after the original configuration is copied.&lt;/p&gt;

&lt;p&gt;This copying is the basis of my entire implementation because I want to be &lt;br/&gt;
able to copy an XMLConfiguration without having to go to the operating system &lt;br/&gt;
and reload a copy from disc.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342379">CONFIGURATION-84</key>
            <summary>[configuration] ConfigurationUtils.copy() does not work for XMLConfigurations with repeated keys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jamock@mindspring.com">Jeffrey Mock</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jul 2005 03:28:25 +0000</created>
                <updated>Tue, 16 May 2006 12:11:39 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:11:39 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409817" author="oliver.heger@t-online.de" created="Tue, 19 Jul 2005 03:57:24 +0000"  >&lt;p&gt;You are right, the ConfigurationUtils.copy() method does not work correctly with&lt;br/&gt;
hierarchical configurations. I assume that all properties are copied, but the&lt;br/&gt;
hierarchical structure is lost. That&apos;s why getter methods do not return any data&lt;br/&gt;
for keys with indices.&lt;/p&gt;

&lt;p&gt;Unfortunately this issue is not easy to fix. The current copy() implementation&lt;br/&gt;
is quite generic, a copy for hierarchical configurations must be implemented&lt;br/&gt;
differently because the hierarchical tree of properties must be taken into&lt;br/&gt;
account. What makes things even more complicated is the fact that the property&lt;br/&gt;
trees of the source and destination configuration must be correctly merged,&lt;br/&gt;
otherwise the accessor methods would not work as expected. This merge is non&lt;br/&gt;
trivial.&lt;/p&gt;

&lt;p&gt;What I could offer you is a clone() method in HierarchicalConfiguration. Cloning&lt;br/&gt;
is much easier because no merge of the resulting property trees has to be&lt;br/&gt;
performed (the target tree is empty). Would this be useful for you?&lt;/p&gt;

&lt;p&gt;However for XMLConfiguration the clone() method will have the limitation that&lt;br/&gt;
certain information about the original XML document (e.g. comments or processing&lt;br/&gt;
instructions) is lost. This is because an XMLConfiguration instance that was&lt;br/&gt;
loaded from an XML document associates its properties with the corresponding XML&lt;br/&gt;
elements; if they are changed, the document is updated, too. Now if an&lt;br/&gt;
XMLConfiguration object is cloned, the clone must not point to the same document&lt;br/&gt;
to avoid inconsistencies if both objects are changed.&lt;/p&gt;</comment>
                            <comment id="12409818" author="jamock@mindspring.com" created="Tue, 19 Jul 2005 08:41:35 +0000"  >&lt;p&gt;Actually... I had to do exactly what you described.  I had to traverse the &lt;br/&gt;
tree and copy the property values from one configuration to another.  A clone &lt;br/&gt;
method would be beneficial (I was hoping for that as well when I ran into this &lt;br/&gt;
problem) for others who run into this.&lt;/p&gt;

&lt;p&gt;Is there any other way in the Configuration API to create an XMLConfiguration &lt;br/&gt;
from another without reloading from an external source?  I didn&apos;t want to have &lt;br/&gt;
to keep going to the disc to get a new copy of my configuration if I didn&apos;t &lt;br/&gt;
have to.&lt;/p&gt;

&lt;p&gt;My big thing is the documentation needs to be updated to reflect that the &lt;br/&gt;
ConfigurationUtils is not applicable to HierarchicalConfigurations.  If I knew &lt;br/&gt;
this ahead of time, I would have pursued other avenues.&lt;/p&gt;</comment>
                            <comment id="12409819" author="oliver.heger@t-online.de" created="Fri, 22 Jul 2005 02:22:37 +0000"  >&lt;p&gt;I added a clone() method to HierarchicalConfiguration (and to XMLConfiguration&lt;br/&gt;
to deal with the stored XML document) and also updated the javadocs for&lt;br/&gt;
ConfigurationUtils.copy().&lt;/p&gt;

&lt;p&gt;Please let me know if this issue can be closed now.&lt;/p&gt;</comment>
                            <comment id="12409820" author="oliver.heger@t-online.de" created="Mon, 22 Aug 2005 02:16:21 +0000"  >&lt;p&gt;Got no feedback, so closing this now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Jul 2005 03:57:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169786</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-83] [configuration] properties file with include in subdir does not work as expected</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-83</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I use a Configuration Factory to create a Composite Configuration which points&lt;br/&gt;
to properties files in subdirectories. If these properties files use the include&lt;br/&gt;
statement to include other files, these files are expected at the root directory&lt;br/&gt;
instead of the directory of the properties files. &lt;br/&gt;
eg:&lt;br/&gt;
config/config.xml (points to properties files below)&lt;br/&gt;
config/module1/module1.properties&lt;br/&gt;
config/module1/extra.properties&lt;br/&gt;
config/module2/module2.properties&lt;/p&gt;

&lt;p&gt;If I want to include extra.properties in module1.properties, then I need to&lt;br/&gt;
write include=module1/extra.properties, which is ackward&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342514">CONFIGURATION-83</key>
            <summary>[configuration] properties file with include in subdir does not work as expected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="denis.koelewijn@atosorigin.com">Denis Koelewijn</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Aug 2005 01:10:51 +0000</created>
                <updated>Tue, 16 May 2006 12:10:21 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:10:21 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410264" author="oliver.heger@t-online.de" created="Sun, 28 Aug 2005 01:04:01 +0000"  >&lt;p&gt;PropertiesConfiguration was modified to search for include files relative to its&lt;br/&gt;
own location, too, if they could not be found in the base path. This should&lt;br/&gt;
solve this problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 28 Aug 2005 01:04:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110677</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tgo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170010</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-82] [configuration] ServletRequestConfiguration getList null pointer exception</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-82</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;There seems to be a problem when retrieving a list from the&lt;br/&gt;
ServletRequestConfiguration.  This apears to be because the getProperty() uses&lt;br/&gt;
getPrarameter(key) rather than getParameterValues().  I suggest the method&lt;br/&gt;
should look something like (limited testing show that this works):&lt;/p&gt;

&lt;p&gt;    public Object getProperty(String key)&lt;br/&gt;
    {&lt;br/&gt;
        String[] props = request.getParameterValues(key); &lt;br/&gt;
        Object result;&lt;br/&gt;
        List results;&lt;/p&gt;

&lt;p&gt;        if (props != null) &lt;/p&gt;
{
            result = null;
        }
&lt;p&gt; else if ( props.length &amp;gt; 1 ) &lt;/p&gt;
{
            results = Arrays.asList(props);
            result = results;
        }
&lt;p&gt; else &lt;/p&gt;
{
            result = props[0];
        }

&lt;p&gt;        return result;&lt;br/&gt;
    }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342068">CONFIGURATION-82</key>
            <summary>[configuration] ServletRequestConfiguration getList null pointer exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="doychi-lists@doychi-dina.ath.cx">Justin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Feb 2005 11:20:50 +0000</created>
                <updated>Tue, 16 May 2006 11:23:50 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:50 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408760" author="ebourg" created="Mon, 21 Feb 2005 18:56:10 +0000"  >&lt;p&gt;Yes good idea, I&apos;ll integrate it.&lt;/p&gt;</comment>
                            <comment id="12408761" author="ebourg" created="Mon, 21 Feb 2005 20:42:01 +0000"  >&lt;p&gt;I applied your suggestion, thank you Justin. I changed the other web&lt;br/&gt;
configurations to handle lists as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33666</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Feb 2005 18:56:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169887</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-81] [configuration] resolveContainerStore doesn&apos;t work with arrays</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-81</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The resolveContainerStore method in AbstractConfiguration doesn&apos;t handle arrays.&lt;br/&gt;
If an array of values is stored in the configuration instead of a List,&lt;br/&gt;
resolveContainerStore returns the whole array instead of the first element.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342126">CONFIGURATION-81</key>
            <summary>[configuration] resolveContainerStore doesn&apos;t work with arrays</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Mar 2005 00:09:41 +0000</created>
                <updated>Tue, 16 May 2006 12:15:12 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:15:12 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408937" author="ebourg" created="Tue, 22 Mar 2005 03:00:30 +0000"  >&lt;p&gt;Fixed in rev 158491:&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewcvs.cgi?rev=158491&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi?rev=158491&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34104</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-80] [configuration] ConfigurationFactory not working as expected with include path resolution</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-80</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Documentation states that ConfigurationFactory searches includes in a directory&lt;br/&gt;
relative to the one including conf is located...&lt;/p&gt;

&lt;p&gt;Actually, some problem in various initializer methods of ConfigurationFactory&lt;br/&gt;
makes it happen a way that is not natural.&lt;/p&gt;


&lt;p&gt;ConfigurationFactory() empty constructor sets the basePath to &quot;.&quot;. This is okay,&lt;br/&gt;
but when calling setConfigurationFileName, &lt;/p&gt;

&lt;p&gt;public void setConfigurationFileName(String configurationFileName)&lt;/p&gt;
    {
        File file = new File(configurationFileName).getAbsoluteFile();
        this.configurationFileName = file.getName();
        implicitBasePath = file.getParent();
    }


&lt;p&gt;basePath is not reset to null... so a call to getBasePath will not return the&lt;br/&gt;
implicitBasePath as stated.&lt;/p&gt;

&lt;p&gt;    public String getBasePath()&lt;/p&gt;
    {
        String path = StringUtils.isEmpty(basePath) ? implicitBasePath : basePath;
        return StringUtils.isEmpty(path) ? &quot;.&quot; : path;
    }


&lt;p&gt;using ConfigurationFactory(String configurationFileName) does not help, since it&lt;br/&gt;
does not use setConfigurationFileName , so it does not set implicitBasePath&lt;/p&gt;

&lt;p&gt;    public ConfigurationFactory(String configurationFileName)&lt;/p&gt;
    {
        this.configurationFileName = configurationFileName;
    }

&lt;p&gt;A work-around solution to these problems is to set the basePath to null&lt;br/&gt;
explicitely after instanciation/setup...&lt;/p&gt;


&lt;p&gt;a possible correction is to modify the constructor and the setter like this:&lt;/p&gt;

&lt;p&gt;    public ConfigurationFactory(String configurationFileName)&lt;/p&gt;
    {  
        setConfigurationFileName(configurationFileName);
    }

&lt;p&gt;    public void setConfigurationFileName(String configurationFileName)&lt;/p&gt;
    {
        File file = new File(configurationFileName).getAbsoluteFile();
        this.configurationFileName = file.getName();
        this.basePath = null;
        implicitBasePath = file.getParent();
    }</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342300">CONFIGURATION-80</key>
            <summary>[configuration] ConfigurationFactory not working as expected with include path resolution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="fabien.nisol@videotron.ca">Fabien Nisol</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Jun 2005 02:38:12 +0000</created>
                <updated>Tue, 16 May 2006 12:13:02 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:13:02 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409542" author="fabien.nisol@videotron.ca" created="Sat, 11 Jun 2005 02:40:44 +0000"  >&lt;p&gt;Created an attachment (id=15368)&lt;br/&gt;
correction to 155408&lt;/p&gt;

&lt;p&gt;minor corrections to ConfigurationFactory(String) and&lt;br/&gt;
setConfigurationFileName()&lt;/p&gt;</comment>
                            <comment id="12409543" author="ebourg" created="Sat, 11 Jun 2005 05:54:23 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-68&quot; title=&quot;[configuration] ConfigurationFactory not working as expected with include path resolution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-68&quot;&gt;&lt;del&gt;COM-2147&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12409544" author="hoju" created="Fri, 22 Jul 2005 00:16:47 +0000"  >&lt;p&gt;This is the only problem I ran into using commons-configuration.  To work around&lt;br/&gt;
it, I simply did something like...&lt;/p&gt;

&lt;p&gt;ConfigurationFactory factory = new ConfigurationFactory(&quot;etc/props/config.xml&quot;);&lt;br/&gt;
factory.setBasePath(&quot;etc/props&quot;);&lt;/p&gt;

&lt;p&gt;It would be nice not to have to make the setBasePath() call as it seems pretty&lt;br/&gt;
unnecessary.  Seems like this should be an easy fix.&lt;/p&gt;


&lt;p&gt;Jake&lt;/p&gt;</comment>
                            <comment id="12409545" author="fabien.nisol@videotron.ca" created="Fri, 22 Jul 2005 10:07:34 +0000"  >&lt;p&gt;If you look into the code, calling factory.setBasePath(null) will have the same&lt;br/&gt;
effect&lt;/p&gt;

&lt;p&gt;Fabien&lt;/p&gt;

&lt;p&gt;(In reply to comment #3)&lt;br/&gt;
&amp;gt; This is the only problem I ran into using commons-configuration.  To work around&lt;br/&gt;
&amp;gt; it, I simply did something like...&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; ConfigurationFactory factory = new ConfigurationFactory(&quot;etc/props/config.xml&quot;);&lt;br/&gt;
&amp;gt; factory.setBasePath(&quot;etc/props&quot;);&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; It would be nice not to have to make the setBasePath() call as it seems pretty&lt;br/&gt;
&amp;gt; unnecessary.  Seems like this should be an easy fix.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Jake&lt;/p&gt;</comment>
                            <comment id="12409546" author="oliver.heger@t-online.de" created="Sun, 21 Aug 2005 03:38:17 +0000"  >&lt;p&gt;I had a look into this one and agree that there is a problem with the base path.&lt;/p&gt;

&lt;p&gt;However the proposed solution to set the base path to null whenever a file name&lt;br/&gt;
was set would break the following use case:&lt;/p&gt;

&lt;p&gt;factory.setBasePath(&quot;my base path&quot;);&lt;br/&gt;
factory.setConfigurationFileName(&quot;myFile.xml&quot;);&lt;/p&gt;

&lt;p&gt;I.e. if a base path was set first, a following call to&lt;br/&gt;
setConfigurationFileName() must not override this path.&lt;/p&gt;

&lt;p&gt;What I have tested so far is to change the getBasePath() implementation to&lt;br/&gt;
return the implicit base path (which is derived from the file name) if the base&lt;br/&gt;
path is either null or &quot;.&quot;. This should work in both cases.&lt;/p&gt;

&lt;p&gt;But after that a couple of unit tests are failing. Obviously some of our test&lt;br/&gt;
files for ConfigurationFactory rely on this wrong behavior (these files include&lt;br/&gt;
other files with a relative path like &quot;conf/test.xml&quot; instead of simply&lt;br/&gt;
&quot;test.xml&quot; - and I sometimes asked myself why they did work).&lt;/p&gt;

&lt;p&gt;So the question is how to deal with this situation. The clean solution IMO would&lt;br/&gt;
be to update the affected test files and make the change to&lt;br/&gt;
ConfigurationFactory. But I am not sure about the impact for existing code.&lt;/p&gt;

&lt;p&gt;What do others think?&lt;/p&gt;</comment>
                            <comment id="12409547" author="hoju" created="Sun, 21 Aug 2005 09:53:09 +0000"  >&lt;p&gt;Seems odd to me that one expect that file-based resources referenced from within&lt;br/&gt;
a config.xml file would need to be specified with a full relative path from&lt;br/&gt;
which the config.xml was originally loaded.  But that seems to be what you say&lt;br/&gt;
your unit tests expect.  That&apos;s very weird to me.  I wouldn&apos;t expect many people&lt;br/&gt;
to have made that assumption.  So, you are saying that you load up a config.xml&lt;br/&gt;
file as such...&lt;/p&gt;

&lt;p&gt;ConfigurationFactory factory = new ConfigurationFactory(&quot;etc/props/config.xml&quot;);&lt;/p&gt;

&lt;p&gt;And then the config.xml would look something like this?...&lt;/p&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
  &amp;lt;properties fileName=&quot;etc/props/usergui.properties&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;First, I can&apos;t fathom anyone else making this assumption.  Second, it makes the&lt;br/&gt;
config.xml file location dependent.  Put config.xml in any other path such as&lt;br/&gt;
&quot;etc/config&quot; and all of a sudden, usergui.properties can&apos;t be found anymore&lt;br/&gt;
without changing the file to look like...&lt;/p&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
  &amp;lt;properties fileName=&quot;etc/config/usergui.properties&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;Files referenced with a relative path within config.xml should be relative to&lt;br/&gt;
wherever config.xml happens to be.  That&apos;s clearly correct behavior and existing&lt;br/&gt;
commons-configuration behavior is clearly incorrect.  I don&apos;t think there is&lt;br/&gt;
much to think about here except fixing the bug.  Just make sure that the release&lt;br/&gt;
notes make it very clear that this change has been made.  Of course, for those&lt;br/&gt;
following my suggestion in comment #3, any change in behavior will be entirely&lt;br/&gt;
inconsequential, as opposed to the recommendation that one set the base path to&lt;br/&gt;
null, which takes advantage of existing behavior, but doesn&apos;t hold up well if&lt;br/&gt;
behavior changes.&lt;/p&gt;


&lt;p&gt;Jake&lt;/p&gt;</comment>
                            <comment id="12409548" author="oliver.heger@t-online.de" created="Mon, 22 Aug 2005 01:22:14 +0000"  >&lt;p&gt;I thought again about this problem and came to the same results. So thanks for&lt;br/&gt;
the confirmation.&lt;/p&gt;</comment>
                            <comment id="12409549" author="oliver.heger@t-online.de" created="Mon, 22 Aug 2005 02:15:12 +0000"  >&lt;p&gt;Fix applied and a new test case added. The test configuration files that rely on&lt;br/&gt;
the wrong behavior were updated, too.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333555" name="ASF.LICENSE.NOT.GRANTED--ConfigurationFactory.java" size="25074" author="fabien.nisol@videotron.ca" created="Sat, 11 Jun 2005 02:40:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35316</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 11 Jun 2005 05:54:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169842</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-79] [configuration] ConfigurationUtils.locate throws NullPointerException if the context ClassLoader is null</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-79</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;When the locate method attempts to find resource location from the context classpath &lt;br/&gt;
(lines 375-384 in ConfigurationUtils.java) it fails (on line 378) if the context &lt;br/&gt;
ClassLoader cannot be retrieved for the current thread.&lt;br/&gt;
I suppose this bug is quite difficult to reproduce. I came accross it when I and a &lt;br/&gt;
colleague of mine were testing a Java API (kept in one jar) that is called from C++ &lt;br/&gt;
application. In the static initializer of a Java class I used the next line to load &lt;br/&gt;
settings:&lt;br/&gt;
config = new PropertiesConfiguration(ConfigurationUtils.locate(&quot;properties/routing.&lt;br/&gt;
properties&quot;));&lt;br/&gt;
It worked fine if the class was used from another Java class that was normally loaded &lt;br/&gt;
by JVM (for example my tests passed). But when my Java classes were executed by JVM &lt;br/&gt;
started from C++ application it resulted in the next exception:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.configuration.ConfigurationUtils.&lt;br/&gt;
locate(ConfigurationUtils.java:378)&lt;br/&gt;
	at org.apache.commons.configuration.ConfigurationUtils.&lt;br/&gt;
locate(ConfigurationUtils.java:255)&lt;br/&gt;
...&lt;br/&gt;
It is obvious from the ConfigurationUtils code that loader variable got null value &lt;br/&gt;
(line 377) for some reason so the next step threw the exception.&lt;br/&gt;
I suppose this bug can be easily fixed (just to add an additional check if loader is &lt;br/&gt;
not null).&lt;br/&gt;
As a workaround I will try to call locate method with a given base parameter (but it &lt;br/&gt;
needs to determine location of my jar so it is a kind of overheads though it would &lt;br/&gt;
work I hope).&lt;/p&gt;

&lt;p&gt;Sorry for my English.&lt;/p&gt;

&lt;p&gt;Hope it is useful,&lt;br/&gt;
Denis&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12343006">CONFIGURATION-79</key>
            <summary>[configuration] ConfigurationUtils.locate throws NullPointerException if the context ClassLoader is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nomus@yandex.ru">nomus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Mar 2006 19:47:29 +0000</created>
                <updated>Tue, 16 May 2006 12:04:19 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:04:19 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12411694" author="ebourg" created="Fri, 31 Mar 2006 19:52:56 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 39169 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39170</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 31 Mar 2006 19:52:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0th67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-78] Inconsistent handling for keys that don&apos;t exist</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-78</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The getXXX(String key) methods in AbstractConfiguration are not consistent in &lt;br/&gt;
how they handle non-existing keys:&lt;br/&gt;
getProperty(String key) - returns null&lt;br/&gt;
getString(String key) - throws an exception if isThrowExceptionOnMissing is true&lt;br/&gt;
getShort(String key) - throws an exception&lt;br/&gt;
getStringArray(String key) - returns an empty array (why not null?)&lt;/p&gt;

&lt;p&gt;etc.&lt;/p&gt;

&lt;p&gt;I suggest that all these methods (include getProperty()) will check &lt;br/&gt;
isThrowExceptionOnMissing and if true, throw an exception.&lt;/p&gt;

&lt;p&gt;As it is, it makes it hard to extend this class, and use Configuration in &lt;br/&gt;
general.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12342123">CONFIGURATION-78</key>
            <summary>Inconsistent handling for keys that don&apos;t exist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ittayd@qlusters.com">Ittay Dror</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Mar 2005 16:23:14 +0000</created>
                <updated>Thu, 24 Mar 2016 20:13:02 +0000</updated>
                                                            <fixVersion>2.x</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12408914" author="ebourg" created="Mon, 21 Mar 2005 22:12:12 +0000"  >&lt;p&gt;(In reply to comment #0)&lt;br/&gt;
&amp;gt; The getXXX(String key) methods in AbstractConfiguration are not consistent in &lt;br/&gt;
&amp;gt; how they handle non-existing keys:&lt;br/&gt;
&amp;gt; getProperty(String key) - returns null&lt;/p&gt;

&lt;p&gt;getProperty() provides a direct access to the real object stored in the&lt;br/&gt;
configuration, it&apos;s similar to the get() method of the Map interface and should&lt;br/&gt;
not be affected by the throwExceptionOnMissing flag. If you really need this&lt;br/&gt;
feature we could add a getObject(String) method throwing an exception when the&lt;br/&gt;
key doesn&apos;t exist.&lt;/p&gt;

&lt;p&gt;&amp;gt; getString(String key) - throws an exception if isThrowExceptionOnMissing is true&lt;br/&gt;
&amp;gt; getShort(String key) - throws an exception&lt;/p&gt;

&lt;p&gt;getShort() returns a primitive value, we can&apos;t return a default value here even&lt;br/&gt;
if the throwExceptionOnMissing flag is not set.&lt;/p&gt;

&lt;p&gt;&amp;gt; getStringArray(String key) - returns an empty array (why not null?)&lt;/p&gt;

&lt;p&gt;Well, why null ? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; An empty array or list is more convenient, you don&apos;t have to&lt;br/&gt;
check if the value returned is null before using it. Changing the behaviour of&lt;br/&gt;
the getXXXArray/List methods when the throwExceptionOnMissing flag is set seems&lt;br/&gt;
to make sense.&lt;/p&gt;

&lt;p&gt;&amp;gt; I suggest that all these methods (include getProperty()) will check &lt;br/&gt;
&amp;gt; isThrowExceptionOnMissing and if true, throw an exception.&lt;/p&gt;

&lt;p&gt;&amp;gt; As it is, it makes it hard to extend this class, and use Configuration in &lt;br/&gt;
&amp;gt; general.&lt;/p&gt;

&lt;p&gt;Do you have a specific use case in mind showing how you are affected by this issue ?&lt;/p&gt;</comment>
                            <comment id="12408915" author="ittayd@qlusters.com" created="Tue, 22 Mar 2005 00:35:03 +0000"  >&lt;p&gt;my point is that as a user, i need to go to the javadoc every time i use a &lt;br/&gt;
getXXX() method, to know what they are doing. some i need to wrap with &apos;catch&apos;, &lt;br/&gt;
some i need to check for nullity, some i need to check for size(). i can&apos;t code &lt;br/&gt;
in eclipse, completing the methods as I type and be sure of how they behave.&lt;/p&gt;

&lt;p&gt;about throwing an exception. as you&apos;ve mentioned in getShort() you must throw an &lt;br/&gt;
exception. then why not throw it always? this will have the benefit of allowing &lt;br/&gt;
a user to set a property to null if he wishes. if that user wishes not to get an &lt;br/&gt;
exception, the rule is simple: use getProperty(key, null). in fact, i would &lt;br/&gt;
discourage the usage of getXXX(key) methods, maybe even removing them &lt;br/&gt;
altogether. the best approach is to always have the client tell you what the &lt;br/&gt;
default value is, rather than guessing it.&lt;/p&gt;
</comment>
                            <comment id="12408916" author="ebourg" created="Sat, 9 Jul 2005 00:49:34 +0000"  >&lt;p&gt;(In reply to comment #2)&lt;br/&gt;
&amp;gt; about throwing an exception. as you&apos;ve mentioned in getShort() you must throw an &lt;br/&gt;
&amp;gt; exception. then why not throw it always?&lt;/p&gt;

&lt;p&gt;This is just a matter of choice, some people prefer not to wrap the calls to the&lt;br/&gt;
configuration into a try/catch block and let the code break with a&lt;br/&gt;
NullPointerException or a NoSuchElementException at runtime.&lt;/p&gt;

&lt;p&gt;&amp;gt; this will have the benefit of allowing &lt;br/&gt;
&amp;gt; a user to set a property to null if he wishes.&lt;/p&gt;

&lt;p&gt;Something that &lt;span class=&quot;error&quot;&gt;&amp;#91;configuration&amp;#93;&lt;/span&gt; doesn&apos;t support currently, a null property is&lt;br/&gt;
equivalent to a non existing property.&lt;/p&gt;

&lt;p&gt;&amp;gt; if that user wishes not to get an &lt;br/&gt;
&amp;gt; exception, the rule is simple: use getProperty(key, null). in fact, i would &lt;br/&gt;
&amp;gt; discourage the usage of getXXX(key) methods, maybe even removing them &lt;br/&gt;
&amp;gt; altogether. the best approach is to always have the client tell you what the &lt;br/&gt;
&amp;gt; default value is, rather than guessing it.&lt;/p&gt;

&lt;p&gt;I agree that providing default values is a good practice, but here again some&lt;br/&gt;
people find it more convenient not to care about it, we try to support both&lt;br/&gt;
concepts.&lt;/p&gt;


&lt;p&gt;I suggest the following changes in order to improve the consistency of the API:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;throw an exception on calling getXXXArray() or getXXXList() for a missing&lt;br/&gt;
property when isThrowExceptionOnMissing is set.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;add a getObject(String key) method similar to getProperty() but throwing an&lt;br/&gt;
exception for a missing property when isThrowExceptionOnMissing is set. &lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;add a getObject(String key, Object defaultValue) method.&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12463121" author="oliver.heger@t-online.de" created="Mon, 8 Jan 2007 20:42:10 +0000"  >&lt;p&gt;Because such a change would affect existing code it should be made only in a major release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Mar 2005 22:12:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19x6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-77] [configuration]  PropertiesConfiguration constructor doesn&apos;t load resource from classpath.</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-77</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The PropertiesConfiguration(String fileName) constructor incorrectly handles the&lt;br/&gt;
fileName when the file name points to a configuration resource to be loaded from&lt;br/&gt;
the classpath.&lt;/p&gt;

&lt;p&gt;Test case:&lt;br/&gt;
mkdirs example/package/configuration/&lt;br/&gt;
make file example/package/configuration/test.properties containing&lt;br/&gt;
test.stuff=This is test stuff&lt;/p&gt;

&lt;p&gt;This code somewhere in above classpath&lt;br/&gt;
PropertiesConfigurations test1 =&lt;br/&gt;
PropertiesConfiguration(&quot;example/package/configuration/test.properties&quot;);&lt;br/&gt;
Causes Exception&lt;br/&gt;
org.apache.commons.configuration.ConfigurationException: Cannot locate&lt;br/&gt;
configuration source test.properties&lt;br/&gt;
       at&lt;br/&gt;
org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:183)&lt;br/&gt;
...&lt;br/&gt;
(Note only file part of resource path)&lt;/p&gt;

&lt;p&gt;If this is done&lt;br/&gt;
PropertiesConfiguration test2 = new PropertiesConfiguration();&lt;br/&gt;
test.setFileName(&quot;example/package/configuration/test.properties&quot;);&lt;br/&gt;
test.load();&lt;/p&gt;

&lt;p&gt;Configuration is loaded and properties can be accessed.&lt;/p&gt;

&lt;p&gt;Problem seems to be that, AbstractFileConfiguration(String) calls set path which&lt;br/&gt;
creates a File and breaks the string into basePath and fileName components. &lt;br/&gt;
Then load() occurs load occurs calling ConfigurationUtils.locate(basePath,&lt;br/&gt;
fileName).  ConfigrationsUtils.locate(String, String) only uses fileName when&lt;br/&gt;
looking for the resource on the system or context classpaths.&lt;/p&gt;

&lt;p&gt;Solution (maybe) to do things more like XMLConfiguration.&lt;br/&gt;
Will submit patch if i get time.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342180">CONFIGURATION-77</key>
            <summary>[configuration]  PropertiesConfiguration constructor doesn&apos;t load resource from classpath.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="petec33@gmail.com">Pete Cain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Apr 2005 17:38:31 +0000</created>
                <updated>Tue, 16 May 2006 12:14:33 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:14:33 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409119" author="petec33@gmail.com" created="Wed, 13 Apr 2005 14:17:19 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 34362 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0th93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170104</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-76] [configuration] Invalid subsets</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-76</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Configuration does not honor the prefix delimiter generating subsets:&lt;/p&gt;

&lt;p&gt;config:&lt;br/&gt;
test.a&lt;br/&gt;
testing.b&lt;/p&gt;

&lt;p&gt;subconfig = config.subset(&quot;test&quot;);&lt;/p&gt;

&lt;p&gt;subconfig:&lt;br/&gt;
a&lt;br/&gt;
ng.b&lt;/p&gt;

&lt;p&gt;Obviously subconfig should have contained only a.&lt;/p&gt;

&lt;p&gt;Patches for AbstractConfiguration and TestBaseConfiguration attached, all &lt;br/&gt;
junit tests work.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341303">CONFIGURATION-76</key>
            <summary>[configuration] Invalid subsets</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Mar 2004 16:51:51 +0000</created>
                <updated>Wed, 17 May 2006 13:09:08 +0000</updated>
                            <resolved>Wed, 17 May 2006 13:09:08 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12406121" author="joerg.schaible@gmx.de" created="Thu, 4 Mar 2004 16:53:05 +0000"  >&lt;p&gt;Created an attachment (id=10656)&lt;br/&gt;
src/java/org/apache/commons/configuration/AbstractConfiguration.java.diff&lt;/p&gt;</comment>
                            <comment id="12406122" author="joerg.schaible@gmx.de" created="Thu, 4 Mar 2004 16:53:26 +0000"  >&lt;p&gt;Created an attachment (id=10657)&lt;br/&gt;
src/test/org/apache/commons/configuration/TestBaseConfiguration.java.diff&lt;/p&gt;</comment>
                            <comment id="12406123" author="ebourg" created="Fri, 5 Mar 2004 01:42:46 +0000"  >&lt;p&gt;Another solution is to simply use:&lt;/p&gt;

&lt;p&gt;subconfig = config.subset(&quot;test.&quot;);&lt;/p&gt;</comment>
                            <comment id="12406124" author="joerg.schaible@gmx.de" created="Fri, 5 Mar 2004 02:39:26 +0000"  >&lt;p&gt;No:&lt;/p&gt;

&lt;p&gt;config:&lt;br/&gt;
test.abc&lt;br/&gt;
testing.xyz&lt;/p&gt;

&lt;p&gt;subconfig = config.subset(&quot;test&quot;);&lt;/p&gt;

&lt;p&gt;subconfig:&lt;br/&gt;
bc&lt;/p&gt;

&lt;p&gt;I am quite sure, this is not what you want. But you can enhance the UnitTest &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12406125" author="dep4b" created="Tue, 9 Mar 2004 07:51:09 +0000"  >&lt;p&gt;Thanks!  I have this applied and all the unit tests past.  First time I have &lt;br/&gt;
seen the Transformer class used, and wow..  very cool usage!  Anonymous Inner &lt;br/&gt;
class!  If you can give it a test?&lt;/p&gt;</comment>
                            <comment id="12406126" author="joerg.schaible@gmx.de" created="Tue, 9 Mar 2004 10:06:00 +0000"  >&lt;p&gt;Hi Eric, &lt;/p&gt;

&lt;p&gt;it seems you&apos;ve mixed up this bug report with something else. Neither seems your comment apply &lt;br/&gt;
to the patch nor is the reported bug fixed in CVS (did you mean 26994 ?). The new &lt;br/&gt;
SubsetConfiguration of Emmanual Bourgh &lt;br/&gt;
(&lt;a href=&quot;http://article.gmane.org/gmane.comp.jakarta.commons.devel/41897&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://article.gmane.org/gmane.comp.jakarta.commons.devel/41897&lt;/a&gt;) would have made this patch &lt;br/&gt;
additionally obsolete as already stated in that mail. &lt;/p&gt;

&lt;p&gt;While I saw, that you stated, that you&apos;ve applied Emmanuels patch also &lt;br/&gt;
(&lt;a href=&quot;http://article.gmane.org/gmane.comp.jakarta.commons.devel/42228&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://article.gmane.org/gmane.comp.jakarta.commons.devel/42228&lt;/a&gt;), I cannot see anything in &lt;br/&gt;
CVS. Therefore I&apos;ve reopened this bug again.  &lt;/p&gt;

&lt;p&gt;Regards, &lt;br/&gt;
J&#195;&#182;rg &lt;/p&gt;</comment>
                            <comment id="12406127" author="joerg.schaible@gmx.de" created="Tue, 9 Mar 2004 19:35:28 +0000"  >&lt;p&gt;Created an attachment (id=10723)&lt;br/&gt;
TestBaseConfiguration.java.2.diff&lt;/p&gt;</comment>
                            <comment id="12406128" author="joerg.schaible@gmx.de" created="Tue, 9 Mar 2004 19:38:01 +0000"  >&lt;p&gt;Eric,&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a new patch for the current code of the test case just covering &lt;br/&gt;
the original bug. Test runs fine though, so it is save to apply the patch.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
J&#195;&#182;rg&lt;/p&gt;</comment>
                            <comment id="12406129" author="dep4b" created="Tue, 9 Mar 2004 23:35:17 +0000"  >&lt;p&gt;Okay, patch applied..  I&apos;m going to mark it as closed now..   If something &lt;br/&gt;
doesn&apos;t look right, we can reopen it...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332768" name="ASF.LICENSE.NOT.GRANTED--AbstractConfiguration.java.diff" size="3620" author="joerg.schaible@gmx.de" created="Thu, 4 Mar 2004 16:53:05 +0000"/>
                            <attachment id="12332770" name="ASF.LICENSE.NOT.GRANTED--TestBaseConfiguration.java.diff" size="1441" author="joerg.schaible@gmx.de" created="Tue, 9 Mar 2004 19:35:28 +0000"/>
                            <attachment id="12332769" name="ASF.LICENSE.NOT.GRANTED--TestBaseConfiguration.java.diff" size="1349" author="joerg.schaible@gmx.de" created="Thu, 4 Mar 2004 16:53:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Mar 2004 16:53:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110672</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tf7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-75] [configuration] HierarchicalXMLConfiguration.setProperty() deletes subelements</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-75</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I just identified a new issue with HierarchicalXMLConfiguration. The method&lt;br/&gt;
setProperty does not sets a property correctly.&lt;/p&gt;

&lt;p&gt;Try out this simple piece of code:&lt;/p&gt;

&lt;p&gt;        Configuration myHierarchicalXMLConfig = new HierarchicalXMLConfiguration();&lt;br/&gt;
        Configuration myXMLConfig = new XMLConfiguration();&lt;br/&gt;
        myHierarchicalXMLConfig.setProperty(&quot;A.B&quot;, &quot;valueAB&quot;);&lt;br/&gt;
        myHierarchicalXMLConfig.setProperty(&quot;A&quot;, &quot;valueA&quot;);&lt;br/&gt;
        myXMLConfig.setProperty(&quot;A.B&quot;, &quot;valueAB&quot;);&lt;br/&gt;
        myXMLConfig.setProperty(&quot;A&quot;, &quot;valueA&quot;);&lt;br/&gt;
        System.out.println(&quot;myHierarchicalXMLConfig.getProperty(\&quot;A.B\&quot;)&quot;&lt;br/&gt;
                + myHierarchicalXMLConfig.getProperty(&quot;A.B&quot;));&lt;br/&gt;
        System.out.println(&quot;myXMLConfig.getProperty(\&quot;A.B\&quot;)&quot;&lt;br/&gt;
                + myXMLConfig.getProperty(&quot;A.B&quot;));&lt;/p&gt;


&lt;p&gt;The output on my WinXP system with the 1.0 release of commons configuration&lt;br/&gt;
using Java 1.4.2_06 is the following:&lt;/p&gt;

&lt;p&gt;myHierarchicalXMLConfig.getProperty(&quot;A.B&quot;)null&lt;br/&gt;
myXMLConfig.getProperty(&quot;A.B&quot;)valueAB&lt;/p&gt;

&lt;p&gt;I would expect both implementations of the interface Configuration to behave the&lt;br/&gt;
same way. This means that also myHierarchicalXMLConfig would keep its property&lt;br/&gt;
&quot;A.B&quot; with the associated value &quot;valueAB&quot; after inserting the key &quot;A&quot;.&lt;/p&gt;

&lt;p&gt;The problem occurs in a real world scenario, if I allow my application to change&lt;br/&gt;
values stored in the configuration before, i.e., if I try to set a new value for&lt;br/&gt;
&quot;A&quot; after the whole configuration has been read in.&lt;br/&gt;
Just using XMLConfiguration instead serves as a workaround, but I cannot save a&lt;br/&gt;
XMLConfiguration at the moment (see solved issue 32240).&lt;/p&gt;

&lt;p&gt;It would be nice, if this could be fixed.&lt;/p&gt;

&lt;p&gt;Best regards,&lt;/p&gt;

&lt;p&gt;Christian Kemmer&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341955">CONFIGURATION-75</key>
            <summary>[configuration] HierarchicalXMLConfiguration.setProperty() deletes subelements</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="christian.kemmer@viadee.de">Christian Kemmer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Dec 2004 22:00:15 +0000</created>
                <updated>Tue, 16 May 2006 12:17:21 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:17:21 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408375" author="oliver.heger@t-online.de" created="Wed, 22 Dec 2004 22:03:37 +0000"  >&lt;p&gt;Christian,&lt;/p&gt;

&lt;p&gt;I have already fixed this bug. Could you try this with the latest CVS head?&lt;/p&gt;

&lt;p&gt;Oliver&lt;/p&gt;</comment>
                            <comment id="12408376" author="christian.kemmer@viadee.de" created="Wed, 22 Dec 2004 22:23:44 +0000"  >&lt;p&gt;Hello Oliver,&lt;/p&gt;

&lt;p&gt;thanks a lot for your fast answer.&lt;br/&gt;
I can confirm that this bug has been fixed in the following nightly source-code&lt;br/&gt;
archive:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cvs.apache.org/builds/jakarta-commons/nightly/commons-configuration/commons-configuration-src-20041222.zip&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cvs.apache.org/builds/jakarta-commons/nightly/commons-configuration/commons-configuration-src-20041222.zip&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I hope to see this fix in the next official release.&lt;/p&gt;

&lt;p&gt;Thanks a lot.&lt;/p&gt;

&lt;p&gt;Best regards,&lt;/p&gt;

&lt;p&gt;Christian Kemmer&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Dec 2004 22:03:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169794</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-74] [configuration] getKeys() in HierarchicalConfiguration doesn&apos;t preserve the order of the keys</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-74</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The order of the keys returned by the getKeys() implementation of&lt;br/&gt;
HierarchicalConfiguration doesn&apos;t match the order of the nodes in the tree. This&lt;br/&gt;
is due to the HashSet in DefinedKeysVisitor, I suggest replacing it with a&lt;br/&gt;
ListOrderedSet from Commons Collections 3.1.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342409">CONFIGURATION-74</key>
            <summary>[configuration] getKeys() in HierarchicalConfiguration doesn&apos;t preserve the order of the keys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jul 2005 02:27:51 +0000</created>
                <updated>Tue, 16 May 2006 12:11:19 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:11:19 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409922" author="ebourg" created="Wed, 3 Aug 2005 00:46:29 +0000"  >&lt;p&gt;Fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[CONFIGURATION-73] [configuration] Auto save is not triggered on calling getKeys().remove()</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-73</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Given a file configuration with the auto save feature enabled, removing a&lt;br/&gt;
property through the getKeys() iterator does not trigger autoSave().&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342161">CONFIGURATION-73</key>
            <summary>[configuration] Auto save is not triggered on calling getKeys().remove()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Apr 2005 03:15:29 +0000</created>
                <updated>Tue, 16 May 2006 12:14:46 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:14:46 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409042" author="oliver.heger@t-online.de" created="Mon, 29 Aug 2005 03:22:28 +0000"  >&lt;p&gt;See comment for issue 33926.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Aug 2005 03:22:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0th2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>